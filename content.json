{"meta":{"title":"é‚„å·®åŠæ­¥","subtitle":null,"description":"äººç”Ÿæ²¡æœ‰æ‰€è°“çš„å½©æ’  æ¯å¤©éƒ½æ˜¯ç°åœºç›´æ’­","author":"pan","url":""},"pages":[{"title":"about","date":"2018-12-12T14:14:36.000Z","updated":"2019-07-11T15:09:24.000Z","comments":false,"path":"about/index.html","permalink":"/about/index.html","excerpt":"","text":"[ã‚ã¨åŠæ­©] ä¸&nbsp; pan&nbsp; ( çœŸã¾ç™½ã—ã‚ ) å¯¹è¯ä¸­... function bot_ui_ini() { var botui = new BotUI(\"hello-mashiro\"); botui.message.add({ delay: 800, content: \"Hi, ï¼ï¼ğŸ‘‹\" }).then(function () { botui.message.add({ delay: 1100, content: \"è¿™é‡Œæ˜¯ pan\" }).then(function () { botui.message.add({ delay: 1100, content: \"ä¸€ä¸ªå¤–å‡ºçš„è€å®…ç”·~\" }).then(function () { botui.action.button({ delay: 1600, action: [{ text: \"æƒ³äº†è§£ï¼Ÿ ğŸ˜ƒ\", value: \"sure\" }, { text: \"ç»“æŸï¼ ğŸ™„\", value: \"skip\" }] }).then(function (a) { \"sure\" == a.value && sure(); \"skip\" == a.value && end() }) }) }) }); var sure = function () { botui.message.add({ delay: 600, content: \"ğŸ˜˜\" }).then(function () { secondpart() }) }, end = function () { botui.message.add({ delay: 600, content: \"![...](https://view.moezx.cc/images/2018/05/06/a1c4cd0452528b572af37952489372b6.md.jpg)\" }) }, secondpart = function () { botui.message.add({ delay: 1500, content: \"ä¸Šç­ä¸€æ—ï¼Œæ¯å¤©è¿‡ç€å’¸é±¼èˆ¬çš„ç”Ÿæ´»ï¼\" }).then(function () { botui.message.add({ delay: 1500, content: \"å–œæ¬¢éšä¾¿ææï¼Œçˆ±æ¸¸æˆï¼Œèœé¸¡ä¸€ä¸ª\" }).then(function () { botui.message.add({ delay: 1200, content: \"äººç”Ÿè·¯æ¼«æ¼«ï¼Œæ€»è¦æ‰¾ç‚¹äº‹æƒ…åšï¼Œä¸èƒ½è®©è‡ªå·±é—²ä¸‹æ¥\" }).then(function () { botui.message.add({ delay: 1500, content: \"æ¸¸æˆç©ç‹è€…ï¼Œå–œæ¬¢çœ‹çƒ­è¡€åŠ¨æ¼«ï¼Œæç¬‘è§†é¢‘ï¼ŒçŸ¥è¯†æ–¹é¢ä»€ä¹ˆéƒ½å­¦ï¼Œä½†æ˜¯æ²¡æœ‰ä¸€æ–¹é¢æ˜¯ç²¾é€šçš„\" }).then(function () { botui.message.add({ delay: 1500, content: \"æœ‰æ—¶å€™ä¸€ä¸ªäººé™é™çš„å¬æ­Œå­¦ä¹ ï¼Œå¶å°”ä¼šå‡ºå»å¤œè·‘\" }).then(function () { botui.message.add({ delay: 1800, content: \"å¤å¤©äº†ï¼Œç‹¬è‡ªä¸€äººå¿å—ç‚ç‚çš„å¤æ—¥ï¼Œå¾ˆæ€€å¿µæœ‰ç©ºè°ƒå†°æ£è¥¿ç“œçš„æ—¥å­\" }).then(function () { botui.action.button({ delay: 1100, action: [{ text: \"ä¸ºä»€ä¹ˆä¸è£…ç©ºè°ƒï¼Ÿ ğŸ¤”\", value: \"why-mashiro\" }] }).then(function (a) { thirdpart() }) }) }) }) }) }) }) }, thirdpart = function () { botui.message.add({ delay: 1E3, content: \"ä¸»è¦æ˜¯å› ä¸ºè·åŒ…é‡Œæ²¡æœ‰cash\" }).then(function () { botui.action.button({ delay: 1500, action: [{ text: \"å†°æ£è¥¿ç“œæ€»ä¹°å¾—èµ·å§ï¼Ÿ ğŸ¤”\", value: \"why-cat\" }] }).then(function (a) { fourthpart() }) }) }, fourthpart = function () { botui.message.add({ delay: 1E3, content: \"å› ä¸ºï¼Œä¸è¯´äº†...\" }).then(function () { botui.message.add({ delay: 1100, content: \"è€Œä¸”...ï¼\" }).then(function () { botui.action.button({ delay: 1500, action: [{ text: \"çœ‹blog(à¸‡ â€¢_â€¢)à¸‡\", value: \"why-domain\" }] }).then(function (a) { fifthpart() }) }) }) }, fifthpart = function () { botui.message.add({ delay: 1E3, content: \"emmmm\" }).then(function () { botui.message.add({ delay: 1600, content: \"é‚£ä¹ˆï¼Œä»”ç»†çœ‹çœ‹æˆ‘çš„åšå®¢å§ï¼Ÿ ^_^\" }) }) } } bot_ui_ini()","keywords":"å…³äºåŠæ­¥"},{"title":"categories","date":"2019-07-18T12:45:16.000Z","updated":"2019-07-18T12:46:22.000Z","comments":false,"path":"categories/index.html","permalink":"/categories/index.html","excerpt":"","text":"","keywords":null},{"title":"client","date":"2018-12-20T15:13:35.000Z","updated":"2019-05-31T23:21:46.000Z","comments":false,"path":"client/index.html","permalink":"/client/index.html","excerpt":"","text":"ç›´æ¥ä¸‹è½½ or æ‰«ç ä¸‹è½½ï¼š","keywords":"Androidå®¢æˆ·ç«¯"},{"title":"comment","date":"2018-12-20T15:13:48.000Z","updated":"2019-07-11T14:08:36.000Z","comments":true,"path":"comment/index.html","permalink":"/comment/index.html","excerpt":"","text":"å¿µä¸¤å¥è¯— å™åˆ«æ¢¦ã€æ‰¬å·ä¸€è§‰ã€‚ ã€å®‹ä»£ã€‘å´æ–‡è‹±ã€Šå¤œæ¸¸å®«Â·äººå»è¥¿æ¥¼é›æ³ã€‹","keywords":"ç•™ä¸‹æ‚¨çš„è¶³è¿¹"},{"title":"lab","date":"2019-01-05T13:47:59.000Z","updated":"2019-05-31T23:21:46.000Z","comments":false,"path":"lab/index.html","permalink":"/lab/index.html","excerpt":"","text":"sakuraä¸»é¢˜balabala","keywords":"Labå®éªŒå®¤"},{"title":"bangumi","date":"2019-02-10T13:32:48.000Z","updated":"2019-07-03T07:54:40.000Z","comments":false,"path":"bangumi/index.html","permalink":"/bangumi/index.html","excerpt":"","text":"img:title:status: å·²è¿½å®Œprogress: 100jp:time: 2014-10-05 SUN.desc:","keywords":null},{"title":"links","date":"2018-12-19T15:11:06.000Z","updated":"2019-07-26T06:32:08.000Z","comments":true,"path":"links/index.html","permalink":"/links/index.html","excerpt":"","text":"","keywords":"å‹äººå¸"},{"title":"rss","date":"2018-12-20T15:09:03.000Z","updated":"2019-05-31T23:21:46.000Z","comments":true,"path":"rss/index.html","permalink":"/rss/index.html","excerpt":"","text":""},{"title":"","date":"2020-04-23T13:12:32.989Z","updated":"2019-07-28T03:05:34.000Z","comments":true,"path":"shijianzhou/demo.css","permalink":"/shijianzhou/demo.css","excerpt":"","text":"body, html { font-size: 100%; padding: 0; margin: 0;} /* Reset */ *, *:after, *:before { -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; } /* Clearfix hack by Nicolas Gallagher: http://nicolasgallagher.com/micro-clearfix-hack/ */ .clearfix:before, .clearfix:after { content: \" \"; display: table; } .clearfix:after { clear: both; } body{ background: #ffffff; color: #D5D6E2; font-weight: 500; font-size: 1.05em; font-family: \"Microsoft YaHei\",\"Segoe UI\", \"Lucida Grande\", Helvetica, Arial,sans-serif; }"},{"title":"donate","date":"2018-12-20T15:13:05.000Z","updated":"2019-05-31T23:21:46.000Z","comments":false,"path":"donate/index.html","permalink":"/donate/index.html","excerpt":"","text":"","keywords":"è°¢è°¢é¥²ä¸»äº†å–µ~"},{"title":"tags","date":"2018-12-12T14:14:16.000Z","updated":"2019-07-20T07:43:08.000Z","comments":true,"path":"tags/index.html","permalink":"/tags/index.html","excerpt":"","text":""},{"title":"music","date":"2018-12-20T15:14:28.000Z","updated":"2019-07-26T06:27:50.000Z","comments":false,"path":"music/index.html","permalink":"/music/index.html","excerpt":"","text":"ç½‘æ˜“äº‘éŸ³ä¹ Bç«™J.fla","keywords":"ç½‘æ˜“äº‘éŸ³ä¹äººç”Ÿ"},{"title":"theme-sakura","date":"2019-01-04T14:53:25.000Z","updated":"2019-07-30T13:23:28.000Z","comments":false,"path":"theme-sakura/index.html","permalink":"/theme-sakura/index.html","excerpt":"","text":"#screen { position: absolute; left:0; top:0; width: 100%; height: 100%; background:#000; perspective:500px; -webkit-perspective:500px; } .cube { position: absolute; top: 50%; left: 50%; width: 0; height: 0; margin: 0; user-select: none; transform-style: preserve-3d; -webkit-transform-style: preserve-3d; } .face { position: absolute; margin-left:-300px; margin-top:-200px; width:600px; height:400px; backface-visibility: hidden; -webkit-backface-visibility: hidden; transform-origin:50% 50%; -webkit-transform-origin:50% 50%; transition: outline 0.5s ease-in-out 0s; cursor: pointer; } .button { position: absolute; margin-left:-150px; margin-top:-100px; width:300px; height:200px; } .face:hover { outline: rgba(255,255,255,1) solid 10px !important; }","keywords":"Hexo ä¸»é¢˜ Sakura ğŸŒ¸"},{"title":"","date":"2020-04-23T13:12:32.988Z","updated":"2015-07-15T10:06:32.000Z","comments":true,"path":"theme-sakura/main.js","permalink":"/theme-sakura/main.js","excerpt":"","text":"! function () { \"use strict\"; // // ===== pointer library ===== // var screen = {}; (function() { this.elem = document.getElementById(\"screen\"), this.width = 0; this.height = 0; this.resize = function () { this.width = +this.elem.offsetWidth; this.height = +this.elem.offsetHeight; } this.elem.onselectstart = function() { return false; } this.elem.ondragstart = function() { return false; } window.addEventListener('resize', this.resize.bind(this), false); this.resize(); this.pointer = { x: 0, y: 0, dx: 0, dy: 0, touchMode: false, center: function (s) { this.dx *= s; this.dy *= s; endX = endY = 0; } } var started = false, startX = 0, startY = 0, endX = 0, endY = 0; this.addEvent = function (e, fn) { for (var i = 0, events = e.split(','); i < events.length; i++) { this.elem.addEventListener(events[i], fn.bind(this.pointer), false ); } } this.addEvent(\"mousemove,touchmove\", function (e) { e.preventDefault(); this.touchMode = e.targetTouches; var pointer = this.touchMode ? this.touchMode[0] : e; this.x = pointer.clientX; this.y = pointer.clientY; if (started) { this.dx = endX - (this.x - startX); this.dy = endY - (this.y - startY); } }); this.addEvent(\"mousedown,touchstart\", function (e) { e.preventDefault(); this.touchMode = e.targetTouches; var pointer = this.touchMode ? this.touchMode[0] : e; startX = this.x = pointer.clientX; startY = this.y = pointer.clientY; started = true; setTimeout(function () { if (!started && Math.abs(startX - this.x) < 11 && Math.abs(startY - this.y) < 11) { if (this.tap) this.tap(e); } }.bind(this), 200); }); this.addEvent(\"mouseup,touchend,touchcancel\", function (e) { e.preventDefault(); endX = this.dx; endY = this.dy; started = false; }); }).apply(screen); var pointer = screen.pointer; var transform = (typeof document.body.style.webkitTransform != \"undefined\") ? \"-webkit-transform\" : \"transform\"; // // ===== tweens engine ===== // var tweens = {}; (function() { var tweens = []; var proto = { normalPI: function () { if (Math.abs(this.target - this.value) > Math.PI) { if (this.target < this.value) this.value -= 2 * Math.PI; else this.value += 2 * Math.PI; } }, setTarget: function (target, speedMod) { this.speedMod = (speedMod) ? speedMod : 1; this.target = target; if (this.isAngle) { this.target = this.target % (2 * Math.PI); this.normalPI(); } if (this.running && this.oldTarget === target) return; this.oldTarget = target; this.running = true; this.prog = 0; this.from = this.value; this.dist = -(this.target - this.from) * 0.5; }, ease: function () { if (!this.running) return; var s = this.speedMod * this.steps; if (this.prog++ < s) { this.value = this.dist * (Math.cos(Math.PI * (this.prog / s)) - 1) + this.from; if (this.isAngle) this.normalPI(); } else { this.running = false; this.value = this.target; } } } this.add = function (steps, initValue, initValueTarget, isAngle) { var tween = Object.create(proto); tween.target = initValueTarget || 0; tween.value = initValue || 0; tween.steps = steps; tween.isAngle = isAngle || false; tween.speedMod = 1; tween.setTarget(tween.target); tweens.push(tween); return tween; } this.iterate = function () { for (var i = 0, len = tweens.length; i < len; i++) { tweens[i].ease(); } } }).apply(tweens); // // ===== css3D engine ===== // var cube = document.getElementById(\"cube\"); var faces = document.querySelectorAll(\".face\"); // ---- read computed matrix ---- var getComputedMatrix = function (elem) { var computedStyle = getComputedStyle(elem, null); var val = computedStyle.transform || computedStyle.webkitTransform; return val.split(/\\s*[(),]\\s*/).slice(1,-1); } // ---- initial transformation ---- for (var i = 0, len = faces.length; i < len; i++) { var face = faces[i]; face.style[transform] = face.getAttribute(\"data-transform\"); } // ---- target photo ---- pointer.tap = function (e) { if (e.target.className.indexOf(\"face\") >= 0) { var t = e.target.alt == \"\" ? e.target : document.getElementById(e.target.alt); camera.setTarget(t); } } // ---- set camera ----- var camera = { globalRX: 0, globalRY: 0, z: tweens.add(100, 0, 0), rx: tweens.add(100, 0, 0, true), ry: tweens.add(100, 0, 0, true), targeted: null, setTarget: function (elem) { // read transformation matrix var matrix = getComputedMatrix(elem); // determine target angles var rotateY = Math.asin(-matrix[2]); var rotateX = Math.atan2(+matrix[6], +matrix[10]); if (rotateY) rotateY -= Math.PI; if (rotateX) rotateX -= Math.PI; // set target if (this.targeted) { this.targeted.style.outline = \"rgba(0,0,0,1) solid 10px\"; } if (this.targeted != elem) { this.z.setTarget(600); if (elem.id == \"4\") { document.getElementById(\"7\").style.visibility = \"hidden\"; } if (elem.id == \"7\") { this.z.setTarget(-200); document.getElementById(\"7\").style.visibility = \"visible\"; } elem.style.outline = \"rgba(255,255,255,1) solid 10px\"; this.targeted = elem; } else { this.z.setTarget(0); if (elem.id == \"7\") { camera.setTarget(document.getElementById(\"1\")); return; } this.targeted = null; } // set target angles this.rx.setTarget(rotateX); this.ry.setTarget(rotateY); }, move: function () { tweens.iterate(); if (pointer.touchMode) { // interaction on touch mobiles var x = -pointer.dy * 0.001; var y = pointer.dx * 0.001; pointer.center(0.98); } else { // interaction with mouse var x = -(pointer.y - screen.height * 0.5) * 0.001; var y = +(pointer.x - screen.width * 0.5) * 0.001; } // ease global angles this.globalRX += ((x - this.globalRX) * 0.1); this.globalRY += ((y - this.globalRY) * 0.1); // cube transformation cube.style[transform] = \"translateZ(\"+ (this.z.value) + \"px) rotateX(\" + (this.rx.value + this.globalRX) + \"rad) rotateY(\" + (this.ry.value + this.globalRY) + \"rad)\"; } } // main loop var run = function () { requestAnimationFrame(run); camera.move(); } run(); }();"},{"title":"","date":"2020-04-23T13:12:32.989Z","updated":"2013-07-08T14:10:00.000Z","comments":true,"path":"theme-sakura/normalize.css","permalink":"/theme-sakura/normalize.css","excerpt":"","text":"article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block;}audio,canvas,video{display:inline-block;}audio:not([controls]){display:none;height:0;}[hidden]{display:none;}html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;}body{margin:0;}a:focus{outline:thin dotted;}a:active,a:hover{outline:0;}h1{font-size:2em;margin:0.67em 0;}abbr[title]{border-bottom:1px dotted;}b,strong{font-weight:bold;}dfn{font-style:italic;}hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0;}mark{background:#ff0;color:#000;}code,kbd,pre,samp{font-family:monospace,serif;font-size:1em;}pre{white-space:pre-wrap;}q{quotes:\"\\201C\" \"\\201D\" \"\\2018\" \"\\2019\";}small{font-size:80%;}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;}sup{top:-0.5em;}sub{bottom:-0.25em;}img{border:0;}svg:not(:root){overflow:hidden;}figure{margin:0;}fieldset{border:1px solid #c0c0c0;margin:0 2px;padding:0.35em 0.625em 0.75em;}legend{border:0;padding:0;}button,input,select,textarea{font-family:inherit;font-size:100%;margin:0;}button,input{line-height:normal;}button,select{text-transform:none;}button,html input[type=\"button\"],input[type=\"reset\"],input[type=\"submit\"]{-webkit-appearance:button;cursor:pointer;}button[disabled],html input[disabled]{cursor:default;}input[type=\"checkbox\"],input[type=\"radio\"]{box-sizing:border-box;padding:0;}input[type=\"search\"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box;}input[type=\"search\"]::-webkit-search-cancel-button,input[type=\"search\"]::-webkit-search-decoration{-webkit-appearance:none;}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0;}textarea{overflow:auto;vertical-align:top;}table{border-collapse:collapse;border-spacing:0;}"},{"title":"photos","date":"2019-07-11T06:57:07.000Z","updated":"2019-07-28T05:57:13.000Z","comments":false,"path":"shijianzhou/index.html","permalink":"/shijianzhou/index.html","excerpt":"","text":".main-timeline{ font-family: 'Roboto', sans-serif; padding: 20px 0; position: relative; } .main-timeline:before, .main-timeline:after{ content: ''; height: 40px; width: 40px; background-color: #e7e7e7; border-radius: 50%; border: 10px solid #303334; transform:translateX(-50%); position: absolute; left: 50%; top: -15px; z-index: 2; } .main-timeline:after{ top: auto; bottom:15px; } .main-timeline .timeline{ padding: 35px 0; margin-top: -30px; position: relative; z-index: 1; } .main-timeline .timeline:before, .main-timeline .timeline:after{ content: ''; height: 100%; width: 50%; border-radius: 100px 0 0 100px; border: 15px solid #46B2BC; border-right: none; position: absolute; left: 0; top: 0; z-index: -1; } .main-timeline .timeline:after{ height: calc(100% - 30px); width: calc(50% - 12px); border-color: #65C7D0; left: 12px; top: 15px; } .main-timeline .timeline-content{ display:inline-block; } .main-timeline .timeline-content:hover{ text-decoration: none; } .main-timeline .timeline-year{ color: #65C7D0; font-size: 50px; font-weight: 600; display: inline-block; transform:translateY(-50%); position: absolute; top: 50%; left: 10%; } .main-timeline .timeline-icon{ color: #65C7D0; font-size: 80px; display: inline-block; transform: translateY(-50%); position: absolute; left: 34%; top: 50%; } .main-timeline .content{ color: #909090; width: 40%; padding: 20px; display: -webkit-inline-box; float: right; } .main-timeline .title{ color: #65C7D0; font-size: 22px; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; margin: 0 0 5px 0; } .main-timeline .description{ font-size: 15px; letter-spacing: 1px; margin: 0; } .main-timeline .timeline:nth-child(even):before{ left: auto; right: 0; border-radius: 0 100px 100px 0; border: 15px solid red; border-left: none; } .main-timeline .timeline:nth-child(even):after{ left: auto; right: 12px; border: 15px solid green; border-left: none; border-radius: 0 100px 100px 0; } .main-timeline .timeline:nth-child(even) .content{ float: left; } .main-timeline .timeline:nth-child(even) .timeline-year{ left: auto; right: 10%; } .main-timeline .timeline:nth-child(even) .timeline-icon{ left: auto; right: 32%; } .main-timeline .timeline:nth-child(5n+2):before{ border-color: #EA3C14; } .main-timeline .timeline:nth-child(5n+2):after{ border-color: #EF5720; } .main-timeline .timeline:nth-child(5n+2) .timeline-icon{ color: #EA3C14; } .main-timeline .timeline:nth-child(5n+2) .timeline-year{ color: #EA3C14; } .main-timeline .timeline:nth-child(5n+2) .title{ color: #EA3C14; } .main-timeline .timeline:nth-child(5n+3):before{ border-color: #8CC63E; } .main-timeline .timeline:nth-child(5n+3):after{ border-color: #6CAF29; } .main-timeline .timeline:nth-child(5n+3) .timeline-icon{ color: #8CC63E; } .main-timeline .timeline:nth-child(5n+3) .timeline-year{ color: #8CC63E; } .main-timeline .timeline:nth-child(5n+3) .title{ color: #8CC63E; } .main-timeline .timeline:nth-child(5n+4):before{ border-color: #F99324; } .main-timeline .timeline:nth-child(5n+4):after{ border-color: #FBB03B; } .main-timeline .timeline:nth-child(5n+4) .timeline-icon{ color: #F99324; } .main-timeline .timeline:nth-child(5n+4) .timeline-year{ color: #F99324; } .main-timeline .timeline:nth-child(5n+4) .title{ color: #F99324; } .main-timeline .timeline:nth-child(5n+5):before{ border-color: #0071BD; } .main-timeline .timeline:nth-child(5n+5):after{ border-color: #0050A3; } .main-timeline .timeline:nth-child(5n+5) .timeline-icon{ color: #0071BD; } .main-timeline .timeline:nth-child(5n+5) .timeline-year{ color: #0071BD; } .main-timeline .timeline:nth-child(5n+5) .title{ color: #0071BD; } @media screen and (max-width:1200px){ .main-timeline .timeline:after{ border-radius: 88px 0 0 88px; } .main-timeline .timeline:nth-child(even):after{ border-radius: 0 88px 88px 0; } } @media screen and (max-width:767px){ .main-timeline .timeline{ margin-top: -19px; } .main-timeline .timeline:before { border-radius: 50px 0 0 50px; border-width: 10px; } .main-timeline .timeline:after { height: calc(100% - 18px); width: calc(50% - 9px); border-radius: 43px 0 0 43px; border-width:10px; top: 9px; left: 9px; } .main-timeline .timeline:nth-child(even):before { border-radius: 0 50px 50px 0; border-width: 10px; } .main-timeline .timeline:nth-child(even):after { height: calc(100% - 18px); width: calc(50% - 9px); border-radius: 0 43px 43px 0; border-width: 10px; top: 9px; right: 9px; } .main-timeline .timeline-icon{ font-size: 60px; } .main-timeline .timeline-year{ font-size: 40px; } } @media screen and (max-width:479px){ .main-timeline .timeline-icon{ font-size: 50px; transform:translateY(0); top: 25%; left: 10%; } .main-timeline .timeline-year{ font-size: 25px; transform:translateY(0); top: 65%; left: 9%; } .main-timeline .content{ width: 68%; padding: 10px; } .main-timeline .title{ font-size: 18px; } .main-timeline .timeline:nth-child(even) .timeline-icon{ right: 10%; } .main-timeline .timeline:nth-child(even) .timeline-year{ right: 9%; } } 2019 åå—æ–°ææ–™å›­â…£ æ»´æ»´æœºæˆ¿è¿ç»´çš„ç¬¬äºŒå¹´ 2018 åå—æ–°ææ–™å›­â…¢ æ»´æ»´æœºæˆ¿è¿ç»´ 2017 åå—æ–°ææ–™å›­â…¡ è…¾è®¯IDCå·¥ä½œçš„ç¬¬äºŒå¹´ 2016 åå—æ–°ææ–™å›­â…  ç¦»å¼€å—æ²™åï¼Œè¿˜æ˜¯é€‰æ‹©å‘†åœ¨æœºæˆ¿å½“è¿ç»´ï¼Œé©»è…¾è®¯IDCæœºæˆ¿ 2015 æ¯•ä¸š æ¯•ä¸šçš„å“ªä¸€å¹´ï¼Œå»å—æ²™äº‘è°·æœºæˆ¿å½“äº†å°è¿ç»´ï¼Œå·¥ä½œè¿˜ç®—è½»æ¾","keywords":"æ—¶é—´é•¿è·‘"},{"title":"video","date":"2018-12-20T15:14:38.000Z","updated":"2019-05-31T23:21:46.000Z","comments":false,"path":"video/index.html","permalink":"/video/index.html","excerpt":"","text":"var videos = [ { img: 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: 'æ”¾é€æ—¶é—´: 2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' }, { img : 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: '2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' } ] .should-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:95%;}.should-ellipsis-full{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;}.should-ellipsis i{position:absolute;right:24px;}.grey-text{color:#9e9e9e !important}.grey-text.text-darken-4{color:#212121 !important}html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}img{border-style:none}progress{display:inline-block;vertical-align:baseline}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{-webkit-box-sizing:border-box;box-sizing:border-box}*,*:before,*:after{-webkit-box-sizing:inherit;box-sizing:inherit}ul:not(.browser-default){padding-left:0;list-style-type:none}ul:not(.browser-default)>li{list-style-type:none}.card{-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2);box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2)}.hoverable{-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s}.hoverable:hover{-webkit-box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)}i{line-height:inherit}i.right{float:right;margin-left:15px}.bangumi .right{float:right !important}.material-icons{text-rendering:optimizeLegibility;-webkit-font-feature-settings:'liga';-moz-font-feature-settings:'liga';font-feature-settings:'liga'}.row{margin-left:auto;margin-right:auto;margin-bottom:20px}.row:after{content:\"\";display:table;clear:both}.row .col{float:left;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 .75rem;min-height:1px}.row .col.s12{width:100%;margin-left:auto;left:auto;right:auto}@media only screen and (min-width:601px){.row .col.m6{width:50%;margin-left:auto;left:auto;right:auto}}html{line-height:1.5;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif;font-weight:normal;color:rgba(0,0,0,0.87)}@media only screen and (min-width:0){html{font-size:14px}}@media only screen and (min-width:992px){html{font-size:14.5px}}@media only screen and (min-width:1200px){html{font-size:15px}}.card{position:relative;margin:.5rem 0 1rem 0;background-color:#fff;-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s;border-radius:2px}.card .card-title{font-size:24px;font-weight:300}.card .card-title.activator{cursor:pointer}.card .card-image{position:relative}.card .card-image img{display:block;border-radius:2px 2px 0 0;position:relative;left:0;right:0;top:0;bottom:0;width:100%}.card .card-content{padding:24px;border-radius:0 0 2px 2px}.card .card-content p{margin:0}.card .card-content .card-title{display:block;line-height:32px;margin-bottom:8px}.card .card-content .card-title i{line-height:32px}.card .card-reveal{padding:24px;position:absolute;background-color:#fff;width:100%;overflow-y:auto;left:0;top:100%;height:100%;z-index:3;display:none}.card .card-reveal .card-title{cursor:pointer;display:block}.waves-effect{position:relative;cursor:pointer;display:inline-block;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;vertical-align:middle;z-index:1;-webkit-transition:.3s ease-out;transition:.3s ease-out}.waves-effect img{position:relative;z-index:-1}.waves-block{display:block}::-webkit-input-placeholder{color:#d1d1d1}::-moz-placeholder{color:#d1d1d1}:-ms-input-placeholder{color:#d1d1d1}::-ms-input-placeholder{color:#d1d1d1}[type=\"radio\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"radio\"]:not(:checked)+span{position:relative;padding-left:35px;cursor:pointer;display:inline-block;height:25px;line-height:25px;font-size:1rem;-webkit-transition:.28s ease;transition:.28s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border-radius:50%}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border:2px solid #5a5a5a}[type=\"radio\"]:not(:checked)+span:after{-webkit-transform:scale(0);transform:scale(0)}[type=\"checkbox\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"checkbox\"]:not(:checked):disabled+span:not(.lever):before{border:none;background-color:rgba(0,0,0,0.42)}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):before{width:0;height:0;border:3px solid transparent;left:6px;top:10px;-webkit-transform:rotateZ(37deg);transform:rotateZ(37deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):after{height:20px;width:20px;background-color:transparent;border:2px solid #5a5a5a;top:0px;z-index:0}input[type=checkbox]:not(:disabled) ~ .lever:active:before,input[type=checkbox]:not(:disabled).tabbed:focus ~ .lever::before{-webkit-transform:scale(2.4);transform:scale(2.4);background-color:rgba(0,0,0,0.08)}input[type=range].focused:focus:not(.active)::-webkit-slider-thumb{-webkit-box-shadow:0 0 0 10px rgba(38,166,154,0.26);box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-moz-range-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-ms-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)} ç•ªç»„è®¡åˆ’ è¿™é‡Œå°†æ˜¯æ°¸è¿œçš„å›å¿† window.onload = function(){ videos.forEach(function(video, i){ $('#rootRow').append(` ${video.title} ${video.jp} ${video.status} ${video.title} ${video.jp} æ”¾é€æ—¶é—´: ${video.time} ${video.desc} ${video.status} `) }) }","keywords":"Bç«™"},{"title":"ç¾é£Ÿæ”¶å½•","date":"2019-07-01T03:12:46.000Z","updated":"2019-07-01T03:31:42.000Z","comments":false,"path":"ç¾é£Ÿæ”¶å½•/index.html","permalink":"/ç¾é£Ÿæ”¶å½•/index.html","excerpt":"","text":"æŸ æª¬é…¸è¾£å‡¤çˆª","keywords":"ç¾é£Ÿæ”¶å½•-æ—¥é£Ÿè®°"},{"title":"","date":"2020-04-23T13:12:32.990Z","updated":"2019-07-28T03:08:12.000Z","comments":true,"path":"shijianzhou/bootstrap-grid.min.css","permalink":"/shijianzhou/bootstrap-grid.min.css","excerpt":"","text":"/*! * Bootstrap v3.3.5 (http://getbootstrap.com) * Copyright 2011-2016 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE) */ /*! * Generated using the Bootstrap Customizer (http://getbootstrap.com/customize/?id=bb2d2388d48b31344c5e) * Config saved to config.json and https://gist.github.com/bb2d2388d48b31344c5e *//*! * Bootstrap v3.3.6 (http://getbootstrap.com) * Copyright 2011-2015 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE) *//*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:bold}dfn{font-style:italic}h1{font-size:2em;margin:0.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-0.5em}sub{bottom:-0.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace, monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=\"button\"],input[type=\"reset\"],input[type=\"submit\"]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=\"checkbox\"],input[type=\"radio\"]{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:0}input[type=\"number\"]::-webkit-inner-spin-button,input[type=\"number\"]::-webkit-outer-spin-button{height:auto}input[type=\"search\"]{-webkit-appearance:textfield;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box}input[type=\"search\"]::-webkit-search-cancel-button,input[type=\"search\"]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid #c0c0c0;margin:0 2px;padding:0.35em 0.625em 0.75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:bold}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}*:before,*:after{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}html{font-size:10px;-webkit-tap-highlight-color:rgba(0,0,0,0)}body{font-family:\"Helvetica Neue\",Helvetica,Arial,sans-serif;font-size:14px;line-height:1.42857143;color:#333;background-color:#fff}input,button,select,textarea{font-family:inherit;font-size:inherit;line-height:inherit}a{color:#337ab7;text-decoration:none}a:hover,a:focus{color:#23527c;text-decoration:underline}a:focus{outline:thin dotted;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}figure{margin:0}img{vertical-align:middle}.img-responsive{display:block;max-width:100%;height:auto}.img-rounded{border-radius:6px}.img-thumbnail{padding:4px;line-height:1.42857143;background-color:#fff;border:1px solid #ddd;border-radius:4px;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;display:inline-block;max-width:100%;height:auto}.img-circle{border-radius:50%}hr{margin-top:20px;margin-bottom:20px;border:0;border-top:1px solid #eee}.sr-only{position:absolute;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}[role=\"button\"]{cursor:pointer}h1,h2,h3,h4,h5,h6,.h1,.h2,.h3,.h4,.h5,.h6{font-family:inherit;font-weight:500;line-height:1.1;color:inherit}h1 small,h2 small,h3 small,h4 small,h5 small,h6 small,.h1 small,.h2 small,.h3 small,.h4 small,.h5 small,.h6 small,h1 .small,h2 .small,h3 .small,h4 .small,h5 .small,h6 .small,.h1 .small,.h2 .small,.h3 .small,.h4 .small,.h5 .small,.h6 .small{font-weight:normal;line-height:1;color:#777}h1,.h1,h2,.h2,h3,.h3{margin-top:20px;margin-bottom:10px}h1 small,.h1 small,h2 small,.h2 small,h3 small,.h3 small,h1 .small,.h1 .small,h2 .small,.h2 .small,h3 .small,.h3 .small{font-size:65%}h4,.h4,h5,.h5,h6,.h6{margin-top:10px;margin-bottom:10px}h4 small,.h4 small,h5 small,.h5 small,h6 small,.h6 small,h4 .small,.h4 .small,h5 .small,.h5 .small,h6 .small,.h6 .small{font-size:75%}h1,.h1{font-size:36px}h2,.h2{font-size:30px}h3,.h3{font-size:24px}h4,.h4{font-size:18px}h5,.h5{font-size:14px}h6,.h6{font-size:12px}p{margin:0 0 10px}.lead{margin-bottom:20px;font-size:16px;font-weight:300;line-height:1.4}@media (min-width:768px){.lead{font-size:21px}}small,.small{font-size:85%}mark,.mark{background-color:#fcf8e3;padding:.2em}.text-left{text-align:left}.text-right{text-align:right}.text-center{text-align:center}.text-justify{text-align:justify}.text-nowrap{white-space:nowrap}.text-lowercase{text-transform:lowercase}.text-uppercase{text-transform:uppercase}.text-capitalize{text-transform:capitalize}.text-muted{color:#777}.text-primary{color:#337ab7}a.text-primary:hover,a.text-primary:focus{color:#286090}.text-success{color:#3c763d}a.text-success:hover,a.text-success:focus{color:#2b542c}.text-info{color:#31708f}a.text-info:hover,a.text-info:focus{color:#245269}.text-warning{color:#8a6d3b}a.text-warning:hover,a.text-warning:focus{color:#66512c}.text-danger{color:#a94442}a.text-danger:hover,a.text-danger:focus{color:#843534}.bg-primary{color:#fff;background-color:#337ab7}a.bg-primary:hover,a.bg-primary:focus{background-color:#286090}.bg-success{background-color:#dff0d8}a.bg-success:hover,a.bg-success:focus{background-color:#c1e2b3}.bg-info{background-color:#d9edf7}a.bg-info:hover,a.bg-info:focus{background-color:#afd9ee}.bg-warning{background-color:#fcf8e3}a.bg-warning:hover,a.bg-warning:focus{background-color:#f7ecb5}.bg-danger{background-color:#f2dede}a.bg-danger:hover,a.bg-danger:focus{background-color:#e4b9b9}.page-header{padding-bottom:9px;margin:40px 0 20px;border-bottom:1px solid #eee}ul,ol{margin-top:0;margin-bottom:10px}ul ul,ol ul,ul ol,ol ol{margin-bottom:0}.list-unstyled{padding-left:0;list-style:none}.list-inline{padding-left:0;list-style:none;margin-left:-5px}.list-inline>li{display:inline-block;padding-left:5px;padding-right:5px}dl{margin-top:0;margin-bottom:20px}dt,dd{line-height:1.42857143}dt{font-weight:bold}dd{margin-left:0}@media (min-width:768px){.dl-horizontal dt{float:left;width:160px;clear:left;text-align:right;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dl-horizontal dd{margin-left:180px}}abbr[title],abbr[data-original-title]{cursor:help;border-bottom:1px dotted #777}.initialism{font-size:90%;text-transform:uppercase}blockquote{padding:10px 20px;margin:0 0 20px;font-size:17.5px;border-left:5px solid #eee}blockquote p:last-child,blockquote ul:last-child,blockquote ol:last-child{margin-bottom:0}blockquote footer,blockquote small,blockquote .small{display:block;font-size:80%;line-height:1.42857143;color:#777}blockquote footer:before,blockquote small:before,blockquote .small:before{content:'\\2014 \\00A0'}.blockquote-reverse,blockquote.pull-right{padding-right:15px;padding-left:0;border-right:5px solid #eee;border-left:0;text-align:right}.blockquote-reverse footer:before,blockquote.pull-right footer:before,.blockquote-reverse small:before,blockquote.pull-right small:before,.blockquote-reverse .small:before,blockquote.pull-right .small:before{content:''}.blockquote-reverse footer:after,blockquote.pull-right footer:after,.blockquote-reverse small:after,blockquote.pull-right small:after,.blockquote-reverse .small:after,blockquote.pull-right .small:after{content:'\\00A0 \\2014'}address{margin-bottom:20px;font-style:normal;line-height:1.42857143}.container{margin-right:auto;margin-left:auto;padding-left:15px;padding-right:15px}@media (min-width:768px){.container{width:750px}}@media (min-width:992px){.container{width:970px}}@media (min-width:1200px){.container{width:1170px}}.container-fluid{margin-right:auto;margin-left:auto;padding-left:15px;padding-right:15px}.row{margin-left:-15px;margin-right:-15px}.col-xs-1, .col-sm-1, .col-md-1, .col-lg-1, .col-xs-2, .col-sm-2, .col-md-2, .col-lg-2, .col-xs-3, .col-sm-3, .col-md-3, .col-lg-3, .col-xs-4, .col-sm-4, .col-md-4, .col-lg-4, .col-xs-5, .col-sm-5, .col-md-5, .col-lg-5, .col-xs-6, .col-sm-6, .col-md-6, .col-lg-6, .col-xs-7, .col-sm-7, .col-md-7, .col-lg-7, .col-xs-8, .col-sm-8, .col-md-8, .col-lg-8, .col-xs-9, .col-sm-9, .col-md-9, .col-lg-9, .col-xs-10, .col-sm-10, .col-md-10, .col-lg-10, .col-xs-11, .col-sm-11, .col-md-11, .col-lg-11, .col-xs-12, .col-sm-12, .col-md-12, .col-lg-12{position:relative;min-height:1px;padding-left:15px;padding-right:15px}.col-xs-1, .col-xs-2, .col-xs-3, .col-xs-4, .col-xs-5, .col-xs-6, .col-xs-7, .col-xs-8, .col-xs-9, .col-xs-10, .col-xs-11, .col-xs-12{float:left}.col-xs-12{width:100%}.col-xs-11{width:91.66666667%}.col-xs-10{width:83.33333333%}.col-xs-9{width:75%}.col-xs-8{width:66.66666667%}.col-xs-7{width:58.33333333%}.col-xs-6{width:50%}.col-xs-5{width:41.66666667%}.col-xs-4{width:33.33333333%}.col-xs-3{width:25%}.col-xs-2{width:16.66666667%}.col-xs-1{width:8.33333333%}.col-xs-pull-12{right:100%}.col-xs-pull-11{right:91.66666667%}.col-xs-pull-10{right:83.33333333%}.col-xs-pull-9{right:75%}.col-xs-pull-8{right:66.66666667%}.col-xs-pull-7{right:58.33333333%}.col-xs-pull-6{right:50%}.col-xs-pull-5{right:41.66666667%}.col-xs-pull-4{right:33.33333333%}.col-xs-pull-3{right:25%}.col-xs-pull-2{right:16.66666667%}.col-xs-pull-1{right:8.33333333%}.col-xs-pull-0{right:auto}.col-xs-push-12{left:100%}.col-xs-push-11{left:91.66666667%}.col-xs-push-10{left:83.33333333%}.col-xs-push-9{left:75%}.col-xs-push-8{left:66.66666667%}.col-xs-push-7{left:58.33333333%}.col-xs-push-6{left:50%}.col-xs-push-5{left:41.66666667%}.col-xs-push-4{left:33.33333333%}.col-xs-push-3{left:25%}.col-xs-push-2{left:16.66666667%}.col-xs-push-1{left:8.33333333%}.col-xs-push-0{left:auto}.col-xs-offset-12{margin-left:100%}.col-xs-offset-11{margin-left:91.66666667%}.col-xs-offset-10{margin-left:83.33333333%}.col-xs-offset-9{margin-left:75%}.col-xs-offset-8{margin-left:66.66666667%}.col-xs-offset-7{margin-left:58.33333333%}.col-xs-offset-6{margin-left:50%}.col-xs-offset-5{margin-left:41.66666667%}.col-xs-offset-4{margin-left:33.33333333%}.col-xs-offset-3{margin-left:25%}.col-xs-offset-2{margin-left:16.66666667%}.col-xs-offset-1{margin-left:8.33333333%}.col-xs-offset-0{margin-left:0}@media (min-width:768px){.col-sm-1, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6, .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-10, .col-sm-11, .col-sm-12{float:left}.col-sm-12{width:100%}.col-sm-11{width:91.66666667%}.col-sm-10{width:83.33333333%}.col-sm-9{width:75%}.col-sm-8{width:66.66666667%}.col-sm-7{width:58.33333333%}.col-sm-6{width:50%}.col-sm-5{width:41.66666667%}.col-sm-4{width:33.33333333%}.col-sm-3{width:25%}.col-sm-2{width:16.66666667%}.col-sm-1{width:8.33333333%}.col-sm-pull-12{right:100%}.col-sm-pull-11{right:91.66666667%}.col-sm-pull-10{right:83.33333333%}.col-sm-pull-9{right:75%}.col-sm-pull-8{right:66.66666667%}.col-sm-pull-7{right:58.33333333%}.col-sm-pull-6{right:50%}.col-sm-pull-5{right:41.66666667%}.col-sm-pull-4{right:33.33333333%}.col-sm-pull-3{right:25%}.col-sm-pull-2{right:16.66666667%}.col-sm-pull-1{right:8.33333333%}.col-sm-pull-0{right:auto}.col-sm-push-12{left:100%}.col-sm-push-11{left:91.66666667%}.col-sm-push-10{left:83.33333333%}.col-sm-push-9{left:75%}.col-sm-push-8{left:66.66666667%}.col-sm-push-7{left:58.33333333%}.col-sm-push-6{left:50%}.col-sm-push-5{left:41.66666667%}.col-sm-push-4{left:33.33333333%}.col-sm-push-3{left:25%}.col-sm-push-2{left:16.66666667%}.col-sm-push-1{left:8.33333333%}.col-sm-push-0{left:auto}.col-sm-offset-12{margin-left:100%}.col-sm-offset-11{margin-left:91.66666667%}.col-sm-offset-10{margin-left:83.33333333%}.col-sm-offset-9{margin-left:75%}.col-sm-offset-8{margin-left:66.66666667%}.col-sm-offset-7{margin-left:58.33333333%}.col-sm-offset-6{margin-left:50%}.col-sm-offset-5{margin-left:41.66666667%}.col-sm-offset-4{margin-left:33.33333333%}.col-sm-offset-3{margin-left:25%}.col-sm-offset-2{margin-left:16.66666667%}.col-sm-offset-1{margin-left:8.33333333%}.col-sm-offset-0{margin-left:0}}@media (min-width:992px){.col-md-1, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6, .col-md-7, .col-md-8, .col-md-9, .col-md-10, .col-md-11, .col-md-12{float:left}.col-md-12{width:70%}.col-md-11{width:91.66666667%}.col-md-10{width:83.33333333%}.col-md-9{width:75%}.col-md-8{width:66.66666667%}.col-md-7{width:58.33333333%}.col-md-6{width:50%}.col-md-5{width:41.66666667%}.col-md-4{width:33.33333333%}.col-md-3{width:25%}.col-md-2{width:16.66666667%}.col-md-1{width:8.33333333%}.col-md-pull-12{right:100%}.col-md-pull-11{right:91.66666667%}.col-md-pull-10{right:83.33333333%}.col-md-pull-9{right:75%}.col-md-pull-8{right:66.66666667%}.col-md-pull-7{right:58.33333333%}.col-md-pull-6{right:50%}.col-md-pull-5{right:41.66666667%}.col-md-pull-4{right:33.33333333%}.col-md-pull-3{right:25%}.col-md-pull-2{right:16.66666667%}.col-md-pull-1{right:8.33333333%}.col-md-pull-0{right:auto}.col-md-push-12{left:100%}.col-md-push-11{left:91.66666667%}.col-md-push-10{left:83.33333333%}.col-md-push-9{left:75%}.col-md-push-8{left:66.66666667%}.col-md-push-7{left:58.33333333%}.col-md-push-6{left:50%}.col-md-push-5{left:41.66666667%}.col-md-push-4{left:33.33333333%}.col-md-push-3{left:25%}.col-md-push-2{left:16.66666667%}.col-md-push-1{left:8.33333333%}.col-md-push-0{left:auto}.col-md-offset-12{margin-left:100%}.col-md-offset-11{margin-left:91.66666667%}.col-md-offset-10{margin-left:83.33333333%}.col-md-offset-9{margin-left:75%}.col-md-offset-8{margin-left:66.66666667%}.col-md-offset-7{margin-left:58.33333333%}.col-md-offset-6{margin-left:50%}.col-md-offset-5{margin-left:41.66666667%}.col-md-offset-4{margin-left:33.33333333%}.col-md-offset-3{margin-left:25%}.col-md-offset-2{margin-left:16.66666667%}.col-md-offset-1{margin-left:8.33333333%}.col-md-offset-0{margin-left:0}}@media (min-width:1200px){.col-lg-1, .col-lg-2, .col-lg-3, .col-lg-4, .col-lg-5, .col-lg-6, .col-lg-7, .col-lg-8, .col-lg-9, .col-lg-10, .col-lg-11, .col-lg-12{float:left}.col-lg-12{width:100%}.col-lg-11{width:91.66666667%}.col-lg-10{width:83.33333333%}.col-lg-9{width:75%}.col-lg-8{width:66.66666667%}.col-lg-7{width:58.33333333%}.col-lg-6{width:50%}.col-lg-5{width:41.66666667%}.col-lg-4{width:33.33333333%}.col-lg-3{width:25%}.col-lg-2{width:16.66666667%}.col-lg-1{width:8.33333333%}.col-lg-pull-12{right:100%}.col-lg-pull-11{right:91.66666667%}.col-lg-pull-10{right:83.33333333%}.col-lg-pull-9{right:75%}.col-lg-pull-8{right:66.66666667%}.col-lg-pull-7{right:58.33333333%}.col-lg-pull-6{right:50%}.col-lg-pull-5{right:41.66666667%}.col-lg-pull-4{right:33.33333333%}.col-lg-pull-3{right:25%}.col-lg-pull-2{right:16.66666667%}.col-lg-pull-1{right:8.33333333%}.col-lg-pull-0{right:auto}.col-lg-push-12{left:100%}.col-lg-push-11{left:91.66666667%}.col-lg-push-10{left:83.33333333%}.col-lg-push-9{left:75%}.col-lg-push-8{left:66.66666667%}.col-lg-push-7{left:58.33333333%}.col-lg-push-6{left:50%}.col-lg-push-5{left:41.66666667%}.col-lg-push-4{left:33.33333333%}.col-lg-push-3{left:25%}.col-lg-push-2{left:16.66666667%}.col-lg-push-1{left:8.33333333%}.col-lg-push-0{left:auto}.col-lg-offset-12{margin-left:100%}.col-lg-offset-11{margin-left:91.66666667%}.col-lg-offset-10{margin-left:83.33333333%}.col-lg-offset-9{margin-left:75%}.col-lg-offset-8{margin-left:66.66666667%}.col-lg-offset-7{margin-left:58.33333333%}.col-lg-offset-6{margin-left:50%}.col-lg-offset-5{margin-left:41.66666667%}.col-lg-offset-4{margin-left:33.33333333%}.col-lg-offset-3{margin-left:25%}.col-lg-offset-2{margin-left:16.66666667%}.col-lg-offset-1{margin-left:8.33333333%}.col-lg-offset-0{margin-left:0}}.btn{display:inline-block;margin-bottom:0;font-weight:normal;text-align:center;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;background-image:none;border:1px solid transparent;white-space:nowrap;padding:6px 12px;font-size:14px;line-height:1.42857143;border-radius:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.btn:focus,.btn:active:focus,.btn.active:focus,.btn.focus,.btn:active.focus,.btn.active.focus{outline:thin dotted;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}.btn:hover,.btn:focus,.btn.focus{color:#333;text-decoration:none}.btn:active,.btn.active{outline:0;background-image:none;-webkit-box-shadow:inset 0 3px 5px rgba(0,0,0,0.125);box-shadow:inset 0 3px 5px rgba(0,0,0,0.125)}.btn.disabled,.btn[disabled],fieldset[disabled] .btn{cursor:not-allowed;opacity:.65;filter:alpha(opacity=65);-webkit-box-shadow:none;box-shadow:none}a.btn.disabled,fieldset[disabled] a.btn{pointer-events:none}.btn-default{color:#333;background-color:#fff;border-color:#ccc}.btn-default:focus,.btn-default.focus{color:#333;background-color:#e6e6e6;border-color:#8c8c8c}.btn-default:hover{color:#333;background-color:#e6e6e6;border-color:#adadad}.btn-default:active,.btn-default.active,.open>.dropdown-toggle.btn-default{color:#333;background-color:#e6e6e6;border-color:#adadad}.btn-default:active:hover,.btn-default.active:hover,.open>.dropdown-toggle.btn-default:hover,.btn-default:active:focus,.btn-default.active:focus,.open>.dropdown-toggle.btn-default:focus,.btn-default:active.focus,.btn-default.active.focus,.open>.dropdown-toggle.btn-default.focus{color:#333;background-color:#d4d4d4;border-color:#8c8c8c}.btn-default:active,.btn-default.active,.open>.dropdown-toggle.btn-default{background-image:none}.btn-default.disabled:hover,.btn-default[disabled]:hover,fieldset[disabled] .btn-default:hover,.btn-default.disabled:focus,.btn-default[disabled]:focus,fieldset[disabled] .btn-default:focus,.btn-default.disabled.focus,.btn-default[disabled].focus,fieldset[disabled] .btn-default.focus{background-color:#fff;border-color:#ccc}.btn-default .badge{color:#fff;background-color:#333}.btn-primary{color:#fff;background-color:#337ab7;border-color:#2e6da4}.btn-primary:focus,.btn-primary.focus{color:#fff;background-color:#286090;border-color:#122b40}.btn-primary:hover{color:#fff;background-color:#286090;border-color:#204d74}.btn-primary:active,.btn-primary.active,.open>.dropdown-toggle.btn-primary{color:#fff;background-color:#286090;border-color:#204d74}.btn-primary:active:hover,.btn-primary.active:hover,.open>.dropdown-toggle.btn-primary:hover,.btn-primary:active:focus,.btn-primary.active:focus,.open>.dropdown-toggle.btn-primary:focus,.btn-primary:active.focus,.btn-primary.active.focus,.open>.dropdown-toggle.btn-primary.focus{color:#fff;background-color:#204d74;border-color:#122b40}.btn-primary:active,.btn-primary.active,.open>.dropdown-toggle.btn-primary{background-image:none}.btn-primary.disabled:hover,.btn-primary[disabled]:hover,fieldset[disabled] .btn-primary:hover,.btn-primary.disabled:focus,.btn-primary[disabled]:focus,fieldset[disabled] .btn-primary:focus,.btn-primary.disabled.focus,.btn-primary[disabled].focus,fieldset[disabled] .btn-primary.focus{background-color:#337ab7;border-color:#2e6da4}.btn-primary .badge{color:#337ab7;background-color:#fff}.btn-success{color:#fff;background-color:#5cb85c;border-color:#4cae4c}.btn-success:focus,.btn-success.focus{color:#fff;background-color:#449d44;border-color:#255625}.btn-success:hover{color:#fff;background-color:#449d44;border-color:#398439}.btn-success:active,.btn-success.active,.open>.dropdown-toggle.btn-success{color:#fff;background-color:#449d44;border-color:#398439}.btn-success:active:hover,.btn-success.active:hover,.open>.dropdown-toggle.btn-success:hover,.btn-success:active:focus,.btn-success.active:focus,.open>.dropdown-toggle.btn-success:focus,.btn-success:active.focus,.btn-success.active.focus,.open>.dropdown-toggle.btn-success.focus{color:#fff;background-color:#398439;border-color:#255625}.btn-success:active,.btn-success.active,.open>.dropdown-toggle.btn-success{background-image:none}.btn-success.disabled:hover,.btn-success[disabled]:hover,fieldset[disabled] .btn-success:hover,.btn-success.disabled:focus,.btn-success[disabled]:focus,fieldset[disabled] .btn-success:focus,.btn-success.disabled.focus,.btn-success[disabled].focus,fieldset[disabled] .btn-success.focus{background-color:#5cb85c;border-color:#4cae4c}.btn-success .badge{color:#5cb85c;background-color:#fff}.btn-info{color:#fff;background-color:#5bc0de;border-color:#46b8da}.btn-info:focus,.btn-info.focus{color:#fff;background-color:#31b0d5;border-color:#1b6d85}.btn-info:hover{color:#fff;background-color:#31b0d5;border-color:#269abc}.btn-info:active,.btn-info.active,.open>.dropdown-toggle.btn-info{color:#fff;background-color:#31b0d5;border-color:#269abc}.btn-info:active:hover,.btn-info.active:hover,.open>.dropdown-toggle.btn-info:hover,.btn-info:active:focus,.btn-info.active:focus,.open>.dropdown-toggle.btn-info:focus,.btn-info:active.focus,.btn-info.active.focus,.open>.dropdown-toggle.btn-info.focus{color:#fff;background-color:#269abc;border-color:#1b6d85}.btn-info:active,.btn-info.active,.open>.dropdown-toggle.btn-info{background-image:none}.btn-info.disabled:hover,.btn-info[disabled]:hover,fieldset[disabled] .btn-info:hover,.btn-info.disabled:focus,.btn-info[disabled]:focus,fieldset[disabled] .btn-info:focus,.btn-info.disabled.focus,.btn-info[disabled].focus,fieldset[disabled] .btn-info.focus{background-color:#5bc0de;border-color:#46b8da}.btn-info .badge{color:#5bc0de;background-color:#fff}.btn-warning{color:#fff;background-color:#f0ad4e;border-color:#eea236}.btn-warning:focus,.btn-warning.focus{color:#fff;background-color:#ec971f;border-color:#985f0d}.btn-warning:hover{color:#fff;background-color:#ec971f;border-color:#d58512}.btn-warning:active,.btn-warning.active,.open>.dropdown-toggle.btn-warning{color:#fff;background-color:#ec971f;border-color:#d58512}.btn-warning:active:hover,.btn-warning.active:hover,.open>.dropdown-toggle.btn-warning:hover,.btn-warning:active:focus,.btn-warning.active:focus,.open>.dropdown-toggle.btn-warning:focus,.btn-warning:active.focus,.btn-warning.active.focus,.open>.dropdown-toggle.btn-warning.focus{color:#fff;background-color:#d58512;border-color:#985f0d}.btn-warning:active,.btn-warning.active,.open>.dropdown-toggle.btn-warning{background-image:none}.btn-warning.disabled:hover,.btn-warning[disabled]:hover,fieldset[disabled] .btn-warning:hover,.btn-warning.disabled:focus,.btn-warning[disabled]:focus,fieldset[disabled] .btn-warning:focus,.btn-warning.disabled.focus,.btn-warning[disabled].focus,fieldset[disabled] .btn-warning.focus{background-color:#f0ad4e;border-color:#eea236}.btn-warning .badge{color:#f0ad4e;background-color:#fff}.btn-danger{color:#fff;background-color:#d9534f;border-color:#d43f3a}.btn-danger:focus,.btn-danger.focus{color:#fff;background-color:#c9302c;border-color:#761c19}.btn-danger:hover{color:#fff;background-color:#c9302c;border-color:#ac2925}.btn-danger:active,.btn-danger.active,.open>.dropdown-toggle.btn-danger{color:#fff;background-color:#c9302c;border-color:#ac2925}.btn-danger:active:hover,.btn-danger.active:hover,.open>.dropdown-toggle.btn-danger:hover,.btn-danger:active:focus,.btn-danger.active:focus,.open>.dropdown-toggle.btn-danger:focus,.btn-danger:active.focus,.btn-danger.active.focus,.open>.dropdown-toggle.btn-danger.focus{color:#fff;background-color:#ac2925;border-color:#761c19}.btn-danger:active,.btn-danger.active,.open>.dropdown-toggle.btn-danger{background-image:none}.btn-danger.disabled:hover,.btn-danger[disabled]:hover,fieldset[disabled] .btn-danger:hover,.btn-danger.disabled:focus,.btn-danger[disabled]:focus,fieldset[disabled] .btn-danger:focus,.btn-danger.disabled.focus,.btn-danger[disabled].focus,fieldset[disabled] .btn-danger.focus{background-color:#d9534f;border-color:#d43f3a}.btn-danger .badge{color:#d9534f;background-color:#fff}.btn-link{color:#337ab7;font-weight:normal;border-radius:0}.btn-link,.btn-link:active,.btn-link.active,.btn-link[disabled],fieldset[disabled] .btn-link{background-color:transparent;-webkit-box-shadow:none;box-shadow:none}.btn-link,.btn-link:hover,.btn-link:focus,.btn-link:active{border-color:transparent}.btn-link:hover,.btn-link:focus{color:#23527c;text-decoration:underline;background-color:transparent}.btn-link[disabled]:hover,fieldset[disabled] .btn-link:hover,.btn-link[disabled]:focus,fieldset[disabled] .btn-link:focus{color:#777;text-decoration:none}.btn-lg{padding:10px 16px;font-size:18px;line-height:1.3333333;border-radius:6px}.btn-sm{padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}.btn-xs{padding:1px 5px;font-size:12px;line-height:1.5;border-radius:3px}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:5px}input[type=\"submit\"].btn-block,input[type=\"reset\"].btn-block,input[type=\"button\"].btn-block{width:100%}.clearfix:before,.clearfix:after,.dl-horizontal dd:before,.dl-horizontal dd:after,.container:before,.container:after,.container-fluid:before,.container-fluid:after,.row:before,.row:after{content:\" \";display:table}.clearfix:after,.dl-horizontal dd:after,.container:after,.container-fluid:after,.row:after{clear:both}.center-block{display:block;margin-left:auto;margin-right:auto}.pull-right{float:right !important}.pull-left{float:left !important}.hide{display:none !important}.show{display:block !important}.invisible{visibility:hidden}.text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.hidden{display:none !important}.affix{position:fixed}@-ms-viewport{width:device-width}.visible-xs,.visible-sm,.visible-md,.visible-lg{display:none !important}.visible-xs-block,.visible-xs-inline,.visible-xs-inline-block,.visible-sm-block,.visible-sm-inline,.visible-sm-inline-block,.visible-md-block,.visible-md-inline,.visible-md-inline-block,.visible-lg-block,.visible-lg-inline,.visible-lg-inline-block{display:none !important}@media (max-width:767px){.visible-xs{display:block !important}table.visible-xs{display:table !important}tr.visible-xs{display:table-row !important}th.visible-xs,td.visible-xs{display:table-cell !important}}@media (max-width:767px){.visible-xs-block{display:block !important}}@media (max-width:767px){.visible-xs-inline{display:inline !important}}@media (max-width:767px){.visible-xs-inline-block{display:inline-block !important}}@media (min-width:768px) and (max-width:991px){.visible-sm{display:block !important}table.visible-sm{display:table !important}tr.visible-sm{display:table-row !important}th.visible-sm,td.visible-sm{display:table-cell !important}}@media (min-width:768px) and (max-width:991px){.visible-sm-block{display:block !important}}@media (min-width:768px) and (max-width:991px){.visible-sm-inline{display:inline !important}}@media (min-width:768px) and (max-width:991px){.visible-sm-inline-block{display:inline-block !important}}@media (min-width:992px) and (max-width:1199px){.visible-md{display:block !important}table.visible-md{display:table !important}tr.visible-md{display:table-row !important}th.visible-md,td.visible-md{display:table-cell !important}}@media (min-width:992px) and (max-width:1199px){.visible-md-block{display:block !important}}@media (min-width:992px) and (max-width:1199px){.visible-md-inline{display:inline !important}}@media (min-width:992px) and (max-width:1199px){.visible-md-inline-block{display:inline-block !important}}@media (min-width:1200px){.visible-lg{display:block !important}table.visible-lg{display:table !important}tr.visible-lg{display:table-row !important}th.visible-lg,td.visible-lg{display:table-cell !important}}@media (min-width:1200px){.visible-lg-block{display:block !important}}@media (min-width:1200px){.visible-lg-inline{display:inline !important}}@media (min-width:1200px){.visible-lg-inline-block{display:inline-block !important}}@media (max-width:767px){.hidden-xs{display:none !important}}@media (min-width:768px) and (max-width:991px){.hidden-sm{display:none !important}}@media (min-width:992px) and (max-width:1199px){.hidden-md{display:none !important}}@media (min-width:1200px){.hidden-lg{display:none !important}}.visible-print{display:none !important}@media print{.visible-print{display:block !important}table.visible-print{display:table !important}tr.visible-print{display:table-row !important}th.visible-print,td.visible-print{display:table-cell !important}}.visible-print-block{display:none !important}@media print{.visible-print-block{display:block !important}}.visible-print-inline{display:none !important}@media print{.visible-print-inline{display:inline !important}}.visible-print-inline-block{display:none !important}@media print{.visible-print-inline-block{display:inline-block !important}}@media print{.hidden-print{display:none !important}}"}],"posts":[{"title":"db2å®‰è£…","slug":"db2","date":"2020-04-25T08:53:47.000Z","updated":"2020-04-28T15:13:10.197Z","comments":true,"path":"2020/04/25/db2/","link":"","permalink":"/2020/04/25/db2/","excerpt":"","text":"ä¸€.å®‰è£…å‡†å¤‡ ç³»ç»Ÿç‰ˆæœ¬ï¼šCentOS7 å®‰è£…åŒ…ï¼šv9.7fp11_linuxx64_server.tar.gz è®¾ç½®è¯­è¨€ï¼šexport LANG=zh_CN.gbk &amp; vim /etc/locale.conf æ°¸ä¹…æ”¹å˜ #LANG=&quot;en_US.UTF-8&quot; LANG=&quot;zh_CN.UTF-8&quot; äºŒ.å¼€å§‹å®‰è£… è§£å‹åŒ…ï¼š [root@slave-01 tmp]# tar zxfv v9.7fp11_linuxx64_server.tar.gz [root@slave-01 tmp]# ll æ€»ç”¨é‡ 780640 drwxr-xr-x. 4 root root 161 9æœˆ 25 2015 server -rw-r--r--. 1 root root 799372868 4æœˆ 26 01:02 v9.7fp11_linuxx64_server.tar.gz [root@slave-01 tmp]# cd server/ [root@slave-01 server]# ll æ€»ç”¨é‡ 56 drwxr-xr-x. 6 bin bin 182 9æœˆ 25 2015 db2 -r-xr-xr-x. 1 bin bin 5340 9æœˆ 25 2015 db2ckupgrade -r-xr-xr-x. 1 bin bin 5293 9æœˆ 25 2015 db2_deinstall -r-xr-xr-x. 1 bin bin 5163 9æœˆ 25 2015 db2_install -r-xr-xr-x. 1 bin bin 5127 9æœˆ 25 2015 db2ls -r-xr-xr-x. 1 bin bin 5145 9æœˆ 25 2015 db2prereqcheck -r-xr-xr-x. 1 bin bin 5145 9æœˆ 25 2015 db2setup drwxr-xr-x. 15 bin bin 175 9æœˆ 25 2015 doc -r-xr-xr-x. 1 bin bin 5181 9æœˆ 25 2015 installFixPack æ£€æŸ¥ç¯å¢ƒæ˜¯å¦æ”¯æŒæ­£å¸¸å®‰è£… [root@slave-01 server]# ./db2prereqcheck WARNING: DBT3534W The db2prereqcheck utility determined that ASLR is set to ON and that this could cause issues with some tools. WARNING: The 32-bit library file libpam.so is not found on the system. æ³¨ï¼šç¬¬ä¸€ä¸ªå‘Šè­¦è§£å†³ è®¾ç½®å†…æ ¸ä¿¡æ¯ [root@slave-01 server]# echo &quot;kernel.randomize_va_space=0&quot; &gt;&gt;/etc/sysctl.conf [root@slave-01 server]# sysctl -p kernel.randomize_va_space = 0 æ³¨ï¼š32-bit WARNINGå¯ä»¥å¿½ç•¥ å†æ¬¡æ‰§è¡Œ./db2prereqcheck [root@slave-01 server]# ./db2prereqcheck WARNING: The 32-bit library file libpam.so is not found on the system. å®‰è£… [root@slave-01 server]# ./db2_install WARNING: The 32-bit library file libpam.so is not found on the system. ç”¨äºå®‰è£…äº§å“çš„ç¼ºçœç›®å½• ï¼ /opt/ibm/db2/V9.7 (é»˜è®¤å®‰è£…ç›®å½•) *********************************************************** è¦é€‰æ‹©å¦ä¸€ä¸ªç›®å½•ç”¨äºå®‰è£…å—ï¼Ÿ[æ˜¯/å¦] å¦ æŒ‡å®šä¸‹åˆ—å…¶ä¸­ä¸€ä¸ªå…³é”®å­—ä»¥å®‰è£… DB2 äº§å“ã€‚ AESE é«˜çº§ä¼ä¸šæœåŠ¡å™¨ç‰ˆ ESE ä¼ä¸šæœåŠ¡å™¨ç‰ˆ CONSV è¿æ¥æœåŠ¡å™¨ç‰ˆ WSE å·¥ä½œç»„æœåŠ¡å™¨ç‰ˆ EXP æ˜“æºç‰ˆ PE ä¸ªäººç‰ˆ CLIENT æ•°æ®åº“æœåŠ¡å™¨å®¢æˆ·æœº RTCL æ•°æ®åº“æœåŠ¡å™¨è¿è¡Œæ—¶å®¢æˆ·æœº æŒ‰â€œå¸®åŠ©â€ä»¥é‡æ–°æ˜¾ç¤ºäº§å“åç§°ã€‚ æŒ‰â€œé€€å‡ºâ€ä»¥é€€å‡ºã€‚ *********************************************************** ESE ï¼ˆè¿™é‡Œé€‰æ‹©å®‰è£…ä¼ä¸šæœåŠ¡å™¨ç‰ˆESEï¼‰ WARNING: The 32-bit library file libpam.so is not found on the system. æ­£åœ¨åˆå§‹åŒ– DB2 å®‰è£…ã€‚ è¦æ‰§è¡Œçš„ä»»åŠ¡æ€»æ•°ä¸ºï¼š48 è¦æ‰§è¡Œçš„æ‰€æœ‰ä»»åŠ¡çš„æ€»ä¼°è®¡æ—¶é—´ä¸ºï¼š2018 ä»»åŠ¡ #1 å¯åŠ¨ æè¿°ï¼šæ­£åœ¨æ£€æŸ¥è®¸å¯åè®®çš„æ¥å—æƒ…å†µ ä¼°è®¡æ—¶é—´ 1 ç§’ ä»»åŠ¡ #1 ç»“æŸ ..... åœ¨æ­¤è®¡ç®—æœºä¸Šå®‰è£… &quot;DB2 Enterprise Server Edition &quot; æ—¶å‘ç”Ÿäº†è¾ƒå°çš„é”™è¯¯ã€‚æŸäº›åŠŸèƒ½éƒ¨ä»¶å¯èƒ½æ— æ³•æ­£å¸¸å·¥ä½œã€‚ æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… &quot;/tmp/db2_install.log.1552&quot; ä¸Šçš„ DB2 å®‰è£…æ—¥å¿—ã€‚ æ·»åŠ ç”¨æˆ·ç»„å’Œç”¨æˆ· [root@slave-01 server]# groupadd -g 801 db2das [root@slave-01 server]# groupadd -g 802 db2fenc1 [root@slave-01 server]# groupadd -g 803 db2inst1 [root@slave-01 server]# useradd -g 801 -d /home/db2das db2das [root@slave-01 server]# useradd -g 802 -d /home/db2fenc1 db2fenc1 [root@slave-01 server]# useradd -g 803 -d /home/db2inst1 db2inst1 [root@slave-01 server]# ls /home/ db2das db2fenc1 db2inst1 è¿›å…¥å®‰è£…ç›®å½•_å®‰è£…å®ä¾‹ (å³Instance) [root@slave-01 instance]# pwd /opt/ibm/db2/V9.7/instance å®‰è£…å®ä¾‹ åˆ›å»ºDASå¯ä»¥ä½¿è¿œç¨‹DB2å®¢æˆ·æœºä»¥å›¾å½¢ç•Œé¢çš„æ–¹å¼è¿æ¥åˆ°æ•°æ®åº“æœåŠ¡å™¨ [root@slave-01 instance]# ./dascrt -u db2das SQL4406W The DB2 Administration Server was started successfully. DBI1070I Program dascrt completed successfully. ä½¿ç”¨db2icrtåˆ›å»ºå®ä¾‹ [root@slave-01 instance]# ./db2icrt -u db2inst1 db2inst1 DBI1070I Program db2icrt completed successfully. è¿æ¥DB2 (1)åˆ‡æ¢db2inst1ç”¨æˆ· [root@slave-01 instance]# su - db2inst1 ä¸Šä¸€æ¬¡ç™»å½•ï¼šæ—¥ 4æœˆ 26 04:40:47 CST 2020pts/0 ä¸Š (2)è®¾ç½®æœåŠ¡å™¨çš„é€šä¿¡æ–¹åè®®ä¸ºTCPIP [db2inst1@slave-01 ~]$ db2set DB2COMM=TCPIP (3)è®¾ç½®å®ä¾‹çš„é€šä¿¡æœåŠ¡(å¯¹äºåˆ°æ“ä½œç³»ç»Ÿçš„ç«¯å£) [db2inst1@slave-01 ~]$ db2 update dbm cfg using SVCENAME 50000 DB20000I The UPDATE DATABASE MANAGER CONFIGURATION command completed successfully. (4)è¿›å…¥db2å‘½ä»¤ç•Œé¢ [db2inst1@slave-01 ~]$ db2 ä¸ºåº“æ–‡ä»¶å­˜æ”¾è·¯å¾„æˆäºˆæƒé™ï¼Œåˆ›å»ºæ•°æ®åº“å¹¶æŠŠåº“æ–‡ä»¶å­˜æ”¾åœ¨æŒ‡å®šè·¯å¾„ä¸‹ï¼Œè¯¥è·¯å¾„éœ€è¦æˆæƒï¼Œç»™ç”¨æˆ·æˆäºˆdbaæƒé™ [db2inst1@slave-01 ~]$ exit ç™»å‡º [root@slave-01 instance]# mkdir /opt/data -p [root@slave-01 instance]# chmod -R 777 /opt/data [root@slave-01 instance]# su - db2inst1 ä¸Šä¸€æ¬¡ç™»å½•ï¼šæ—¥ 4æœˆ 26 04:49:35 CST 2020pts/0 ä¸Š [db2inst1@slave-01 ~]$ db2start 04/26/2020 04:53:00 0 0 SQL1063N DB2START processing was successful. SQL1063N DB2START processing was successful. [db2inst1@slave-01 ~]$ db2 create database dbname on /opt/data DB20000I The CREATE DATABASE command completed successfully. [db2inst1@slave-01 ~]$ db2 grant dbadm on database to user nio DB20000I The SQL command completed successfully. [db2inst1@slave-01 ~]$ passwd db2inst1 è®¾ç½®å¯†ç  æ•°æ®åº“å¤‡ä»½éœ€è¦æœ‰è®¿é—®æƒé™ [root@slave-01 instance]# chmod -R 775 /root [root@slave-01 instance]# chmod -R 775 /home/db2inst1 å¤‡ä»½æ¢å¤ (1)ä¸èƒ½ä¿®æ”¹å¤‡ä»½æ–‡ä»¶å (2)æ•°æ®åº“ç³»ç»Ÿç”¨æˆ·éœ€è¦æœ‰è¯»å†™å¤‡ä»½æ–‡ä»¶æ‰€åœ¨ç›®å½•çš„æƒé™ (3)ä½¿ç”¨å¦‚ä¸‹æ ¼å¼çš„å‘½ä»¤è¿›è¡Œå¤‡ä»½æ¢å¤ åˆ—ï¼šdb2 restore db æ•°æ®åº“å incremental automatic form â€œå¤‡ä»½æ–‡ä»¶æ‰€åœ¨è·¯å¾„(ä¸åŠ æ–‡ä»¶åç§°)â€ taken at å¤‡ä»½æ—¶é—´æˆ³(å¤‡ä»½æ–‡ä»¶åä¸­æœ‰) åˆ—ï¼šdb2 restore db dynamo incremental automatic form â€œ/home/db2inst1â€ taken at 202004231620(æ—¶é—´æˆ³) è¿æ¥æ¢å¤åçš„æ•°æ®åº“ db2çš„æ•°æ®åº“éœ€è¦åœ¨æ“ä½œç³»ç»Ÿè®¾ç½®ä¸€ä¸ªåŒåçš„ç”¨æˆ· useradd &amp; passwd å…¨æ–°æ•°æ®åº“è®¾ç½®ç¼“å†²æ± _è°ƒä¼˜ é˜²æ­¢äº‹ç‰©æ—¥å¿—å·²æ»¡é”™è¯¯ï¼Œæ›´æ”¹æ—¥å¿—å¤§å°å’Œæ•°é‡ (1)æŸ¥çœ‹db2é…ç½®ä¿¡æ¯ [db2inst1@slave-01 ~]$ db2 &quot;get db cfg for dbname&quot; ..... Log file size (4KB) (LOGFILSIZ) = 1024 --æ—¥å¿—æ–‡ä»¶å¤§å° Number of primary log files (LOGPRIMARY) = 13 --ä¸»æ—¥å¿—æ–‡ä»¶ä¸ªæ•° Number of secondary log files (LOGSECOND) = 4 --è¾…æ—¥å¿—æ–‡ä»¶ä¸ªæ•° Changed path to log files (NEWLOGPATH) = ..... (2)ä¿®æ”¹æ—¥å¿—å‘½ä»¤ [db2inst1@slave-01 ~]$ db2 connect to dbname [db2inst1@slave-01 ~]$ db2 update db cfg using LOGSECOND 200 DB20000I The UPDATE DATABASE CONFIGURATION command completed successfully. [db2inst1@slave-01 ~]$ db2 update db cfg using LOGPRIMARY 40 DB20000I The UPDATE DATABASE CONFIGURATION command completed successfully. SQL1363W One or more of the parameters submitted for immediate modification were not changed dynamically. For these configuration parameters, the database must be shutdown and reactivated before the configuration parameter changes become effective. [db2inst1@slave-01 ~]$ db2 UPDATE DB CFG USING LOGFILSIZ 122800 DB20000I The UPDATE DATABASE CONFIGURATION command completed successfully. SQL1363W One or more of the parameters submitted for immediate modification were not changed dynamically. For these configuration parameters, the database must be shutdown and reactivated before the configuration parameter changes become effective. ä¿®æ”¹å®ŒæˆåæŸ¥çœ‹ [db2inst1@slave-01 ~]$ db2 get db cfg for dbname|grep LOG Catalog cache size (4KB) (CATALOGCACHE_SZ) = 300 Log buffer size (4KB) (LOGBUFSZ) = 256 Log file size (4KB) (LOGFILSIZ) = 122800 Number of primary log files (LOGPRIMARY) = 40 Number of secondary log files (LOGSECOND) = 200 Changed path to log files (NEWLOGPATH) = Path to log files = /opt/data/db2inst1/NODE0000/SQL00001/SQLOGDIR/ Overflow log path (OVERFLOWLOGPATH) = Mirror log path (MIRRORLOGPATH) = Block log on disk full (BLK_LOG_DSK_FUL) = NO Block non logged operations (BLOCKNONLOGGED) = NO Percent max primary log space by transaction (MAX_LOG) = 0 Num. of active log files for 1 active UOW(NUM_LOG_SPAN) = 0 Log retain for recovery enabled (LOGRETAIN) = OFF First log archive method (LOGARCHMETH1) = OFF Options for logarchmeth1 (LOGARCHOPT1) = Second log archive method (LOGARCHMETH2) = OFF Options for logarchmeth2 (LOGARCHOPT2) = Log pages during index build (LOGINDEXBUILD) = OFF (3)ä¿®æ”¹æ—¥å¿—é‡å¯æ•°æ®åº“ [db2inst1@slave-01 ~]$ db2stop force 2020-04-26 05:53:38 0 0 SQL1064N DB2STOP processing was successful. SQL1064N DB2STOP processing was successful. [db2inst1@slave-01 ~]$ db2start 04/26/2020 05:53:59 0 0 SQL1063N DB2START processing was successful. SQL1063N DB2START processing was successful. DB2ç›¸å…³å‘½ä»¤ db2set BD2COMM=TCPIP è®¾ç½®åè®®db2 update dbm cfg using SVCENAME 50000mkdir /opt/data -psudo mkdir /opt/data -pdb2 create database dbname on /opt/datadb2 grant dbadm on database to user biodb2 list db DIRECTORYdb2 connect to DBNAMEdb2startdb2 connect to DBNAMEdb2 LIST DATABASE DIRECTORYdb2 connect to DBNAMEdb2 LIST TABLESPACESdb2 create table t1db2 LIST TABLESPACESdb2 create table t1db2 list tablesdb2 list tables for systemdb2 list tables for userdb2 â€œcreate table t1(id int, name char(5))â€db2 â€œcreate index t1_idx1 on t1(id)â€db2 â€œcreate index t1_idx2 on t1(name)â€db2 â€œinsert into t1 values(333, â€˜aaaâ€™)â€db2 â€œinsert into t1 values(444, â€˜dddâ€™)â€db2 â€œinsert into t1 values(111, â€˜bbbâ€™)â€db2 â€œinsert into t1 values(222, â€˜eeeâ€™)â€db2 â€œinsert into t1 values(555, â€˜cccâ€™)â€db2 â€œselect from t1â€db2 â€œcreate table t2(id int, name char(5))â€db2 â€œcreate index t2_idx1 on t2(id) CLUSTERâ€db2 â€œinsert into t2 values(333, â€˜aaaâ€™)â€db2 â€œinsert into t2 values(444, â€˜dddâ€™)â€db2 â€œinsert into t2 values(111, â€˜bbbâ€™)â€db2 â€œinsert into t2 values(222, â€˜eeeâ€™)â€db2 â€œinsert into t2 values(555, â€˜cccâ€™)â€db2 â€œselect from t2db2 â€œinsert into t2 values(555, â€˜cccâ€™)â€db2 â€œselect * from t2â€db2 list tablesdb2 list tables for db2inst1db2 list tables for db2inst1[user]db2 list tablesdb2 connect resetdb2 list tablesdb2 backcp db dbnamedb2 list applications for db dbnamedb2stop forcedb2startdb2 backup db dbnamedb2 backup db dbname to /home/db2inst1/ compressdb2 connect to dbnamedb2 connect reset db dbnamedb2stop forcedb2startdb2 drop database dbnamedb2 list db directorydb2 list history backup all for dbnamedb2 list db DIRECTORYdb2 connect to dbnamedb2 list tablesdb2 restore db dbname incremental automatic from â€œ/home/db2inst1â€ taken at 20200428042512db2 connect to dbnamedb2 list tablesdb2 â€œselect from t1â€db2 â€œselect from t2â€","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"web","slug":"web","permalink":"/tags/web/"},{"name":"æ‚¦è¯»","slug":"æ‚¦è¯»","permalink":"/tags/æ‚¦è¯»/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"expect","slug":"expect","date":"2020-04-23T13:31:07.000Z","updated":"2020-04-23T14:21:13.926Z","comments":true,"path":"2020/04/23/expect/","link":"","permalink":"/2020/04/23/expect/","excerpt":"","text":"#!/usr/bin/expect PATH=&quot;/usr/local/sbin:/usr/sbin:/sbin:/usr/local/bin:/usr/bin:/bin&quot; if {$argv !=2} { send_user &quot;usageï¼š./expect ssh_ip password\\n&quot; puts stderr &quot;argv error!\\n&quot; sleep 1 exit } expect &lt;&lt;EOF set timeout -1 set user [lindex $argv 0 ] set ip [lindex $argv 1 ] set passwd [lindex $argv 2 ] pawn ssh $user@$ip expect { &quot;yes/no&quot; { send &quot;yes\\r&quot;; exp_continue; } &quot;passwd:&quot; { send &quot;$passwd\\r&quot;; exp_continus; } } expect &quot;]#&quot; { send &quot;useradd hui\\n&quot; } expect &quot;]#&quot; { send &quot;echo pan|passwd --stdin hui\\n&quot; } EOF exit","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"web","slug":"web","permalink":"/tags/web/"},{"name":"æ‚¦è¯»","slug":"æ‚¦è¯»","permalink":"/tags/æ‚¦è¯»/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"å†°é›ªå¥‡ç¼˜2","slug":"å†°é›ªå¥‡ç¼˜2","date":"2019-12-08T09:19:44.000Z","updated":"2019-12-08T14:10:02.000Z","comments":true,"path":"2019/12/08/å†°é›ªå¥‡ç¼˜2/","link":"","permalink":"/2019/12/08/å†°é›ªå¥‡ç¼˜2/","excerpt":"","text":"å‰å‡ å¤©è·Ÿæœ‹å‹å»çœ‹æ–°ä¸Šæ˜ çš„ã€Šå†°é›ªå¥‡ç¼˜2ã€‹ï¼Œå®ƒå»¶ç»­äº†ä¸Šä¸€éƒ¨çš„æ•…äº‹ï¼Œé­”æ³•å°‘å¥³å½’éšå®ˆæŠ¤æ£®æ—ï¼Œè®©å…¶å¦¹å¦¹æ‹…ä»»å¥³ç‹ã€‚","categories":[{"name":"ç”µå½±","slug":"ç”µå½±","permalink":"/categories/ç”µå½±/"}],"tags":[{"name":"web","slug":"web","permalink":"/tags/web/"},{"name":"æ‚¦è¯»","slug":"æ‚¦è¯»","permalink":"/tags/æ‚¦è¯»/"}],"keywords":[{"name":"ç”µå½±","slug":"ç”µå½±","permalink":"/categories/ç”µå½±/"}]},{"title":"linuxè¿›ç¨‹ç®¡ç†å‘½ä»¤","slug":"linuxè¿›ç¨‹ç®¡ç†å‘½ä»¤-1","date":"2019-10-31T07:04:25.000Z","updated":"2019-10-31T07:04:51.000Z","comments":true,"path":"2019/10/31/linuxè¿›ç¨‹ç®¡ç†å‘½ä»¤-1/","link":"","permalink":"/2019/10/31/linuxè¿›ç¨‹ç®¡ç†å‘½ä»¤-1/","excerpt":"","text":"pstreeå‘½ä»¤ï¼šCentOS6ï¼šçˆ¶è¿›ç¨‹initdCentOS7ï¼šçˆ¶è¿›ç¨‹systemdsystemdâ”€â”¬â”€accounts-daemonâ”€â”¬â”€{gdbus} â”‚ â””â”€{gmain} â”œâ”€acpid â”œâ”€2[agetty] â”œâ”€apache2â”€â”€â”€10[apache2] â”œâ”€atd â”œâ”€clientâ”€â”¬â”€clientâ”€â”¬â”€php_scanner â”‚ â”‚ â””â”€20[{client}] â”‚ â””â”€8[{client}] â”œâ”€cron â”œâ”€dbus-daemon â”œâ”€2[dhclient] â”œâ”€2[iscsid] â”œâ”€lvmetad â”œâ”€lxcfsâ”€â”€â”€10[{lxcfs}] â”œâ”€mdadm â”œâ”€mysqld_safeâ”€â”¬â”€logger â”‚ â””â”€mysqldâ”€â”€â”€44[{mysqld}] â”œâ”€polkitdâ”€â”¬â”€{gdbus} â”‚ â””â”€{gmain} â”œâ”€rsyslogdâ”€â”¬â”€{in:imklog} â”‚ â”œâ”€{in:imuxsock} â”‚ â””â”€{rs:main Q:Reg} â”œâ”€sgaâ”€â”€â”€3[{sga}] â”œâ”€sgdâ”€â”€â”€6[{sgd}] â”œâ”€snmpd â”œâ”€sshdâ”€â”€â”€sshdâ”€â”€â”€sshdâ”€â”€â”€bashâ”€â”€â”€sudoâ”€â”€â”€suâ”€â”€â”€bashâ”€â”€â”€pstree pså‘½ä»¤ï¼š /proc/:å†…æ ¸ä¸­çš„ä¿¡æ¯çŠ¶æ€ é€‰é¡¹ï¼š a:æ‰€æœ‰ä¸ç»ˆç«¯çš„ç›¸å…³è¿›ç¨‹ x:ä¸ç»ˆç«¯æ— å…³ uï¼šç”¨æˆ·ç›¸å…³çš„è¿›ç¨‹ä¿¡æ¯ å¸¸ç”¨ç»„åˆä¸€ï¼šps aux USER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMANDroot 1 0.0 0.4 185564 4792 ? Ss Sep27 5:45 /lib/systemd/systemd â€“system â€“droot 2 0.0 0.0 0 0 ? S Sep27 0:00 [kthreadd]root 3 0.0 0.0 0 0 ? S Sep27 1:55 [ksoftirqd/0]root 5 0.0 0.0 0 0 ? S&lt; Sep27 0:00 [kworker/0:0H] vszï¼šè™šæ‹Ÿå†…å­˜é›† RSSï¼šå¸¸é©»å†…å­˜é›† STAT: R:running S:interruptable sleeping å¯ä¸­æ–­ä¼‘çœ  D:uninterruptable sleeping T:stopped Z:zomble å¸¸ç”¨ç»„åˆäºŒï¼šps -ef UID PID PPID C STIME TTY TIME CMDroot 1 0 0 Sep27 ? 00:05:45 /lib/systemd/systemd â€“system â€“deserialize 26root 2 0 0 Sep27 ? 00:00:00 [kthreadd]root 3 2 0 Sep27 ? 00:01:55 [ksoftirqd/0]root 5 2 0 Sep27 ? 00:00:00 [kworker/0:0H] -Fï¼šæ˜¾ç¤ºå®Œæ•´æ ¼å¼çš„è¿›ç¨‹ä¿¡æ¯ Cï¼šCPU PSRï¼šè¿è¡Œåœ¨é‚£æ£µCPUä¸Š pgrep,pkillå‘½ä»¤ï¼š pgrep: -u uid:effective user -U uid:read user -t :æŒ‡å®šç»ˆç«¯çš„è¿›è¡Œ -P pidï¼šæ˜¾ç¤ºæ­¤è¿›ç¨‹çš„å­è¿›ç¨‹ pidofå‘½ä»¤ï¼š æ ¹æ®è¿›ç¨‹å,å–å…¶PID topå‘½ä»¤ï¼štop - 14:57:02 up 33 days, 17:41, 1 user, load average: 0.10, 0.17, 0.17Tasks: 163 total, 1 running, 162 sleeping, 0 stopped, 0 zombie%Cpu(s): 9.2 us, 4.8 sy, 0.0 ni, 85.0 id, 1.0 wa, 0.0 hi, 0.0 si, 0.0 stKiB Mem : 1015828 total, 98636 free, 234340 used, 682852 buff/cacheKiB Swap: 2047996 total, 1926204 free, 121792 used. 557552 avail Mem PID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND27702 root 39 19 839060 30700 8800 S 10.0 3.0 1826:15 client 8274 zabbix 20 0 224360 3356 2656 S 0.3 0.3 6:55.51 zabbix_server29064 mysql 20 0 608092 135100 8072 S 0.3 13.3 121:04.01 mysqld 1 root 20 0 185564 4792 3284 S 0.0 0.5 5:45.45 systemd 2 root 20 0 0 0 0 S 0.0 0.0 0:00.02 kthreadd æ’åº: P:ä»¥å æ®CPUç™¾åˆ†æ¯”æ’åº Mï¼šå†…å­˜æ’åº Tï¼šç´¯ç§¯å ç”¨CPUæ—¶é—´æ’åº é¦–éƒ¨ä¿¡æ¯ï¼š uptimeä¿¡æ¯ï¼šl tasksåŠcpuä¿¡æ¯ï¼št å†…å­˜ä¿¡æ¯ï¼šm æ¨å‡ºï¼šq uptimeå‘½ä»¤ï¼šæ˜¾ç¤ºç³»ç»Ÿæ—¶é—´ï¼Œè¿è¡Œæ—¶é•¿åŠå¹³å‡è´Ÿè½½ è¿‡å»1ï¼Œ5ï¼Œ15åˆ†é’Ÿçš„å¹³å‡è´Ÿè½½","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"web","slug":"web","permalink":"/tags/web/"},{"name":"æ‚¦è¯»","slug":"æ‚¦è¯»","permalink":"/tags/æ‚¦è¯»/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"CentOS7+ç¼–è¯‘å®‰è£…Lnmp+Zabbix+Goaccess","slug":"ç¼–è¯‘å®‰è£…LNMP+Zabbix+Goaccess","date":"2019-09-30T11:27:58.000Z","updated":"2019-10-08T10:30:23.000Z","comments":true,"path":"2019/09/30/ç¼–è¯‘å®‰è£…LNMP+Zabbix+Goaccess/","link":"","permalink":"/2019/09/30/ç¼–è¯‘å®‰è£…LNMP+Zabbix+Goaccess/","excerpt":"","text":"æºç ç¼–è¯‘å®‰è£…ç¼–è¯‘å®‰è£…è½¯ä»¶çš„ä¼˜ç‚¹ã€è‡ªè¡Œä¿®æ”¹ã€å®šåˆ¶åŠŸèƒ½ã€é‡æ–°é…ç½®ã€è‡ªç”±ä¿®æ”¹æºä»£ç ã€åŠ å…¥æ–°çš„åŠŸèƒ½ã€‚ CentOS7ç¼–è¯‘å®‰è£…php-7.0ï¼Œmysql-5.7ï¼Œnginx-1.16ï¼Œzabbixï¼Œgoaccessï¼ ç¼–è¯‘ç¯å¢ƒå…³é—­selinuxï¼Œstop iptablesï¼Œæºç ä¸‹è½½ï¼Œè°ƒæ•´swapå¤§å°ï¼Œç¼–è¯‘å®‰è£…æ‰€éœ€çš„ä¾èµ–åº“åŒ…ç­‰ï¼ #å…³é—­selinux vim /etc/selinux/config SELINUX=disabled #å…³é—­iptables /etc/init.d/iptable stop chkconfig iptable off #åˆ›å»ºå­˜æ”¾ç›®å½• mkdir /tools #è‡ªå®šä¹‰ç¨‹åºå®‰è£…ç›®å½• mkdir /app cd /tools #åˆ›å»ºswapï¼Œå¤§çº¦æ˜¯å†…å­˜çš„1.5å€ dd if=/dev/zore of=/swapfile bs=100M count=20 #ä¿®æ”¹æˆé˜¿é‡Œæº&amp;å®‰è£…epelæº mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo yum clean all yum makecache yum install -y epel-release yum clean all yum makecache #ä¸‹è½½nginxï¼Œé€‰æ‹©ç¨³å®šç‰ˆæœ¬ï¼Œphp7.0.2ç‰ˆæœ¬ï¼Œmysql5.7ï¼Œç¼–è¯‘å®‰è£…mysqléœ€è¦è¿™ä¸ªbooståŒ… wget http://nginx.org/download/nginx-1.16.1.tar.gz wget http://cn2.php.net/distributions/php-7.0.2.tar.gz wget https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.20.tar.gz wget --no-check-certificate http://sourceforge.net/projects/boost/files/boost/1.59.0/boost_1_59_0.tar.gz wget https://jaist.dl.sourceforge.net/project/zabbix/ZABBIX%20Latest%20Stable/4.0.0/zabbix-4.0.0.tar.gz zabbix4.0 #å®‰è£…åŸºç¡€åŒ…ï¼Œphpæ‰€éœ€çš„ä¾èµ–åŒ…ï¼Œmysqlæ‰€éœ€çš„åŒ…ï¼Œnginxæ—¶æ‰€éœ€çš„åŒ…ï¼Œzabbixæ˜¯æ‰€éœ€çš„åŒ… yum install telnet lrzsz nmap dos2unix vim lsof -y yum install -y gcc gcc-c++ make zlib zlib-devel pcre pcre-devel libjpeg libjpeg-devel libpng libpng-devel freetype freetype-devel libxml2 libxml2-devel glibc glibc-devel glib2 glib2-devel bzip2 bzip2-devel ncurses ncurses-devel curl curl-devel e2fsprogs e2fsprogs-devel krb5 krb5-devel openssl openssl-devel openldap openldap-devel nss_ldap openldap-clients openldap-servers gmp-devel libmcrypt libmcrypt-devel readline-devel libxslt-devel yum install -y cmake bison bison-devel libaio-devel gcc gcc-c++ git ncurses-devel yum install pcre pcre-devel openssl-devel yum -y install net-snmp-devel libxml2-devel libcurl-deve libevent libevent-devel libcurl PHP7.0cd /tools #è§£å‹php tar xzf php-7.0.2.tar.gz cd php-7.0.2 #configure &amp; make &amp; make install ./configure --prefix=/app/php --with-config-file-path=/app/etc --enable-fpm --enable-inline-optimization --disable-debug --disable-rpath --enable-shared --enable-soap --with-libxml-dir --with-mysqli --with-xmlrpc --with-openssl --with-mcrypt --with-mhash --with-pcre-regex --with-sqlite3 --with-zlib --with-ldap --with-freetype --with-fpm-user=www --with-fpm-group=www --enable-bcmath --with-iconv --with-bz2 --enable-calendar --with-curl --with-cdb --enable-dom --enable-exif --enable-fileinfo --enable-filter --with-pcre-dir --enable-ftp --with-gd --with-openssl-dir --with-jpeg-dir --with-png-dir --with-zlib-dir --with-freetype-dir --enable-gd-native-ttf --enable-gd-jis-conv --with-gettext --with-gmp --with-mhash --enable-json --enable-mbstring --enable-mbregex --enable-mbregex-backtrack --with-libmbfl --with-onig --enable-pdo --with-mysqli=mysqlnd --with-pdo-mysql=mysqlnd --with-zlib-dir --with-pdo-sqlite --with-readline --enable-session --enable-shmop --enable-simplexml --enable-sockets --enable-sysvmsg --enable-sysvsem --enable-sysvshm --enable-wddx --with-libxml-dir --with-xsl --enable-zip --enable-mysqlnd-compression-support --with-pear --enable-opcache make &amp;&amp; make install #é…ç½®æ–‡ä»¶ cp /tools/php-7.0.2/php.ini-development /app/php/etc/php.ini cp /app/php/etc/php-fpm.conf.default php-fpm.conf cp /app/php/etc/php-fpm.d/www.conf.default /app/php/etc/php-fpm.d/www.conf cp /tools/php-7.0.2/sapi/fpm/init.d.php-fpm /etc/init.d/php-fpm #ä¿®æ”¹å¯åŠ¨æ–‡ä»¶ vim /etc/init.d/php-fpm prefix=/app/php chmod 777 /etc/init.d/php-fpm Mysql5.7cd /tools #è§£å‹mysql tar xzf mysql-5.7.20.tar.gz cd mysql-5.7.20 mkdir configure cd configure #æ·»åŠ mysqlç”¨æˆ· useradd -s /sbin/nologin mysql #mysqléœ€è¦ç”¨cmake cmake .. -DBUILD_CONFIG=mysql_release -DINSTALL_LAYOUT=STANDALONE -DCMAKE_BUILD_TYPE=RelWithDebInfo -DENABLE_DTRACE=OFF -DWITH_EMBEDDED_SERVER=OFF -DWITH_INNODB_MEMCACHED=ON -DWITH_SSL=bundled -DWITH_ZLIB=system -DWITH_PAM=ON -DCMAKE_INSTALL_PREFIX=/app/mysql/ -DINSTALL_PLUGINDIR=&quot;/app/mysql/lib/plugin&quot; -DDEFAULT_CHARSET=utf8 -DDEFAULT_COLLATION=utf8_general_ci -DWITH_EDITLINE=bundled -DFEATURE_SET=community -DCOMPILATION_COMMENT=&quot;MySQL Server (GPL)&quot; -DWITH_DEBUG=OFF -DWITH_BOOST=.. make &amp;&amp; make install #makeè¿‡ç¨‹æ‰€éœ€çš„æ—¶é—´è¦ä¹…ä¸€ç‚¹ #ä¿®æ”¹my.cnfé…ç½®æ–‡ä»¶ vim /etc/my.cnf [mysqld] datadir=/app/mysql_data basedir=/app/mysql port=3306 pid-file=/app/mysql/mysql.pid user=mysql log-error=/app/mysql/log/error.log explicit_defaults_for_timestamp=true socket=/app/mysql/mysql.sock #ä¾æ®é…ç½®æ–‡ä»¶åˆ›å»ºæ‰€éœ€çš„ç›®å½•åŠæ–‡ä»¶å¹¶ä¿®æ”¹æƒé™ mkdir /app/mysql_data mkdir /app/mysql/log/ -p touch /app/mysql/log/error.log chmod -R 777 /app/mysql chmod -R 777 /app/mysql_data chown -R mysql:mysql /app/mysql chown -R mysql:mysql /app/mysql_data #åˆå§‹åŒ–å®‰è£… /app/mysql/bin/mysqld --initialize --user=mysql --basedir=/app/mysql --datadir=/app/mysql_data ll /app/mysql_data/ #æŸ¥çœ‹æ˜¯å¦æœ‰æ–‡ä»¶ç”Ÿæˆ ln -s /app/mysql/support-files/mysql.server /etc/init.d/mysqld #ä¿®æ”¹å¯åŠ¨æ–‡ä»¶ vim /app/mysql/support-files/mysql.server basedir=/app/mysql datadir=/app/mysql_data /etc/init.d/mysqld start #æŸ¥çœ‹åˆå§‹åŒ–å¯†ç  grep localhost /app/mysql/log/error.log #ä½¿ç”¨åˆå§‹åŒ–å¯†ç ç™»å½•å¹¶ä¿®æ”¹å¯†ç  /app/mysql/bin/mysql -uroot -p #å¦‚æœæŠ¥é”™æç¤ºæ²¡æœ‰/tmp/mysql.sockï¼Œæ‰§è¡Œ ln -s /app/mysql/mysql.sock /tmp/mysql.sock #å¦‚æœæ²¡æœ‰æ‰¾åˆ°mysql.sockæ–‡ä»¶ä¸€èˆ¬æ˜¯my.cnfæ–‡ä»¶é…ç½®é”™è¯¯ Nginxcd /tools useradd nginx -s /sbin/nologin -M tar zxf nginx-1.16.1.tar.gz cp -r /tools/nginx-1.16.1/contrib/vim ~/.vim #nginx.confæ–‡ä»¶ä»£ç é«˜äº® cd nginx-1.16.1 ./configure --user=nginx --group=nginx --prefix=/app/nginx-1.16.1/ --with-http_stub_status_module --with-http_ssl_module make &amp; make install ln -s /app/nginx-1.16.1 /app/nginx #åˆ›å»ºè½¯è¿æ¥ï¼Œä»¥ä¾¿åç»­å‡çº§ç‰ˆæœ¬ vim /app/nginx/conf/nginx.conf #ç¼–è¾‘é…ç½®æ–‡ä»¶ /app/nginx/sbin/nginx -t #æŸ¥çœ‹é…ç½®æ–‡ä»¶è¯­æ³• /app/nginx/sbin/nginx /app/nginx/sbin/nginx -s reloadæˆ–è€…stop Zabbixcd /tools tar xzf zabbix-4.0.0.tar.gz cd zabbix-4.0.0 ./configure --enable-server --enable-agent --with-mysql=/app/mysql/bin/mysql_config --prefix=/app/zabbix --enable-ipv6 --with-net-snmp --with-libcurl --with-libxml2 make &amp;&amp; make install cp /tools/zabbix-4.0.0/misc/init.d/fedora/core/* /etc/init.d/ vim /etc/init.d/zabbix_server #ä¿®æ”¹å®‰è£…baseç›®å½• DIR=/app/zabbix vim /etc/init.d/zabbix_agent #ä¿®æ”¹å®‰è£…baseç›®å½• DIR=/app/zabbix /app/mysql/bin/mysql -uroot -p -e &quot;create database zabbix default character set utf8 collate utf8_bin;&quot; /app/mysql/bin/mysql -uroot -p -e &quot;grant all on zabbix.* to &#39;zabbix&#39;@&#39;localhost&#39; identified by &#39;zabbix&#39;;&quot; /app/mysql/bin/mysql -uzabbix -pzabbix zabbix &lt; /tools/zabbix-4.0.0/database/mysql/schema.sql /app/mysql/bin/mysql -uzabbix -pzabbix zabbix &lt; /tools/zabbix-4.0.0/database/mysql/images.sql /app/mysql/bin/mysql -uzabbix -pzabbix zabbix &lt; /tools/zabbix-4.0.0/database/mysql/data.sql cp -r /tools/zabbix-4.0.0/frontends/php/* /app/nginx/html/zabbix/ cp /app/nginx/html/zabbix/conf/zabbix.conf.php.example /app/nginx/html/zabbix/conf/zabbix.conf.php vim /app/nginx/html/zabbix/conf/zabbix.conf.php #æŠŠzabbixæ•°æ®åº“ä¿¡æ¯å¡«å†™å®Œæˆ &lt;?php // Zabbix GUI configuration file. global $DB; $DB[&#39;TYPE&#39;] = &#39;MYSQL&#39;; $DB[&#39;SERVER&#39;] = &#39;localhost&#39;; $DB[&#39;PORT&#39;] = &#39;0&#39;; $DB[&#39;DATABASE&#39;] = &#39;zabbix&#39;; $DB[&#39;USER&#39;] = &#39;zabbix&#39;; $DB[&#39;PASSWORD&#39;] = &#39;zabbix&#39;; // Schema name. Used for IBM DB2 and PostgreSQL. $DB[&#39;SCHEMA&#39;] = &#39;&#39;; $ZBX_SERVER = &#39;localhost&#39;; $ZBX_SERVER_PORT = &#39;10051&#39;; $ZBX_SERVER_NAME = &#39;Admin&#39;; //åˆå§‹åŒ–å¯†ç zabbix $IMAGE_FORMAT_DEFAULT = IMAGE_FORMAT_PNG; zabbixæŸ¥çœ‹ç‰ˆæœ¬æŠ¥é”™:zabbix_server: error while loading shared libraries: libmysqlclient.so.18: cannot open shared object file: No such file or directory è§£å†³æ–¹æ³•ï¼š ln -s /app/mysql/lib/libmysqlclient.so.18 /usr/lib/ ln -s /app/mysql/lib/libmysqlclient.so.18 /usr/lib64/ Nginxå¯åŠ¨ æ£€æŸ¥è¯­æ³•/application/nginx/sbin/nginx -t å¯åŠ¨å‘½ä»¤/application/nginx/sbin/nginxlsof -i:80ä¸€èˆ¬æŠŠå¯åŠ¨å‘½ä»¤æ·»åŠ åˆ°rc.local å¼€æœºè‡ªå¯åŠ¨ åœæ­¢å‘½ä»¤pkill nginx æŸ¥çœ‹ç‰ˆæœ¬/application/nginx/sbin/nginx -V webé”™è¯¯æ—¥å¿—cat /application/nginx/logs/error.log Nginxç›®å½•ç»“æ„[root@web01 /]# tree /application/nginx /application/nginx â”œâ”€â”€ conf â”‚ â”œâ”€â”€ fastcgi.conf â”‚ â”œâ”€â”€ fastcgi.conf.default â”‚ â”œâ”€â”€ fastcgi_params â”‚ â”œâ”€â”€ fastcgi_params.default â”‚ â”œâ”€â”€ koi-utf â”‚ â”œâ”€â”€ koi-win â”‚ â”œâ”€â”€ mime.types â”‚ â”œâ”€â”€ mime.types.default â”‚ â”œâ”€â”€ nginx.conf â”‚ â”œâ”€â”€ nginx.conf.default â”‚ â”œâ”€â”€ scgi_params â”‚ â”œâ”€â”€ scgi_params.default â”‚ â”œâ”€â”€ uwsgi_params â”‚ â”œâ”€â”€ uwsgi_params.default â”‚ â””â”€â”€ win-utf â”œâ”€â”€ html â”‚ â”œâ”€â”€ 50x.html â”‚ â””â”€â”€ index.html â”œâ”€â”€ logs â””â”€â”€ sbin â””â”€â”€ nginx 4 directories, 18 files Nginxé…ç½®æ–‡ä»¶[root@web01 /]# egrep -v &quot;#|^$&quot; /application/nginx/conf/nginx.conf.default \\ &gt;/application/nginx/conf/nginx.conf worker_processes 1; events { worker_connections 1024; } http { include mime.types; default_type application/octet-stream; sendfile on; keepalive_timeout 65; server { listen 80; server_name localhost; location / { root html; index index.html index.htm; } error_page 500 502 503 504 /50x.html; location = /50x.html { root html; } } }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"linux","slug":"linux","permalink":"/tags/linux/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"ç¼–è¯‘å®‰è£…MYSQL","slug":"ç¼–è¯‘å®‰è£…MYSQL","date":"2019-09-21T01:19:06.000Z","updated":"2019-09-24T15:26:41.000Z","comments":true,"path":"2019/09/21/ç¼–è¯‘å®‰è£…MYSQL/","link":"","permalink":"/2019/09/21/ç¼–è¯‘å®‰è£…MYSQL/","excerpt":"","text":"ç¼–è¯‘å®‰è£…MYSQL-5.7.20[root@localhost ~]# mkdir /tools -p åˆ›å»ºå•ç‹¬å­˜æ”¾å·¥å…·çš„ç›®å½•ï¼Œä»¥ä¾¿åç»­ç®¡ç†[root@localhost ~]# ls /bin dev home lib64 media opt root selinux srv tmp usrboot etc lib lost+found mnt proc sbin server sys tools var [root@localhost ~]# cd /tools/[root@localhost tools]# wget https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.20.tar.gz[root@localhost tools]# wget â€“no-check-certificate http://sourceforge.net/projects/boost/files/boost/1.59.0/boost_1_59_0.tar.gz ä¾èµ–åŒ…å®‰è£…[root@localhost tools]# yum install -y cmake bison bison-devel libaio-devel gcc gcc-c++ git ncurses-devel (Ubuntu å°±ç”¨apt-get) [root@localhost tools]# tar -zxvf mysql-5.7.20.tar.gz [root@localhost tools]# mv boost_1_65_1.tar.gz mysql-5.7.20 [root@localhost tools]# cd mysql-5.7.20[root@localhost tools]# mkdir configure[root@localhost tools]# cd configure [root@localhost configure]# cmake .. -DBUILD_CONFIG=mysql_release \\-DINSTALL_LAYOUT=STANDALONE \\-DCMAKE_BUILD_TYPE=RelWithDebInfo \\-DENABLE_DTRACE=OFF \\-DWITH_EMBEDDED_SERVER=OFF \\-DWITH_INNODB_MEMCACHED=ON \\-DWITH_SSL=bundled \\-DWITH_ZLIB=system \\-DWITH_PAM=ON \\-DCMAKE_INSTALL_PREFIX=/application/mysql/ \\-DINSTALL_PLUGINDIR=â€/application/mysql/lib/pluginâ€ \\-DDEFAULT_CHARSET=utf8 \\-DDEFAULT_COLLATION=utf8_general_ci \\-DWITH_EDITLINE=bundled \\-DFEATURE_SET=community \\-DCOMPILATION_COMMENT=â€MySQL Server (GPL)â€ \\-DWITH_DEBUG=OFF \\-DENABLE_DOWNLOADS=1 \\-DWITH_BOOST=.. cmake æ—¶å€™å‡ºé”™å¯ä»¥æŠŠç›®å½•ä¸‹çš„CMakeCache.txtåˆ é™¤ï¼Œé‡æ–°cmake [root@localhost configure]# rm -rf CMakeCache.txtæç¤ºï¼šâ€“ Configuring doneâ€“ Generating doneCMake Warning: Manually-specified variables were not used by the project: WITH_PAM â€“ Build files have been written to: /tools/mysql-5.7.20/configure cmakeå®Œæˆ warningæš‚æ—¶ä¸çŸ¥ï¼Œå¥½åƒä¹Ÿä¸ä¼šå½±å“ï¼ˆæˆ‘æ˜¯å¿½ç•¥å®ƒç»§ç»­å®‰è£…çš„ï¼‰ make (make éœ€è¦çš„æ—¶é—´ä¼šå¾ˆé•¿,å¤§æ¦‚åœ¨1ä¸ªå°æ—¶å·¦å³)è¿™ä¸ªè¿‡ç¨‹éœ€è¦æ¶ˆè€—å¤§é‡çš„å†…å­˜ä»¥åŠCPUï¼Œå»ºè®®å†…å­˜åœ¨2Gå·¦å³å¯ä»¥é€‚å½“çš„åŠ å¤§Sawp[root@localhost configure]# dd if=/dev/zero of=/swapflie bs=64M count=32[root@localhost configure]# mkswap /swapfliemkswap: /swapflie: warning: donâ€™t erase bootbits sectors on whole disk. Use -f to force.Setting up swapspace version 1, size = 2097148 KiBno label, UUID=dfcbe6be-e60d-4877-9e88-62d642561516[root@localhost configure]# swapon /swapflie[root@localhost configure]# free -lh total used free shared buff/cache availableMem: 992M 344M 88M 440K 558M 459MLow: 992M 903M 88MHigh: 0B 0B 0BSwap: 2.5G 29M 2.5G [root@localhost configure]# make[root@localhost configure]# make install [root@localhost configure]# useradd -s /sbin/nologin mysql [root@localhost configure]# mkdir /application/mysql_data[root@localhost configure]# mkdir /application/mysql_log[root@localhost configure]# chown -R mysql:mysql /mysql_data[root@localhost configure]# chown -R mysql:mysql /application/mysql_log æœ‰äº›ç‰ˆæœ¬éœ€è¦åˆ›å»ºlogæ–‡ä»¶[root@localhost configure]# touch /application/mysql_log/error.logèµ‹æƒé™å­ç›®å½•åŠæ–‡ä»¶[root@localhost configure]# chmod -R 777 /application/mysql_log/error.logç¼–è¯‘å®‰è£…ï¼Œå¯èƒ½æ²¡æœ‰my.cnfæ–‡ä»¶å¯ä»¥è‡ªå·±åˆ›å»ºmy.cnf[root@localhost configure]# vim /etc/my.cnf [mysqld]port = 3306socket = /tmp/mysql.sockbasedir = /application/mysqldatadir = /application/mysql_datapid-file = /application/mysql/mysql.piduser = mysqlexplicit_defaults_for_timestamp=truelog_error=/application/mysql_log/error.log [root@localhost configure]# touch /application/mysql/mysql.sock[root@localhost configure]# touch /application/mysql/mysql.pid[root@localhost configure]# chmod -R 777 /application/mysql/mysql.sock [root@localhost configure]# /application/mysql/bin/mysqld â€“initialize â€“user=mysql â€“datadir=/application/mysql_data/ â€“basedir=/application/mysql/2019-09-21T07:34:15.929591Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use â€“explicit_defaults_for_timestamp server option (see documentation for more details).2019-09-21T07:34:16.885942Z 0 [Warning] InnoDB: New log files created, LSN=457902019-09-21T07:34:17.002087Z 0 [Warning] InnoDB: Creating foreign key constraint system tables.2019-09-21T07:34:17.065937Z 0 [Warning] No existing UUID has been found, so we assume that this is the first time that this server has been started. Generating a new UUID: 379f70ce-dc42-11e9-9e47-000c29bce291.2019-09-21T07:34:17.067365Z 0 [Warning] Gtid table is not ready to be used. Table â€˜mysql.gtid_executedâ€™ cannot be opened.2019-09-21T07:34:17.070635Z 1 [Note] A temporary password is generated for root@localhost: _uRqhB5cs9;/[root@localhost configure]# ll /mysql_data/æ€»ç”¨é‡ 110620-rw-râ€”â€“. 1 mysql mysql 56 9æœˆ 21 15:34 auto.cnf-rw-râ€”â€“. 1 mysql mysql 419 9æœˆ 21 15:34 ib_buffer_pool-rw-râ€”â€“. 1 mysql mysql 12582912 9æœˆ 21 15:34 ibdata1-rw-râ€”â€“. 1 mysql mysql 50331648 9æœˆ 21 15:34 ib_logfile0-rw-râ€”â€“. 1 mysql mysql 50331648 9æœˆ 21 15:34 ib_logfile1drwxr-xâ€”. 2 mysql mysql 4096 9æœˆ 21 15:34 mysqldrwxr-xâ€”. 2 mysql mysql 4096 9æœˆ 21 15:34 performance_schemadrwxr-xâ€”. 2 mysql mysql 12288 9æœˆ 21 15:34 sys [root@localhost configure]# tail /application/mysql_log/error.log æŸ¥çœ‹æ˜¯å¦ç”Ÿæˆæ—¥å¿—ä¿¡æ¯ [root@localhost configure]# cp /application/mysql/support-files/mysql.server /etc/init.d/mysqld[root@localhost configure]# cd /etc/init.d/[root@localhost configure]# chmod 777 mysqld [root@localhost configure]# vim /etc/init.d/mysqld basedir=/var/mysql/datadir=/mysql_data [root@localhost configure]# /etc/init.d/mysqld startStarting MySQL. SUCCESS![root@localhost configure]# ps aux |grep mysqld æŸ¥çœ‹è¿›ç¨‹æŸ¥çœ‹mysqlåˆå§‹åŒ–å¯†ç â€”â€”â€”&gt;error.logæ–‡ä»¶ä¸­[root@localhost configure]# cat /application/mysql_log/error.log |grep â€˜A temporary passwordâ€™[root@localhost configure]# grep â€œroot@localhostâ€ /application/mysql_log/error.log[root@localhost configure]# echo â€˜export PATH=$PATH:/var/mysql/bin:â€™ &gt;&gt;/etc/profile[root@localhost configure]# export PATH=$PATH:/var/mysql/bin:[root@localhost configure]# mysql -uroot -pEnter password: mysql&gt; alter user â€˜rootâ€˜@â€™localhostâ€™ identified by â€˜your_passwordâ€™;mysql&gt; show databases;mysql&gt; create database abc;mysql&gt; grant all privileges on abc.* to â€˜rootâ€˜@â€™%â€™ identified by â€˜123456â€™ï¼›mysql&gt; flush privileges;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"web","slug":"web","permalink":"/tags/web/"},{"name":"æ‚¦è¯»","slug":"æ‚¦è¯»","permalink":"/tags/æ‚¦è¯»/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"nginx-vimå°æŠ€å·§","slug":"nginx-vimå°æŠ€å·§","date":"2019-09-02T13:43:39.000Z","updated":"2019-09-02T13:46:25.000Z","comments":true,"path":"2019/09/02/nginx-vimå°æŠ€å·§/","link":"","permalink":"/2019/09/02/nginx-vimå°æŠ€å·§/","excerpt":"","text":"Nginxé…ç½®æ–‡ä»¶ä»£ç é«˜äº®å°æŠ€å·§ æ‹·è´Nginxè§£å‹åŒ…é‡Œçš„contrid/vimåˆ—ï¼š cp -rf contrid/vim/* ~/.vim/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"web","slug":"web","permalink":"/tags/web/"},{"name":"æ‚¦è¯»","slug":"æ‚¦è¯»","permalink":"/tags/æ‚¦è¯»/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"hexo-d bug","slug":"hexo-d-Duge","date":"2019-08-31T13:32:19.000Z","updated":"2019-08-31T13:44:23.000Z","comments":true,"path":"2019/08/31/hexo-d-Duge/","link":"","permalink":"/2019/08/31/hexo-d-Duge/","excerpt":"","text":"hexo -d æŠ¥é”™ä¹‹ä¸€åŒæ­¥ä¸äº†è¿œç¨‹ä»£ç ä»“åº“ PS E:\\hexo&gt; hexo d (node:11316) [DEP0061] DeprecationWarning: fs.SyncWriteStream is deprecated. INFO Deploying: git INFO Clearing .deploy_git folder... INFO Copying files from public folder... fatal: bad config line 1 in file .git/config FATAL Something&#39;s wrong. Maybe you can find the solution here: http://hexo.io/docs/troubleshooting.html Error: fatal: bad config line 1 in file .git/config at ChildProcess.&lt;anonymous&gt; (E:\\hexo\\node_modules\\hexo-util\\lib\\spawn.js:37:17) at ChildProcess.emit (events.js:198:13) at ChildProcess.cp.emit (E:\\hexo\\node_modules\\cross-spawn\\lib\\enoent.js:40:29) at maybeClose (internal/child_process.js:982:16) at Socket.stream.socket.on (internal/child_process.js:389:11) at Socket.emit (events.js:198:13) at Pipe._handle.close (net.js:606:12) è§£å†³æ–¹æ³• æŠŠ .git/config æ–‡ä»¶å†…å®¹æ¸…ç©ºï¼Œå¯èƒ½æ–‡ä»¶å†…å®¹æ ¼å¼å˜æˆäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå†…å®¹æƒ…å†µååœ¨æ‰§è¡Œ hexo cl &amp;&amp; hexo -g &amp;&amp; hexo -d","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"web","slug":"web","permalink":"/tags/web/"},{"name":"æ‚¦è¯»","slug":"æ‚¦è¯»","permalink":"/tags/æ‚¦è¯»/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"yumä»“åº“å°çŸ¥è¯†","slug":"yum1","date":"2019-07-28T11:27:58.000Z","updated":"2019-07-28T13:36:22.000Z","comments":true,"path":"2019/07/28/yum1/","link":"","permalink":"/2019/07/28/yum1/","excerpt":"","text":"è‡ªåŠ¨æ­å»ºæœ¬åœ°yumä»“åº“ä»¥è„šæœ¬çš„æ–¹å¼è¿›è¡Œä»“åº“çš„æ­å»ºåŠæŒ‚è½½ #!/bin/bash #è‡ªåŠ¨æ­å»ºyumæœ¬åœ°ä»“åº“ # cdrom () { mount /dev/cdrom /media/cdrom &amp;&gt; /dev/null [ $? -eq 0 ] &amp;&amp; echo &quot;æŒ‚è½½æˆåŠŸ&quot; } [ -d /media/cdrom ] || mkdir /media/cdrom mount | grep -q /dev/sr0 if [ $? -eq 0 ] then umount /dev/sr0 cdrom else cdrom fi [ -d /etc/yum.repos.d/bak ] || mkdir /etc/yum.repos.d/bak ls -l /etc/yum.repos.d/ | grep *repo &gt; /dev/null if [ $? -ne 0 ] then echo &quot;æ­£åœ¨ç§»åŠ¨æ–‡ä»¶åˆ°ç›®å½•ä¸‹&quot; mv /etc/yum.repos.d/*repo bak else echo &quot;æ–‡ä»¶å·²ç»ç§»åŠ¨ç›®å½•ï¼&quot; fi [ -e /etc/yum.repos.d/centos-media.repo ] || echo &quot;[media] name=CentOS-$releasever - Media baseurl=file:///media/cdrom/ gpgcheck=0 enabled=1&quot; &gt; /etc/yum.repos.d/centos-media.repo echo &quot;æ¸…é™¤yumç¼“å­˜&quot; yum clean all &amp;&gt; /dev/null echo &quot;YUMå·²ç»æ­å»ºå®Œæˆ&quot; echo -n &quot;å…±æœ‰è½¯ä»¶åŒ…:&quot; yum repolist | tail -1 | awk -F&#39;:&#39; &#39;{print $2}&#39; cat /etc/fstab | grep /dev/sr0 &amp;&gt; /dev/null if [ $? -ne 0 ] then echo &quot;æ­£åœ¨å†™å…¥å¼€æœºè‡ªåŠ¨æŒ‚è½½å…‰ç›˜&quot; echo &quot; /dev/sr0 /media/cdrom iso9660 defaults 0 0 &quot;&gt;&gt; /etc/fstab fi","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"linux","slug":"linux","permalink":"/tags/linux/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"ç¢ç¢","slug":"ç¢ç¢","date":"2019-07-26T14:08:40.000Z","updated":"2019-07-28T07:15:30.000Z","comments":true,"path":"2019/07/26/ç¢ç¢/","link":"","permalink":"/2019/07/26/ç¢ç¢/","excerpt":"","text":"ä»Šå¹´27å²ï¼Œæ•´ä¸ªäººç”Ÿå·²ç»è¿‡äº†1/3ã€‚é¥æƒ³å½“ä½ è¯»ä¹¦æ—¶å€™çš„æˆ‘ï¼Œç›¼æœ›ç€èƒ½å¿«ç‚¹é•¿å¤§æˆäººï¼Œèƒ½æ’æ‹–å­¦ä¸šï¼Œè‡ªç”±è‡ªåœ¨ä¸å—çˆ¶æ¯çº¦æŸçš„ç”Ÿæ´»ï¼Œæ˜¯å¤šä¹ˆçš„å¹¼ç¨šã€‚å­åç¥è¯´ï¼šâ€œåªæœ‰å¤©æ¡¥åº•ä¸‹çš„æµªå­æ‰ä¼šè¿‡å¾—å¦‚æ­¤æ´’è„±ï¼â€ç°åœ¨çœŸå¸Œæœ›æ—¶é—´èƒ½è¿‡å¾—æ…¢ä¸€ç‚¹ï¼Œæ…¢ç”Ÿæ´»â€¦ é•¿å¤§äº†ï¼Œæ¯•ä¸šå‡ºæ¥å·¥ä½œäº†4å¹´å¤šï¼Œä¸€äº‹æ— æˆã€‚æ¯å¤©å¿™ç€å¹²æ´»ï¼Œåƒä¸ªæœºå™¨äººä¸€æ ·ï¼Œä¹Ÿä¸çŸ¥é“è‡ªå·±åœ¨è¿½æ±‚ä»€ä¹ˆï¼Œæœ‰æ—¶å€™è¿˜çœŸçš„åœ¨æƒ³: ä¸€ä¸ªäººæ´»ç€æˆ–è€…å­˜åœ¨çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼è„‘è¢‹éƒ½ç‚¸äº†","categories":[],"tags":[],"keywords":[]},{"title":"nginxåŸºç¡€","slug":"nginx","date":"2019-07-22T03:10:56.000Z","updated":"2019-09-28T13:08:51.000Z","comments":true,"path":"2019/07/22/nginx/","link":"","permalink":"/2019/07/22/nginx/","excerpt":"","text":"Nginxä¸Apacheåœ¨æ€§èƒ½ä¸Šï¼ŒNginxå ç”¨çš„ç³»ç»Ÿèµ„æºæ›´å°‘ï¼Œèƒ½å¤Ÿæ”¯æŒæ›´å¤šçš„å¹¶å‘è¿æ¥ï¼Œè¾¾åˆ°æ›´é«˜çš„è®¿é—®æ•ˆç‡ï¼Œè¿˜å¯ä»¥æä¾›åå‘ä»£ç†è´Ÿè½½å‡è¡¡åŠç¼“å­˜æœåŠ¡ã€‚ NginxåŠŸèƒ½ è¿œç¨‹FastCGIæœåŠ¡çš„ç¼“å­˜åŠ é€Ÿ Uwsgiã€SCGIã€Memcahache Serversçš„åŠ é€Ÿå’Œç¼“å­˜ æ”¯æŒ SSLã€TLSã€SNI æ”¯æŒKeep-aliveå’Œpipelinedè¿æ¥ å¯å¹³æ»‘é‡å¯ï¼Œä¸ä¸­æ–­ä¸šåŠ¡è®¿é—® è´Ÿè½½å‡è¡¡åŠåå‘ä»£ç† æ”¯æŒrewriteæ¨¡å—ï¼Œæ”¯æŒURLé‡å†™ æ”¯æŒå¼‚æ­¥ç½‘ç»œI/Oäº‹ä»¶æ¨¡å—epoll selectä¸epollæ¨¡å¼åŒºåˆ«ï¼šAapache selectNginx epoll ç¼–è¯‘å®‰è£…NginxNginxæ‰€éœ€è¦çš„pcreåº“ å¦‚æœä¸å®‰è£…pcreåº“ï¼ŒNginxæ— æ³•ä½¿ç”¨rewriteæ¨¡å—ï¼ yum install pcre pcre-devel -y rpm -qa pcre pcre-devel å®‰è£… openssl-devel yum install openssl openssl-devel -y rpm -qa openssl openssl-devel ubuntu : apt-get install openssl libssl-dev apt-get install libpcre3 libpcre3-dev apt-get install zlib1g-dev ä¸‹è½½å®‰è£…å®˜ç½‘ä¸‹è½½å®‰è£…Nginx http://nginx.org/ Welcome to downloadNginxå®˜ç½‘ä¸‹è½½ï¼å»ºè®®é€‰æ‹©ç¨³å®šç‰ˆå®‰è£…. å®‰è£…æ­¥éª¤mkdir -p /home/oldboy/tools cd /home/oldboy/tools wget -q http://nginx.org/download/nginx-1.6.3.tar.gz ls -l nginx-1.6.3.tar.gz useradd nginx -s /sbin/nologin -M tar xf nginx-1.6.3.tar.gz cd nginx-1.6.3 ./configure --user=nginx --group=nginx \\ --prefix=/application/nginx-1.6.3/ --with-http_stub_status_module \\ --with-http_ssl_module make &amp; make install ln -s /application/nginx-1.6.3 /application/nginx ./configure: error: C compiler cc is not found æŠ¥é”™è§£å†³æ–¹æ³•ï¼šyum install gcc -y ./configure â€“help #æŸ¥çœ‹å‚æ•°åˆ—ï¼šâ€“prefix=PATHâ€“with-http_stub_status_module #æ¿€æ´»çŠ¶æ€ä¿¡æ¯â€“with-http_ssl_module #æ¿€æ´»sslåŠŸèƒ½ Nginxå¯åŠ¨ æ£€æŸ¥è¯­æ³•/application/nginx/sbin/nginx -t å¯åŠ¨å‘½ä»¤/application/nginx/sbin/nginxlsof -i:80ä¸€èˆ¬æŠŠå¯åŠ¨å‘½ä»¤æ·»åŠ åˆ°rc.local å¼€æœºè‡ªå¯åŠ¨ åœæ­¢å‘½ä»¤pkill nginx æŸ¥çœ‹ç‰ˆæœ¬/application/nginx/sbin/nginx -V webé”™è¯¯æ—¥å¿—cat /application/nginx/logs/error.log nginxç›®å½•ç»“æ„[root@web01 /]# tree /application/nginx /application/nginx â”œâ”€â”€ conf â”‚ â”œâ”€â”€ fastcgi.conf â”‚ â”œâ”€â”€ fastcgi.conf.default â”‚ â”œâ”€â”€ fastcgi_params â”‚ â”œâ”€â”€ fastcgi_params.default â”‚ â”œâ”€â”€ koi-utf â”‚ â”œâ”€â”€ koi-win â”‚ â”œâ”€â”€ mime.types â”‚ â”œâ”€â”€ mime.types.default â”‚ â”œâ”€â”€ nginx.conf â”‚ â”œâ”€â”€ nginx.conf.default â”‚ â”œâ”€â”€ scgi_params â”‚ â”œâ”€â”€ scgi_params.default â”‚ â”œâ”€â”€ uwsgi_params â”‚ â”œâ”€â”€ uwsgi_params.default â”‚ â””â”€â”€ win-utf â”œâ”€â”€ html â”‚ â”œâ”€â”€ 50x.html â”‚ â””â”€â”€ index.html â”œâ”€â”€ logs â””â”€â”€ sbin â””â”€â”€ nginx 4 directories, 18 files nginxé…ç½®æ–‡ä»¶[root@web01 /]# egrep -v &quot;#|^$&quot; /application/nginx/conf/nginx.conf.default \\ &gt;/application/nginx/conf/nginx.conf worker_processes 1; events { worker_connections 1024; } http { include mime.types; default_type application/octet-stream; sendfile on; keepalive_timeout 65; server { listen 80; server_name localhost; location / { root html; index index.html index.htm; } error_page 500 502 503 504 /50x.html; location = /50x.html { root html; } } } nginxå¯åŠ¨è„šæœ¬#!/bin/bash # chkconfig: - 85 15 # description: Nginx server control script # processname: nginx # config file: /usr/local/nginx/conf/nginx.conf # pid file: /usr/local/nginx/logs/nginx.pid # eastmoney public tools # version: v1.0.0 # create by XuHoo, 2016-9-14 # source function library . /etc/rc.d/init.d/functions NGINX_NAME=&quot;nginx&quot; NGINX_PROG=&quot;/usr/local/sbin/nginx&quot; NGINX_PID_FILE=&quot;/usr/local/nginx/logs/nginx.pid&quot; NGINX_CONF_FILE=&quot;/usr/local/nginx/conf/nginx.conf&quot; NGINX_LOCK_FILE=&quot;/var/lock/subsys/nginx.lock&quot; # check current user [ &quot;$USER&quot; != &quot;root&quot; ] &amp;&amp; exit 1 start() { status if [[ $? -eq 0 ]]; then echo $&quot;Nginx (PID $(cat $NGINX_PID_FILE)) already started.&quot; return 1 fi echo -n $&quot;Starting $NGINX_NAME: &quot; daemon $NGINX_PROG -c $NGINX_CONF_FILE retval=$? echo [ $retval -eq 0 ] &amp;&amp; touch $NGINX_LOCK_FILE return $retval } stop() { status if [[ $? -eq 1 ]]; then echo &quot;Nginx server already stopped.&quot; return 1 fi echo -n $&quot;Stoping $NGINX_NAME: &quot; killproc $NGINX_PROG retval=$? echo [ $retval -eq 0 ] &amp;&amp; rm -f $NGINX_LOCK_FILE return $retval } restart() { stop sleep 1 start retval=$? return $retval } reload() { echo -n $&quot;Reloading $NGINX_NAME: &quot; killproc $NGINX_PROG -HUP retval=$? echo return $retval } status() { netstat -anpt | grep &quot;/nginx&quot; | awk &#39;{print $6}&#39; &amp;&gt; /dev/null if [[ $? -eq 0 ]]; then if [[ -f $NGINX_LOCK_FILE ]]; then return 0 else return 1 fi fi return 1 } _status() { status if [[ $? -eq 0 ]]; then state=`netstat -anpt | grep &quot;/nginx&quot; | awk &#39;{ print $6 }&#39;` echo $&quot;Nginx server status is: $state&quot; else echo &quot;Nginx server is not running&quot; fi } test() { $NGINX_PROG -t -c $NGINX_CONF_FILE retval=$? return $retval } case &quot;$1&quot; in start) start ;; stop) stop ;; reload) reload ;; restart) restart ;; status) _status ;; test) test ;; *) echo &quot;Usage: { start | stop | reload | restart | status | test }&quot; exit 1 esac ä¸¤ä¸ªè„šæœ¬ #!/bin/bash #chkconfig: 2345 99 20 #description:Nginx Server Control Scripts shell PROG=&quot;/usr/local/nginx/sbin/nginx&quot; PIDF=&quot;/usr/local/nginx/logs/nginx.pid&quot; case &quot;$1&quot; in start) if [ -f $PIDF ]; then echo &quot;Nginxæ­£åœ¨è¿è¡Œâ€¦&quot; else $PROG fi ;; stop) if [ -f $PIDF ]; then kill -3 $(cat $PIDF) rm -f $PIDF else echo &quot;Nginxæ­£åœ¨åœæ­¢â€¦&quot; fi ;; restart) $0 stop $0 start ;; reload) if [ -f $PIDF ]; then kill -1 $(cat $PIDF) else echo &quot;Nginxæ­£åœ¨åœæ­¢â€¦é‡æ–°åŠ è½½&quot; fi ;; status) if [ -f $PIDF ]; then echo &quot;Nginxæ­£åœ¨è¿è¡Œ&quot; else echo &quot;Nginxåœæ­¢&quot; fi ;; *) echo &quot;Usage: $0 (start|stop|restart|reload|status)&quot; exit 1 esac exit 0","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"linux","slug":"linux","permalink":"/tags/linux/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"èµ·é£äº†","slug":"èµ·é£äº†","date":"2019-07-20T15:21:20.000Z","updated":"2019-07-27T03:49:18.000Z","comments":true,"path":"2019/07/20/èµ·é£äº†/","link":"","permalink":"/2019/07/20/èµ·é£äº†/","excerpt":"","text":"ã€Šèµ·é£äº†ã€‹ å¡«è¯ï¼šç±³æœ è°±æ›²ï¼šé«˜æ¡¥ä¼˜ æ¼”å”±ï¼šä¹°è¾£æ¤’ä¹Ÿç”¨åˆ¸ var ap = new APlayer({ element: document.getElementById(\"aplayer-pTBjClfE\"), narrow: false, autoplay: true, showlrc: false, music: { title: \"èµ·é£äº†\", author: \"ä¹°è¾£æ¤’ä¹Ÿç”¨åˆ¸\", url: \"http://www.ytmp3.cn/down/52186.mp3\", pic: \"http://p1.music.126.net/diGAyEmpymX8G7JcnElncQ==/109951163699673355.jpg\", lrc: \"\" } }); window.aplayers || (window.aplayers = []); window.aplayers.push(ap); è¿™ä¸€è·¯ä¸Šèµ°èµ°åœåœï¼Œé¡ºç€å°‘å¹´æ¼‚æµçš„ç—•è¿¹ è¿ˆå‡ºè½¦ç«™çš„å‰ä¸€åˆ»ï¼Œç«Ÿæœ‰äº›çŠ¹è±« ä¸ç¦ç¬‘è¿™è¿‘ä¹¡æƒ…æ€¯ï¼Œä»æ— å¯é¿å… è€Œé•¿é‡çš„å¤©ï¼Œä¾æ—§é‚£ä¹ˆæš– é£å¹èµ·äº†ä»å‰ï¼Œä»å‰åˆè¯†è¿™ä¸–é—´ï¼Œä¸‡èˆ¬æµè¿ çœ‹ç€å¤©è¾¹ä¼¼åœ¨çœ¼å‰ï¼Œä¹Ÿç”˜æ„¿èµ´æ±¤è¹ˆç«å»èµ°å®ƒä¸€é å¦‚ä»Šèµ°è¿‡è¿™ä¸–é—´ï¼Œä¸‡èˆ¬æµè¿ ç¿»è¿‡å²æœˆä¸åŒä¾§è„¸ï¼Œæªä¸åŠé˜²é—¯å…¥ä½ çš„ç¬‘é¢œ æˆ‘æ›¾éš¾è‡ªæ‹”äºä¸–ç•Œä¹‹å¤§ï¼Œä¹Ÿæ²‰æººäºå…¶ä¸­æ¢¦è¯ ä¸å¾—çœŸå‡ ä¸åšæŒ£æ‰ ï¼Œä¸æƒ§ç¬‘è¯æˆ‘æ›¾å°†é’æ˜¥ç¿»æ¶Œæˆå¥¹ï¼Œä¹Ÿæ›¾æŒ‡å°–å¼¹å‡ºç››å¤ å¿ƒä¹‹æ‰€åŠ¨ï¼Œ ä¸”å°±éšç¼˜å»å§ é€†ç€å…‰è¡Œèµ° ï¼Œä»»é£å¹é›¨æ‰“ çŸ­çŸ­çš„è·¯èµ°èµ°åœåœï¼Œä¹Ÿæœ‰äº†å‡ åˆ†çš„è·ç¦» ä¸çŸ¥æŠšæ‘¸çš„æ˜¯æ•…äº‹ ï¼Œè¿˜æ˜¯æ®µå¿ƒæƒ… ä¹Ÿè®¸æœŸå¾…çš„ä¸è¿‡æ˜¯ï¼Œ ä¸æ—¶é—´ä¸ºæ•Œ å†æ¬¡çœ‹åˆ°ä½ ï¼Œå¾®å‡‰æ™¨å…‰é‡Œï¼Œç¬‘çš„å¾ˆç”œèœœ ä»å‰åˆè¯†è¿™ä¸–é—´ï¼Œä¸‡èˆ¬æµè¿ çœ‹ç€å¤©è¾¹ä¼¼åœ¨çœ¼å‰ï¼Œä¹Ÿç”˜æ„¿èµ´æ±¤è¹ˆç«å»èµ°å®ƒä¸€é å¦‚ä»Šèµ°è¿‡è¿™ä¸–é—´ï¼Œä¸‡èˆ¬æµè¿ ç¿»è¿‡å²æœˆä¸åŒä¾§è„¸ï¼Œæªä¸åŠé˜²é—¯å…¥ä½ çš„ç¬‘é¢œ æˆ‘æ›¾éš¾è‡ªæ‹”äºä¸–ç•Œä¹‹å¤§ï¼Œä¹Ÿæ²‰æººäºå…¶ä¸­æ¢¦è¯ ä¸å¾—çœŸå‡ï¼Œ ä¸åšæŒ£æ‰ ï¼Œä¸æƒ§ç¬‘è¯ æˆ‘æ›¾å°†é’æ˜¥ç¿»æ¶Œæˆå¥¹ï¼Œä¹Ÿæ›¾æŒ‡å°–å¼¹å‡ºç››å¤ å¿ƒä¹‹æ‰€åŠ¨ ï¼Œä¸”å°±éšç¼˜å»å§ æ™šé£å¹èµ·ä½ é¬“é—´çš„ç™½å‘ï¼ŒæŠšå¹³å›å¿†ç•™ä¸‹çš„ç–¤ ä½ çš„çœ¼ä¸­ ï¼Œæ˜æš—äº¤æ‚ ï¼Œä¸€ç¬‘ç”ŸèŠ± æš®è‰²é®ä½ä½ è¹’è·šçš„æ­¥ä¼ï¼Œèµ°è¿›åºŠå¤´è—èµ·çš„ç”» ç”»ä¸­çš„ä½ ï¼Œ ä½ç€å¤´è¯´è¯ æˆ‘ä»æ„Ÿå¹äºä¸–ç•Œä¹‹å¤§ï¼Œä¹Ÿæ²‰é†‰äºå„¿æ—¶æƒ…è¯ ä¸å‰©çœŸå‡ ï¼Œä¸åšæŒ£æ‰ ï¼Œæ— è°“ç¬‘è¯ æˆ‘ç»ˆå°†é’æ˜¥è¿˜ç»™äº†å¥¹ï¼Œè¿åŒæŒ‡å°–å¼¹å‡ºçš„ç››å¤ å¿ƒä¹‹æ‰€åŠ¨ï¼Œ å°±éšé£å»äº† ä»¥çˆ±ä¹‹åï¼Œ ä½ è¿˜æ„¿æ„å—","categories":[{"name":"ç¢ç¢å¿µå¿µ","slug":"ç¢ç¢å¿µå¿µ","permalink":"/categories/ç¢ç¢å¿µå¿µ/"}],"tags":[{"name":"å¿ƒæƒ…è¯­å½•","slug":"å¿ƒæƒ…è¯­å½•","permalink":"/tags/å¿ƒæƒ…è¯­å½•/"}],"keywords":[{"name":"ç¢ç¢å¿µå¿µ","slug":"ç¢ç¢å¿µå¿µ","permalink":"/categories/ç¢ç¢å¿µå¿µ/"}]},{"title":"Markdownç”¨æ³•","slug":"Markdown","date":"2019-07-12T03:50:43.000Z","updated":"2019-07-19T08:47:06.000Z","comments":true,"path":"2019/07/12/Markdown/","link":"","permalink":"/2019/07/12/Markdown/","excerpt":"","text":"æ ‡é¢˜ # ä¸€çº§æ ‡é¢˜ ## äºŒçº§æ ‡é¢˜ ### è¿™æ˜¯ä¸‰çº§æ ‡é¢˜ #### è¿™æ˜¯å››çº§æ ‡é¢˜ ä»¥æ­¤ç±»æ¨ - æ— åºåˆ—è¡¨ 1.æœ‰åºåˆ—è¡¨ å­—ä½“1.åŠ ç²— è¦åŠ ç²—çš„æ–‡å­—å·¦å³åˆ†åˆ«ç”¨ä¸¤ä¸ª*å·åŒ…èµ·æ¥2.æ–œä½“ è¦å€¾æ–œçš„æ–‡å­—å·¦å³åˆ†åˆ«ç”¨ä¸€ä¸ª*å·åŒ…èµ·æ¥3.å­—ä½“é¢œè‰² &lt;font color=&quot;red&quot;&gt;ä¸­é—´å†™ä¸Šæƒ³è¯´çš„è¯&lt;/font&gt;åˆ—ï¼šé™é™çš„çœ‹ç€ä½ 4.å­—ä½“æ ·å¼ &lt;font face=&quot;å®‹ä½“&quot;&gt;æˆ‘æ˜¯å®‹ä½“å­—&lt;/font&gt; æˆ‘æ˜¯å®‹ä½“å­—&lt;font color=#0099ff size=12 face=&quot;é»‘ä½“&quot;&gt;é»‘ä½“&lt;/font&gt; é»‘ä½“ å¼•ç”¨&gt;è¿™æ˜¯å¼•ç”¨çš„å†…å®¹ &gt;&gt;è¿™æ˜¯å¼•ç”¨çš„å†…å®¹ &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;è¿™æ˜¯å¼•ç”¨çš„å†…å®¹ åˆ†å‰²çº¿--- ---- *** ***** å›¾ç‰‡&lt;img src=&quot;&quot;&gt; fancybox æ ¼å¼ &lt;a href=&quot;&quot; data-fancybox=&quot;gallery&quot;&gt;&lt;img src=&quot;&quot;&gt;&lt;/a&gt; &lt;a href=&quot;è¶…é“¾æ¥åœ°å€&quot; target=&quot;_blank&quot;&gt;è¶…é“¾æ¥å&lt;/a&gt;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"Markdown","slug":"Markdown","permalink":"/tags/Markdown/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"OSI","slug":"OSI-7å±‚","date":"2019-07-06T08:03:14.000Z","updated":"2019-07-19T08:49:14.000Z","comments":true,"path":"2019/07/06/OSI-7å±‚/","link":"","permalink":"/2019/07/06/OSI-7å±‚/","excerpt":"","text":"ä¸ƒå±‚åè®®7 åº”ç”¨å±‚ åº”ç”¨ç¨‹åºåŠæ¥å£6 è¡¨ç¤ºå±‚ å¯¹æ•°æ®è¿›è¡Œè½¬æ¢ï¼ŒåŠ å¯†å’Œå‹ç¼©5 ä¼šè¯å±‚ å»ºç«‹ï¼Œç®¡ç†å’Œç»ˆæ­¢ä¼šè¯4 ä¼ è¾“å±‚ æä¾›å¯é çš„ç‚¹åˆ°ç‚¹çš„æŠ¥æ–‡ä¼ è¾“å’Œå·®é”™æ§åˆ¶ TCP UDP3 ç½‘ç»œå±‚ å°†åˆ†ç»„ä»æºä¼ é€åˆ°ç›®çš„ï¼Œæä¾›ç½‘ç»œäº’è” è·¯ç”±é€‰å€çš„è¿‡ç¨‹ IP ï¼ˆè·¯ç”±å™¨ï¼‰2 æ•°æ®é“¾è·¯å±‚ å°†åˆ†ç»„æ•°æ®è¿›è¡Œå°è£…æˆå¸§ï¼Œæä¾›èŠ‚ç‚¹åˆ°èŠ‚ç‚¹æ–¹å¼çš„ä¼ è¾“1 ç‰©ç†å±‚ åœ¨åª’ä½“ä¸Šä¼ è¾“æ¯”ç‰¹ï¼Œæä¾›æœºæ¢°å’Œç”µæ°”çš„è§„çº¦ RJ45 ARPåœ°å€è§£æåè®®ï¼š æ˜¯æ ¹æ®IPåœ°å€è·å–ç‰©ç†åœ°å€çš„ä¸€ä¸ªTCP/IPåè®® IPåœ°å€çš„ARPè¯·æ±‚å¹¿æ’­åˆ°ç½‘ç»œä¸Šçš„æ‰€æœ‰ä¸»æœº ARPç¼“å­˜ä¸­IPåœ°å€å’ŒMACåœ°å€çš„å¯¹åº”å…³ç³»","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"linux","slug":"linux","permalink":"/tags/linux/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"ç”¨æˆ·æƒé™","slug":"ç”¨æˆ·æƒé™","date":"2019-07-06T07:58:04.000Z","updated":"2019-07-19T08:53:56.000Z","comments":true,"path":"2019/07/06/ç”¨æˆ·æƒé™/","link":"","permalink":"/2019/07/06/ç”¨æˆ·æƒé™/","excerpt":"","text":"/etc/skel/etc/skelç›®å½• ç”¨æ¥å­˜æ”¾æ–°ç”¨æˆ·ç¯å¢ƒå˜é‡ æ–°ç”¨æˆ·åˆ›å»ºå æ–°ç”¨æˆ·å®¶ç›®å½•å°±ä¼šè‡ªåŠ¨å¤åˆ¶ cp -a /etc/skel/* /home/xinyonghu Vi /etc/skel/-bash_porfile æ–‡ä»¶å®šä¹‰ç¯å¢ƒå˜é‡ æ–°ç”¨æˆ·åˆ›å»ºä¹Ÿä¼šåŒæ­¥æ”¹ç¯å¢ƒå˜é‡ /etc/skel çš„ä¼ä¸šåœºæ™¯ä½œç”¨1.å¯ä»¥æŠŠé€šçŸ¥çš„å†…å®¹æ”¾åˆ°skel ï¼Œè®©ç™»å½•çš„äººå»çœ‹2.ç»Ÿä¸€åˆå§‹åŒ–æ–°ç”¨æˆ·ç¯å¢ƒå˜é‡3.é¢è¯•é¢˜ï¼šç³»ç»Ÿå‡ºç° â€“bash-4.1$ é—®é¢˜åŸå› åŠè§£å†³æ–¹æ³•åŸå› ï¼šç”¨æˆ·å®¶ç›®å½•ç¯å¢ƒå˜é‡æ²¡äº†è§£å†³æ–¹æ³•ï¼šåœ¨è¯¥ç”¨æˆ·ä¸‹ï¼šcp â€“a /etc/skel/.bash* . æœ€åçš„ . è¡¨ç¤ºå¤åˆ¶åˆ°å½“å‰ç›®å½• useradd/etc/dfault/useradd æ·»åŠ ç”¨æˆ·æ˜¯éœ€è¦è°ƒç”¨çš„ä¸€ä¸ªé»˜è®¤é…ç½®æ–‡ä»¶ Passwd â€“n 7 â€“x 60 â€“w 10 â€“i 30 oldboy Chage â€“l oldboy Chage â€“m 7 â€“M 60 â€“W 10 â€“I 30 oldboy ä¸€æ ·çš„ Chage â€“E â€œ2019/06/07â€ oldboy Last password change : Apr 29, 2019 Password expires : Jun 28, 2019 Password inactive : Jul 28, 2019 Account expires : never Minimum number of days between password change : 7 Maximum number of days between password change : 60 Number of days of warning before password expires : 10 Userdel Userdel â€“ r åˆ é™¤å®¶ç›®å½•ä¼ä¸šåœºæ™¯å¤„ç†æ–¹æ³•ï¼šä¸€èˆ¬ä¸èƒ½ç¡®è®¤ç”¨æˆ·ç›¸å…³ç›®å½•æœ‰æœ¨æœ‰é‡è¦æ•°æ®å°±ä¸èƒ½ç”¨ â€“råˆ é™¤ç»éªŒï¼š1ï¼Œvi /etc/passwd ï¼Œç„¶åæ³¨é‡Šæ‰ç”¨æˆ·ï¼Œè§‚å¯Ÿ1ä¸ªæœˆï¼Œè¿™æ ·å‡ºé—®é¢˜å¯ä»¥è¿˜åŸï¼Œç›¸å½“äºæ“ä½œå‰å¤‡ä»½2ï¼ŒæŠŠç™»å½•shell æ”¹æˆ /sbin/nologin3ï¼Œopenldap ï¼ˆç±»ä¼¼æ´»åŠ¨ç›®å½•ï¼‰è´¦å·ç»Ÿä¸€ç®¡ç†çš„ï¼Œldapåº“é‡Œå¹²æ‰ç”¨æˆ·ï¼Œæ‰€æœ‰æœåŠ¡å™¨å…¨éƒ¨éƒ½æ²¡äº†æç¤ºï¼šåªè¦ä¿®æ”¹å’Œåˆ é™¤éƒ½è¦å°å¿ƒè°¨æ… ç”¨æˆ·å±æ€§useradd oldboy -e 01/28/12useradd -D -e 01/19/12 #â†’ä¿®æ”¹é»˜è®¤æƒ…å†µæ–°å»ºå¸æˆ·è¿‡æœŸæ—¶é—´,è®¾ç½®åï¼Œæ–°ç”¨æˆ·éƒ½ä¼šåœ¨è¿™ä¸ªæ—¶é—´åè¿‡æœŸã€‚useradd -D|grep EXPIR #â†’ä¿®æ”¹å·²æˆæ•ˆã€‚EXPIRE=01/19/12useradd -D -e â€œâ€ #â†’æµ‹è¯•å®Œæ¯•è¿˜åŸ useradd â€“Dç‰¹åˆ«æç¤ºï¼šè¿™é‡Œä»…æ˜¯æ›´æ”¹äº†é…ç½®æ–‡ä»¶çš„é»˜è®¤å€¼ï¼Œä»…å¯¹ä¹‹åå»ºç«‹çš„æ–°ç”¨æˆ·ç”Ÿæ•ˆï¼Œå’Œè€ç”¨æˆ·æ— å…³ã€‚æ›´æ”¹ç”¨æˆ·æ—¶ï¼šæ³•äºŒï¼šä¿®æ”¹è´¦æˆ·å±æ€§usermod -e 01/28/12 oldboyæ³•ä¸‰ï¼šè°ƒæ•´è´¦æˆ·è¿‡æœŸchage -E 01/28/12 oldboy ç”¨æˆ·ç™»å½•ä¿¡æ¯W who whomi last lastlog umask Su â€“ åˆ‡æ¢ç”¨æˆ·èº«ä»½ -c æŒ‡å®šç”¨æˆ·èº«ä»½æ‰§è¡Œä»»åŠ¡ su â€“ oldboy â€“c â€˜ pwd â€™ åˆ›å»ºç”¨æˆ·è„šæœ¬echo stu{1..10}|xargs -n1 |sed &#39;s#.*#useradd &amp; \\&amp;\\&amp; echo $RANDOM|md5sum|cut -c 1-8 &gt;&gt;/tmp/mima.txt \\&amp;\\echo &#39;tail -1 /tmp/nima.txt&#39;|passwd --stdin &amp;#gp&#39;|bash visudoSudoå¯ä»¥è®©æ™®é€šç”¨æˆ·æ‹¥æœ‰rootæƒé™å»æ‰§è¡Œå‘½ä»¤Sudo â€“lVisudo å¯ä»¥å¯¹ : /etc/sudoersæ–‡ä»¶è¿›è¡Œä¿®æ”¹ # Allow root to run any commands anywhere root ALL=(ALL) ALL dc2-user ALL=(ALL) NOPASSWD: ALL æ£€æŸ¥è¯­æ³•visudo â€“c Linuxç³»ç»Ÿå®‰å…¨æœ€å°åŸåˆ™1.å®‰è£…Linuxç³»ç»Ÿæœ€å°åŒ–ï¼Œå³yumå®‰è£…åŒ…æœ€å°åŒ–ï¼Œæ— ç”¨çš„åŒ…ä¸è£…2.å¼€æœºè‡ªå¯åŠ¨æœåŠ¡æœ€å°åŒ–3.æ“ä½œå‘½ä»¤æœ€å°åŒ–ï¼Œä¾‹å¦‚ï¼šèƒ½ç”¨ rm -f å°±ä¸ç”¨ rm -fr4.ç™»é™†Linuxç”¨æˆ·æœ€å°åŒ–ï¼Œå¹³æ—¶æ²¡æœ‰ç‰¹æ®Šéœ€è¦ä¸ç™»é™†root ç”¨æ™®é€šç”¨æˆ·5.ç”¨æˆ·æƒé™æœ€å°åŒ–ï¼Œåªç»™ç”¨æˆ·å¿…é¡»çš„ç®¡ç†ç³»ç»Ÿçš„å‘½ä»¤ï¼Œä¸èƒ½å•¥éƒ½å¯ä»¥å¹²6.Linuxç³»ç»Ÿæ–‡ä»¶åŠç›®å½•çš„æƒé™è®¾ç½®æœ€å°åŒ–ï¼Œç¦æ­¢éšæ„åˆ›å»ºï¼Œæ›´æ”¹ï¼Œåˆ é™¤æ–‡ä»¶ å·¥ä½œéœ€æ±‚å¼€å‘äººå‘˜ï¼šUser_Alias KAIFA_ADMINS = kaifa01, kaifa02 å‘½ä»¤æƒé™: KAIFACMD èº«ä»½æƒé™: OP1 è¿ç»´äººå‘˜: User_Alias OLD_ADMINS = oldboy, oldboy1,%sa å‘½ä»¤æƒé™: USERCMD, DISKCMD, NETMAGCMD, CTRLCMD èº«ä»½æƒé™:OP1 ç½‘ç»œå·¥ç¨‹å¸ˆ: User_Alias OLD_NETADMINS = leo, maya å‘½ä»¤æƒé™:NETMAGCMD èº«ä»½æƒé™:OP2 #ç”¨æˆ·åˆ«ååˆ†ç±»: User_Alias User_Alias KAIFA_ADMINS = kaifa01, kaifa02 User_Alias OLD_ADMINS = oldboy, oldboy1,%sa User_Alias OLD_NETADMINS = leo, maya #å²—ä½å‘½ä»¤åˆ†ç±»åˆ«å: Cmnd_Alias USERCMD = /usr/sbin/useradd, /usr/sbin/userdel,\\ \\æ¢è¡Œ /usr/bin/passwd [A-Za-z]*, /bin/chown, /bin/chmod Cmnd_Alias DISKCMD = /sbin/fdisk, /bin/parted Cmnd_Alias NETMAGCMD = /sbin/ifconfig, /etc/init.d/network Cmnd_Alias CTRLCMD = /usr/sbin/reboot, /usr/sbin/halt Cmnd_Alias KAIFACMD = /bin/grep, /usr/bin/tail, /bin/cat #è§’è‰² Runas_Alias OP1 = root, oldboy Runas_Alias OP2 = rott, oldgirl #æˆæƒ: #root ALL=(ALL) ALL #ç”¨æˆ· æœºå™¨ è§’è‰² å‘½ä»¤ KAIFA_ADMINS ALL=(OP1) KAIFACMD OLD_ADMINS ALL=(OP1) USERCMD, DISKCMD, NETMAGCMD, CTRLCMD OLD_NETADMINS ALL=(OP2) NETMAGCMD ç”Ÿäº§ç¯å¢ƒä¼ä¸šæ—¥å¿—å®¡è®¡è§£å†³æ–¹æ¡ˆï¼š sudo é…åˆ rsyslog è¿›è¡Œå®¡è®¡ yum install sudo syslog -y echo â€œDefaults logflie=/var/log/sudo.logâ€ &gt;&gt;/etc/sudoers ä¸€è¡Œæå®šsudo å®¡è®¡","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"linux","slug":"linux","permalink":"/tags/linux/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"cobbler","slug":"cobbler","date":"2019-07-02T14:46:12.000Z","updated":"2019-07-19T08:44:00.000Z","comments":true,"path":"2019/07/02/cobbler/","link":"","permalink":"/2019/07/02/cobbler/","excerpt":"","text":"CobblerCobbleræ˜¯ä¸€ä¸ªLinuxæœåŠ¡å™¨å®‰è£…çš„æœåŠ¡é€šè¿‡ç½‘ç»œå¯åŠ¨(PXE)çš„æ–¹å¼æ¥å¿«é€Ÿå®‰è£…ã€é‡ è£…ç‰©ç†æœåŠ¡å™¨å’Œè™šæ‹ŸæœºåŒæ—¶è¿˜å¯ä»¥ç®¡ç† DHCPï¼ŒDNSç­‰ä½¿ç”¨å‘½ä»¤è¡Œæ–¹å¼ç®¡ç†ï¼Œä¹Ÿæä¾›äº†åŸºäº Web çš„ç•Œé¢ç®¡ç†å·¥å…·(cobbler-web)è¿˜æä¾›äº†APIæ¥å£æ˜¯è¾ƒæ—©å‰çš„ kickstart çš„å‡çº§ç‰ˆï¼Œä¼˜ç‚¹æ˜¯æ¯”è¾ƒå®¹æ˜“é…ç½®ï¼Œè¿˜è‡ªå¸¦ web ç•Œé¢æ¯”è¾ƒæ˜“äº ç®¡ç†å†…ç½®äº†ä¸€ä¸ªè½»é‡çº§é…ç½®ç®¡ç†ç³»ç»Ÿï¼Œä½†å®ƒä¹Ÿæ”¯æŒå’Œå…¶å®ƒé…ç½®ç®¡ç†ç³»ç»Ÿé›†æˆï¼Œå¦‚ Puppetï¼Œæš‚æ—¶ä¸æ”¯æŒ SaltStack é›†æˆæœåŠ¡PXE #æœåŠ¡æ”¯æŒ ç”µæºç®¡ç† DHCP #æœåŠ¡ç®¡ç† Kicckstart #æœåŠ¡æ”¯æŒ DNS #æœåŠ¡ç®¡ç† YUM #ä»“åº“ç®¡ç† TFTP Apache ç¯å¢ƒå‡†å¤‡å…³é—­selinuxå…³é—­iptables å®‰è£…cobblerDjangeså®‰è£…wget https://kojipkgs.fedoraproject.org//packages/Django14/1.4.14/1.el6/noar ch/Django14-1.4.14-1.el6.noarch.rpm rpm -ivh Django14-1.4.14-1.el6.noarch.rpm ç›¸å…³ç¨‹åºå®‰è£…yum -y install cobbler cobbler-web dhcp tftp-server pykickstart httpd cobbleræ–‡ä»¶åˆ—è¡¨éƒ¨åˆ†é‡è¦å®‰è£…çš„æ–‡ä»¶ list /etc/cobbler # é…ç½®æ–‡ä»¶ç›®å½• /etc/cobbler/settings # cobbler ä¸»é…ç½®æ–‡ä»¶ /etc/cobbler/dhcp.template # DHCP æœåŠ¡çš„é…ç½®æ¨¡æ¿ /etc/cobbler/tftpd.template # tftp æœåŠ¡çš„é…ç½®æ¨¡æ¿ /etc/cobbler/rsync.template # rsync æœåŠ¡çš„é…ç½®æ¨¡æ¿ /etc/cobbler/iso # iso æ¨¡æ¿é…ç½®æ–‡ä»¶ç›®å½• /etc/cobbler/pxe # pxe æ¨¡æ¿æ–‡ä»¶ç›®å½• /etc/cobbler/power # ç”µæºçš„é…ç½®æ–‡ä»¶ç›®å½• /etc/cobbler/users.conf # Web æœåŠ¡æˆæƒé…ç½®æ–‡ä»¶ /etc/cobbler/users.digest # ç”¨äº web è®¿é—®çš„ç”¨æˆ·åå¯†ç é…ç½®æ–‡ä»¶ /etc/cobbler/dnsmasq.template # DNS æœåŠ¡çš„é…ç½®æ¨¡æ¿ /etc/cobbler/modules.conf # Cobbler æ¨¡å—é…ç½®æ–‡ä»¶ /var/lib/cobbler # Cobbler æ•°æ®ç›®å½• /var/lib/cobbler/config # é…ç½®æ–‡ä»¶ /var/lib/cobbler/kickstarts # é»˜è®¤å­˜æ”¾ kickstart æ–‡ä»¶ /var/lib/cobbler/loaders # å­˜æ”¾çš„å„ç§å¼•å¯¼ç¨‹åº /var/www/cobbler # ç³»ç»Ÿå®‰è£…é•œåƒç›®å½• /var/www/cobbler/ks_mirror # å¯¼å…¥çš„ç³»ç»Ÿé•œåƒåˆ—è¡¨ /var/www/cobbler/images # å¯¼å…¥çš„ç³»ç»Ÿé•œåƒå¯åŠ¨æ–‡ä»¶ /var/www/cobbler/repo_mirror # yum æºå­˜å‚¨ç›®å½• /var/log/cobbler # æ—¥å¿—ç›®å½• /var/log/cobbler/install.log # å®¢æˆ·ç«¯ç³»ç»Ÿå®‰è£…æ—¥å¿— /var/log/cobbler/cobbler.log # cobbler æ—¥å¿— æœåŠ¡å¯åŠ¨/etc/init.d/httpd restart /etc/init.d/cobblerd start /etc/init.d/cobblerd restart cobbler check é…ç½®cp /etc/cobbler/settings{,.bak} sed -i &#39;s/server:127.0.01/server: 192.168.198.10/&#39; /etc/cobbler/settings sed -i &#39;s/next_server:127.0.0.1/next_server: 192.168.198.10/&#39; /etc/cobbler/settings sed -i &#39;s/manage_dhcp: 0/manage_dhcp: 1/&#39; /etc/cobbler/settings sed -i &#39;s/pxe_just_once: 0/pxe_just_once: 1/&#39; /etc/cobbler/settings tftpvim /etc/xinetd.d/tftp Disable=yes ä¿®æ”¹æˆ disable=no /etc/init.d/xinetd restart /etc/init.d/cobblerd restart rsynccobbler get-loaders vim /etc/xinetd.d/rsync Disable=yes ä¿®æ”¹æˆ disable=no /etc/init.d/xinetd restart /etc/init.d/cobblerd restart è®¾ç½®å¯†ç openssl passwd -1 -salt &#39;cobbler&#39; &#39;baidu.com@ip&#39; $1$cobbler$lkvW4zie3vvYEm.jVp0vE vim /etc/cobbler/settings default_password_crypted: &quot;$1$cobbler$lkvW4zie3vvYEm.jVp0vE.&quot; /etc/init.d/cobblerd restart cobbler check DHCPvim /etc/cobbler/dhcp.template cobbler sync å¼€æœºå¯åŠ¨è„šæœ¬cat &gt;&gt;/etc/init.d/cobbler&lt;&lt;EOF #!/bin/bash # chkconfig: 345 80 90 # description:cobbler ./etc/init.d/functions case \\$1 in start) /etc/init.d/httpd start /etc/init.d/xinetd start /etc/init.d/dhcpd start /etc/init.d/cobblerd start ;; stop) /etc/init.d/httpd stop /etc/init.d/xinetd stop /etc/init.d/dhcpd stop /etc/init.d/cobblerd stop ;; restart) /etc/init.d/httpd restart /etc/init.d/xinetd restart /etc/init.d/dhcpd restart /etc/init.d/cobblerd restart ;; status) /etc/init.d/httpd status /etc/init.d/xinetd status /etc/init.d/dhcpd status /etc/init.d/cobblerd status ;; sync) cobbler sync ;; *) echo &quot;Input error,please in put &#39;start|stop|restart|status|sync&#39;!&quot; exit 2 ;; esac EOF chmod +x /etc/init.d/cobbler chkconfig cobbler on cobblerå‘½ä»¤cobbler import â€“help å¯¼å…¥é•œåƒ cobbler check æ ¸å¯¹å½“å‰è®¾ç½®æ˜¯å¦æœ‰é—®é¢˜ cobbler list åˆ—å‡ºæ‰€æœ‰çš„ cobbler å…ƒç´  cobbler report åˆ—å‡ºå…ƒç´ çš„è¯¦ç»†ä¿¡æ¯ cobbler sync åŒæ­¥é…ç½®åˆ°æ•°æ®ç›®å½•,æ›´æ”¹é…ç½®æœ€å¥½éƒ½è¦æ‰§è¡Œä¸‹ cobbler reposync åŒæ­¥ yum ä»“åº“ cobbler distro æŸ¥çœ‹å¯¼å…¥çš„å‘è¡Œç‰ˆç³»ç»Ÿä¿¡æ¯ cobbler system æŸ¥çœ‹æ·»åŠ çš„ç³»ç»Ÿä¿¡æ¯ cobbler profile æŸ¥çœ‹é…ç½®ä¿¡æ¯ æŒ‚è½½é•œåƒæºmount /dev/cdrom /mnt/ cobbler import --path=/mnt/ --name=CentOS6.5-x86_64 --arch=x86_64 --name ä¸ºå®‰è£…æºå®šä¹‰ä¸€ä¸ªåå­— --arch æŒ‡å®šå®‰è£…æºæ˜¯ 32 ä½ã€64 ä½ã€ia64, ç›®å‰æ”¯æŒçš„é€‰é¡¹æœ‰: x86â”‚x86_64â”‚ ia64 å®‰è£…æºçš„å”¯ä¸€æ ‡ç¤ºå°±æ˜¯æ ¹æ® name å‚æ•°æ¥å®šä¹‰ï¼Œæœ¬ä¾‹å¯¼å…¥æˆåŠŸåï¼Œå®‰è£…æºçš„å”¯ä¸€æ ‡ç¤º å°±æ˜¯ï¼šCentOS-7.1-x86_64ï¼Œå¦‚æœé‡å¤ï¼Œç³»ç»Ÿä¼šæç¤ºå¯¼å…¥å¤±è´¥ æŸ¥çœ‹é•œåƒåˆ—è¡¨cobbler distro list CentOS-6.5-x86_64 é•œåƒå­˜æ”¾ç›®å½•ï¼Œcobbler ä¼šå°†é•œåƒä¸­çš„æ‰€æœ‰å®‰è£…æ–‡ä»¶æ‹·è´åˆ°æœ¬åœ°ä¸€ä»½ï¼Œæ”¾åœ¨ /var/www/cobbler/ks_mirror ä¸‹çš„ CentOS-7.1-x86_64 ç›®å½•ä¸‹ã€‚å› æ­¤ /var/www/cobbler ç›®å½•å¿…é¡»å…·æœ‰è¶³å¤Ÿå®¹çº³å®‰è£…æ–‡ä»¶çš„ç©ºé—´ ls /var/www/cobbler/ks_mirror/ CentOS-6.5-x86_64 config ks.cfgæ–‡ä»¶ # Cobbler çš„ ks.cfg æ–‡ä»¶å­˜æ”¾ä½ç½®è‡ªå·±å†™å¥½çš„ä¸Šä¼ åˆ°/var/lib/cobbler/kicstarts/CentOS-6.5-x86_64.cfg cat CentOS-6.5-x86_64.cfg # platform=x86, AMD64, or Intel EM64T # version=DEVEL # Firewall configuration firewall --disabled # Install OS instead of upgrade install # Use network installation url --url=$tree # repo --name=&quot;CentOS&quot; --baseurl=cdrom:sr0 --cost=100 # Root password rootpw --iscrypted $1$cobbler$lkvW4zie3vvYEm.jVp0vE. # System authorization information auth --useshadow --passalgo=sha512 # Use graphical install graphical # System keyboard keyboard us # System language lang en_US.UTF-8 # SELinux configuration selinux --disabled # Do not configure the X Window System skipx # Installation logging level # logging --level=info # Reboot after installation reboot # System timezone timezone Asia/Shanghai # Network information network --bootproto=dhcp # network --bootproto=dhcp --device=eth0 --onboot=on # System bootloader configuration bootloader --append=&quot;crashkernel=auto rhgb quiet&quot; --location=mbr -driveorder=&quot;sda&quot; # Clear the Master Boot Record zerombr # Partition clearing information clearpart --all --initlabel # Disk partitioning information part /boot --bytes-per-inode=4096 --fstype=&quot;ext4&quot; --size=300 part pv.01 --size=4096 --grow volgroup myvg --pesize=4096 pv.01 logvol swap --name=lv_swap --vgname=myvg --size=4096 logvol / --fstype=ext4 --name=lv_root --vgname=myvg --size=1 --grow %packages --nobase @core # Common tools tree nmap sysstat lrzsz dos2unix telnet vim openssh-clients wget %end %post # Create default file path mkdir -p /server/{scripts,tools,backup} # add scripts %end åœ¨ç¬¬ä¸€æ¬¡å¯¼å…¥ç³»ç»Ÿé•œåƒåï¼ŒCobbler ä¼šç»™é•œåƒæŒ‡å®šä¸€ä¸ªé»˜è®¤çš„ kickstart è‡ªåŠ¨å®‰è£…æ–‡ ä»¶åœ¨/var/lib/cobbler/kickstarts ä¸‹çš„ sample_end.ks æŸ¥çœ‹å®‰è£…é•œåƒæ–‡ä»¶ä¿¡æ¯ cobbler distro report Name : CentOS-6.5-x86_64 Architecture : x86_64 TFTP Boot Files : {} Breed : redhat Comment : Fetchable Files : {} Initrd : /var/www/cobbler/ks_mirror/CentOS-6.5x86_64/images/pxeboot/initrd.img Kernel : /var/www/cobbler/ks_mirror/CentOS-6.5x86_64/images/pxeboot/vmlinuz Kernel Options : {} Kernel Options (Post Install) : {} Kickstart Metadata : {&#39;tree&#39;: &#39;http://@@http_server@@/cblr/links/CentOS-6.5-x86_64&#39;} Management Classes : [] OS Version : rhel6 Owners : [&#39;admin&#39;] Red Hat Management Key : &lt;&lt;inherit&gt;&gt; Red Hat Management Server : &lt;&lt;inherit&gt;&gt; Template Files : {} # æŸ¥çœ‹æŒ‡å®šçš„ profile è®¾ç½® cobbler profile report -name=CentOS-6.5-x86_64 Name : CentOS-6.5-x86_64 TFTP Boot Files : {} Comment : DHCP Tag : default Distribution : CentOS-6.5-x86_64 Enable gPXE? : 0 Enable PXE Menu? : 1 Fetchable Files : {} Kernel Options : {} Kernel Options (Post Install) : {} Kickstart : /var/lib/cobbler/kickstarts/sample_end.ks Kickstart Metadata : {} Management Classes : [] Management Parameters : &lt;&lt;inherit&gt;&gt; Name Servers : [] Name Servers Search Path : [] Owners : [&#39;admin&#39;] Parent Profile : Internal proxy : Red Hat Management Key : &lt;&lt;inherit&gt;&gt; Red Hat Management Server : &lt;&lt;inherit&gt;&gt; Repos : [] Server Override : &lt;&lt;inherit&gt;&gt; Template Files : {} Virt Auto Boot : 1 Virt Bridge : xenbr0 Virt CPUs : 1 Virt Disk Driver Type : raw Virt File Size(GB) : 5 Virt Path : Virt RAM (MB) : 512 Virt Type : kvm ç¼–è¾‘profileä¿®æ”¹å…³è”çš„ ks æ–‡ä»¶ cobbler profile edit --name=CentOS6.5-x86_64 --kickstart=/var/lib/cobbler/kickstarts/CentOS-6.5-86_64.cfg cobbler sync å®‰è£…ç³»ç»Ÿvim /etc/cobbler/pxe/pxedefault.template cobbler sync å®šåˆ¶åŒ–å®‰è£…cobbler system add --name=CentOS6.5-x86_64 --mac=00:50:56:36:6B:44 --profile=CentOS-6.5-x86_64 --ipaddress=192.168.198.111 --subnet=255.255.255.0 --gateway=192.168.198.2 -interface=eth0 --static=1 --hostname=gz01-sys-map02 --nameservers=&quot;114.114.114.114 8.8.8.8&quot; 1. # --name è‡ªå®šä¹‰ï¼Œä½†ä¸èƒ½é‡å¤ 2. # æŸ¥çœ‹å®šä¹‰çš„åˆ—è¡¨ cobbler sync ###webç®¡ç† /etc/cobbler/users.conf # Web æœåŠ¡æˆæƒé…ç½®æ–‡ä»¶ /etc/cobbler/users.digest # ç”¨äº web è®¿é—®çš„ç”¨æˆ·åå¯†ç é…ç½®æ–‡ä»¶ cat /etc/cobbler/users.digest cobbler:Cobbler:a2d6bae81669d707b72c0bd9806e01f3 htdigest /etc/cobbler/users.digest &quot;Cobbler&quot; cobbler # è®¾ç½® Cobbler web ç”¨æˆ·ç™»é™†å¯†ç  # åœ¨ Cobbler ç»„æ·»åŠ  cobbler ç”¨æˆ·ï¼Œæç¤ºè¾“å…¥ 2 éå¯†ç ç¡®è®¤ cobbler sync /etc/init.d/httpd restart /etc/init.d/cobblerd restart","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"linux","slug":"linux","permalink":"/tags/linux/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"Linuxåˆ†åŒº","slug":"åˆ†åŒº","date":"2019-07-01T12:39:00.000Z","updated":"2019-07-19T08:53:20.000Z","comments":true,"path":"2019/07/01/åˆ†åŒº/","link":"","permalink":"/2019/07/01/åˆ†åŒº/","excerpt":"","text":"åˆ›å»ºåˆ†åŒºåˆ†åŒºåï¼Œæ ¼å¼åŒ–æ–‡ä»¶ç³»ç»Ÿç”Ÿäº§å¤§é‡çš„inode blochinode bloch ç”¨æ¥å­˜æ”¾å…ƒæ•°æ®ä¿¡æ¯dump2fs /dev/sda æŸ¥çœ‹å…ƒæ•°æ®ä¿¡æ¯è¶…çº§å— è®°å½•æ–‡ä»¶ç³»ç»Ÿçš„å…ƒæ•°æ®ä¿¡æ¯ fdiskéäº¤äº’å¼åˆ†åŒºï¼š echo -e &quot;n\\np\\n1\\n\\n+10M\\nn\\np\\n2\\n\\n+10M\\nw&quot;|fdisk /dev/sdb partprobe /dev/sdb äº¤äº’å¼åˆ†åŒºï¼šfdisk /dev/sdbåˆ†åŒºä¸»åˆ†åŒºï¼š1-4æ‰©å±•åˆ†åŒºï¼š5â€”fdisk /dev/sdb fdisk ï¼šæ”¹å˜åˆ†åŒºè¡¨m n p q wpartprobe /dev/sdb é€šçŸ¥ç³»ç»Ÿåˆ†åŒºè¡¨æ”¹å˜ partedéäº¤äº’å¼åˆ†åŒºï¼š parted /dev/sdb mklabel gpt Yes parted /dev/sdb mkpart primary 0 10 Ignore parted /dev/sdb mkpart primary linux-swap 11 21 Ignore parted /dev/sdb mkpart logical ext4 22 32 Ignore parted /dev/sdb p partprobe /dev/sdb æŸ¥çœ‹åˆ†åŒºï¼š parted --list swapswap åˆ†åŒºä¸€èˆ¬1.5å†…å­˜ æ‰©å®¹swapåˆ†åŒºfdisk /dev/sdb åˆ†ä¸€ä¸ªåŒºä¸º/dev/sdb1 mkswap /dev/sdb1 free swapon /dev/sdb1 swapoff /dev/sdb1å…³æ‰ free æ–‡ä»¶æ„å»ºswapdd if=/dev/zero of=/tmp/swap bs=1M count=128 mkswap /tmp/swap è¿™ä¸ªæ˜¯ç‰¹æ®Šæ–‡ä»¶ å¯ä»¥æ ¼å¼åŒ–å˜æˆæ–‡ä»¶ç³»ç»Ÿ free ä¼ä¸šæ¡ˆä¾‹ï¼šå†…å­˜100%swapåœ¨å·¥ä½œä¸­ï¼Œç‰¹åˆ«æ˜¯javaç¯å¢ƒï¼Œç¨‹åºå†™çš„æœ‰é—®é¢˜ï¼Œä¼šå‘ç”Ÿå†…å­˜æ³„æ¼ï¼Œå¯èƒ½ä¼šè¢«å ç”¨ è®©å¼€å‘æ”¹ç¨‹åºï¼Œä¸´æ—¶è¿ç»´åŠ å¤§swapã€‚swapoff,swapon æ•°æ®åº“ä¸ç”¨swap åˆ†åŒºæ ¼å¼mkfs.ext3 /dev/sdb1 åˆ†åŒºæŒ‚è½½æœ¬åœ°æŒ‚è½½mount /dev/sdb1 /mnt -o defaults,async,noatime,data=writeback,barrier=0 å®¢æˆ·ç«¯æŒ‚è½½NFS ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿæ€§èƒ½ä¼˜åŒ–æŒ‚è½½mount -t nfs -o noatime,nodiratime 10.0.0.7:/data /mnt NFS ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿå®‰å…¨åŠ ä¼˜åŒ–æŒ‚è½½ mount -t nfs nosuid,noexec,nodev,noatime,nodiratime,intr,rsize=131072,\\ wsize=131072 10.0.0.7:/data /mnt mount -lf /mnt å¼ºåˆ¶å¸è½½mount é»˜è®¤æŒ‚è½½å°±å¾ˆä¼˜ç§€ é¢è¯•æ—¶å¯ä»¥è®²ä¸€ä¸‹mount ä¼˜åŒ–æŒ‚è½½ fstabä¿®æ”¹é”™è¯¯å¯¼è‡´ç³»ç»Ÿæ— æ³•å¯åŠ¨æ•…éšœä¿®å¤æ¡ˆä¾‹ç»´æŠ¤æ¨¡å¼æˆ–è€…æ•‘ç¼“æ¨¡å¼ï¼šmount -o remount,rw / ç„¶åä¿®æ”¹ /etc/fstabä¹Ÿå¯ä»¥ä½¿ç”¨ fsck /dev/sdb -y (æ…ç”¨) æ–‡ä»¶ç³»ç»Ÿåªè¯»æ•…éšœä¿®å¤æ¡ˆä¾‹1ï¼‰RSYNC bug2ï¼‰æ–‡ä»¶ç³»ç»Ÿå†…éƒ¨è‡ªåŠ¨ä¸€è‡´æ€§ï¼ˆåªè¯»ï¼‰ ç»´æŠ¤æ¨¡å¼æˆ–è€…æ•‘ç¼“æ¨¡å¼ï¼š mount -o remount,rw /å¤§äº2Tå°±ç”¨GPT å®‰è£…xfsæ–‡ä»¶ç³»ç»Ÿyum install xfsprogs kmod-xfs xfsdump xfsprogs-devel rpm -qa xfsprogs kmod-xfs xfsdump xfsprogs-devel modprobe xfs lsmod | grep xfs mkfs.xfs /dev/sdc dd if=/dev/zero of=/dev/sdc bs=1M count=100 mount -t xfs /dev/sdc /mnt ç³»ç»Ÿé‡æ–°åˆ†åŒºselect /dev/sda mklabel msdos unit MiB mkpart primary ext2 1 10240 mkpart primary linux-swap 10240 12288 mkpart primary ext2 12288 32768 mkpart primary ext2 32768 288768 set 1 boot on quit bashå‘½ä»¤è¡Œä¸‹æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤vi /tos/parted.sæŒ‰éœ€æ±‚ä¿®æ”¹åˆ†åŒºé…ç½®ï¼ˆå¦‚å®‰è£…tlinux2.2è¯·ä¿®æ”¹/tos/parted-tlinux2.sï¼Œä¸¤ä¸ªæ–‡ä»¶æ ¼å¼ä¸€æ ·ä¿®æ”¹æ–¹æ³•ä¸€æ ·ï¼‰/tos/install.sh ç›¸å…³å‘½ä»¤dd if= of= bs= count= mkfs.ext4 swapon/swapoff /dev/sdb1 mount â€“t -o umount df dump2fs fsck â€“y parted tune2fs ç›‘æ§æ—¶ä¼šç”¨åˆ°çš„å·¥å…·ï¼š megacli æŸ¥çœ‹raidä¿¡æ¯ ipmitoolsæŸ¥çœ‹ç¡¬ä»¶ä¿¡æ¯å·¥å…· resize2fsè°ƒæ•´æ–‡ä»¶ç³»ç»Ÿå¤§å°ï¼ˆLVMï¼Œarbdï¼‰ blockæ ¹æ®ä¸šåŠ¡éœ€è¦ç¡®å®šé»˜è®¤çš„blockå¤§å° 1.å¤§æ–‡ä»¶ï¼ˆå¤§äº16Kï¼‰ä¸€èˆ¬è®¾ç½®blockå¤§ä¸€ç‚¹ å°äº1K è®¾ç½®å°ä¸€ç‚¹2.Block å¤ªå¤§ï¼Œä¾‹å¦‚ 4K ï¼Œæ–‡ä»¶éƒ½æ˜¯0.1Kçš„ï¼Œå¤§é‡æ¶ˆè€—ç£ç›˜ç©ºé—´ï¼Œä½†æ˜¯è®¿é—®æ€§èƒ½é«˜3.Block å¤ªå°ï¼Œä¾‹å¦‚ 1K ï¼Œæ–‡ä»¶éƒ½æ˜¯10000Kï¼Œæ¶ˆè€—å¤§é‡ç£ç›˜IO4.ä¼ä¸šé‡Œæ–‡ä»¶è¾ƒå¤§ï¼ˆä¸€èˆ¬å¤§äº4Kï¼‰ï¼Œblock è®¾ç½®å¤§ä¸€äº›ä¼šæå‡ç£ç›˜è®¿é—®æ•ˆç‡5.Ext3/ext4 æ–‡ä»¶ç³»ç»Ÿï¼Œä¸€èˆ¬éƒ½è®¾ç½®ä¸º4K","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"linux","slug":"linux","permalink":"/tags/linux/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"ssh","slug":"ssh","date":"2019-07-01T09:45:07.000Z","updated":"2019-07-19T08:50:58.000Z","comments":true,"path":"2019/07/01/ssh/","link":"","permalink":"/2019/07/01/ssh/","excerpt":"","text":"SSHä½¿ç”¨sshå·¥å…·å®ç°æ‰¹é‡ç®¡ç† åˆ›å»ºç”¨æˆ·æ‰€æœ‰æœºå™¨åˆ›å»ºç»Ÿä¸€ç”¨æˆ·åŠå¯†ç  useradd oldgirl echo 123456|passwd --stdin oldgirl id oldgirl su - oldgirl ç§˜é’¥m01åˆ›å»ºç§˜é’¥å¯¹ ssh-keygen -t dsa ä¸€è·¯å›è½¦ ssh-keygen -t dsa -P &#39; &#39; -f ~/.ssh/id_dsa &gt;/dev/null 2&gt;&amp;1 éäº¤äº’ å…¬é’¥m01åˆ†å‘å…¬é’¥ssh é»˜è®¤ç«¯å£22 ssh-copy-id -i .ssh/id_dsa.pub oldgirl@172.16.1.41 æ›´æ”¹è¿‡çš„sshç«¯å£ ssh-copy-id -i .ssh/id_dsa.pub &quot;-p 52113 oldgirl@172.16.1.41&quot; 4.æµ‹è¯• ssh -p 52113 oldgirl@172.16.1.41 /sbin/ifconfig eth0 ä¸æç¤ºå¯†ç æˆåŠŸ sshæ–¹æ¡ˆroot sshç›´æ¥root ssh key æ¡ä»¶ï¼šå…è®¸root sshç™»å½• sudoerssudoææƒå®ç°æ²¡æœ‰æƒé™ç”¨æˆ·æ‹·è´ é…ç½®sudoers echo &quot;oldgirl ALL= NOPASSWD: /usr/bin/rsync&quot; &gt;&gt;etc/sudoers visudo -c scp -P52113 hosts oldgirl@172.16.1.41:~ è¿œç¨‹sudo: ssh -p 52113 -t oldgirl@172.16.1.41 sudo rsync ~/hosts /etc/hosts suidåˆ©ç”¨suidå®ç°æ²¡æœ‰æƒé™ç”¨æˆ·æ‹·è´ï¼ˆåšæ€è·¯æ‰©å±•äº†è§£ï¼‰172.16.1.31:chmod u+s â€˜which syncâ€™çŸ¥è¯†ç‚¹å¢åŠ ï¼šrsyncç¬¬ä¸‰ç§åŸºäºsshé€šé“çš„ç”¨æ³•rsync -avz hosts -e â€˜ssh -p 52113â€™ oldgirl@172.16.1.41:~ å¢é‡ åŠ å¯† è„šæœ¬è„šæœ¬1#!/bin/sh ./etc/init.d/functions for n in 8 31 41 do scp -P52113 ~/hosts oldgirl@172.16.1.${n}:~ &gt;/dev/null 2&gt;&amp;1 &amp;&amp;\\ ssh -p52113 -t oldgirl@172.16.1.${n} sudo rsync ~/hosts /etc/hosts &gt;/dev/null 2&gt;&amp;1 if [$? -eq 0]:then action &quot;fenfa hosts 172.16.1.$n&quot; /bin/true else action &quot;fenfa hosts 172.16.1.$n&quot; /bin/false fi done è„šæœ¬2#!/bin/sh if [ $# -ne 2 ]:then echo &quot;USAGE:/bin/sh $0 {ARG1 ARG2}&quot; exit 1 fi ./etc/init.d/functions for n in 8 31 41 do scp -P52113 ~/$1 oldgirl@172.16.1.${n}:~ &gt;/dev/null 2&gt;&amp;1 &amp;&amp;\\ ssh -p52113 -t oldgirl@172.16.1.${n} sudo rsync ~/$1 $2 &gt;/dev/null 2&gt;&amp;1 if [ $? -eq 0 ]:then action &quot;fenfa hosts 172.16.1.$n&quot; /bin/true else action &quot;fenfa hosts 172.16.1.$n&quot; /bin/false fi done è„šæœ¬3#!/bin/sh if [ $# -ne 1]:then echo &quot;USAGE:/bin/sh $0 ARG1&quot; exit 1 fi ./etc/init.d/functions for n in 8 31 41 do echo ===== 172.16.1.$n ===== ssh -p52113 oldgirl@172.16.1.$n &quot;$1&quot; done expectå·¥å…·å®ç°è‡ªåŠ¨çš„äº¤äº’å¼ä»»åŠ¡expectæ˜¯ä¸€é—¨è¯­è¨€ï¼Œéœ€è¦å®‰è£… rpm -qa expectyum install expect è„šæœ¬1#!/usr/bin/expect if { $argc !=3 } { send_user &quot;usage: expect fanfa_sshkey.exp file host dir\\n&quot; exit } #define var set file [lindex $argv 0] set host [lindex $argv 1] set password &quot;123456&quot; #spawn scp /etc/hosts root@10.0.0.142:/etc/hosts #spawn scp -P52113 $file oldboy@$host:$dir spawn ssh-copy-id -i $file &quot;-p 52113 oldboy@$host&quot; expect { &quot;yes/no&quot; {send &quot;yes/r&quot;:exp_continue} &quot;*password&quot; {send &quot;$password\\r&quot;} } expect eof exit -onexit { send_user &quot;Oldboy say good bye to you!\\n&quot; } #script usage #expect oldboy-6.exp file host dir #example #./oldboy-6.exp /etc/hosts 10.0.0.179 /etc/hosts è„šæœ¬2#!/bin/sh ./etc/init.d/functions fo ip in 8 31 41 do expect fenfa_sshkey.exp ~/.ssh/id_dsa.pub $ip &gt;/dev/null 2&gt;&amp;1 if [ $? -eq 0 ]:then action &quot;$ip&quot; /bin/true else action &quot;$ip&quot; /bin/false fi done è„šæœ¬3#!/bin/sh ./etc/init.d/functions ssh-keygen -t -P &#39;&#39; -f ~/.ssh/id_dsa &gt;/dev/null 2&gt;&amp;1 for ip in 8 31 41 do expect fenfa_sshkey.exp ~/.ssh/id_dsa.pub 172.16.1.$ip &gt;/dev/null 2&gt;&amp;1 if [ $? -eq 0 ]:then action &quot;$ip&quot; /bin/true else action &quot;$ip&quot; /bin/false fi done # dis fenfa scripts for n in 8 31 41 do scp -P 52113 -rp ~/scripts oldgirl@172.16.1.$n:~ done # install service for n in 8 31 41 do ssh -t -p 52113 oldgirl@172.16.1.$n sudo /bin/bash ~/scripts/install.sh done","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"linux","slug":"linux","permalink":"/tags/linux/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"Linuxç³»ç»Ÿåˆå§‹ä¼˜åŒ–","slug":"ç³»ç»Ÿåˆå§‹åŒ–","date":"2019-06-24T11:21:02.000Z","updated":"2019-07-19T08:54:22.000Z","comments":true,"path":"2019/06/24/ç³»ç»Ÿåˆå§‹åŒ–/","link":"","permalink":"/2019/06/24/ç³»ç»Ÿåˆå§‹åŒ–/","excerpt":"","text":"è£…æœºåï¼Œéœ€è¦è¿›è¡Œç³»ç»Ÿåˆæ­¥çš„ä¼˜åŒ–ï¼Œä¼˜åŒ–åçš„ç³»ç»Ÿå°±ä¼šæ˜¾å¾—å¥½ç”¨è½»å¿«å¾ˆå¤š ä¼˜åŒ–SElinuxsed â€“i &#39;s###g&#39; /etc/selinux/config setenfore 0 getenforce iptableschkconfig iptables off /etc/init.d/iptables stop è‡ªå¯æœåŠ¡chkconfig --list|egrep â€“v &quot;crond|sshd|network|rsyslog|sysstat&quot; |awk &#39;{print &quot;chkconfig&quot;,$1,&quot;off&quot;}&#39;\\ |bash sudovisudo root ALL=(ALL:ALL) ALL user ALL=(ALL) NOPASSWD: ALL ä¸­æ–‡æ˜¾ç¤ºcp /etc/sysconfig/i18n /etc/sysconfig/i18n.ori echo &#39;LANG=&quot;zh_CN.UTF-8&quot;&#39; &gt;/etc/sysconfig/i18n source /etc/sysconfig/i18n LANG=en å®šæ—¶ä»»åŠ¡æ—¶é—´åŒæ­¥ yum install â€“y ntpdate ntpdate ntp1.aliyun.com åŠ å…¥å®šæ—¶ä»»åŠ¡ï¼šæ¯5åˆ†é’ŸåŒæ­¥æ—¶é—´ å‘½ä»¤è¡Œå†å²echo &#39;export TMOUT=300&#39; &gt;&gt;/etc/profile echo &#39;export HISTSIZE=5&#39; &gt;&gt;/etc/profile echo &#39;export HISTFILESIZE=5&#39; &gt;&gt;/etc/profile tail -3 /etc/profile å†…æ ¸è°ƒä¼˜cat&gt;&gt;/etc/sysctl.conf&lt;&lt;EOF net.ipv4.tcp_syn_retries = 1 net.ipv4.tcp_synack_retries = 1 net.ipv4.tcp_keepalive_time = 600 net.ipv4.tcp_keepalive_probes = 3 net.ipv4.tcp_keepalive_intvl =15 net.ipv4.tcp_retries2 = 5 net.ipv4.tcp_fin_timeout = 2 net.ipv4.tcp_max_tw_buckets = 36000 net.ipv4.tcp_tw_recycle = 1 net.ipv4.tcp_tw_reuse = 1 net.ipv4.tcp_max_orphans = 32768 net.ipv4.tcp_syncookies = 1 net.ipv4.tcp_max_syn_backlog = 16384 net.ipv4.tcp_wmem = 8192 131072 16777216 net.ipv4.tcp_rmem = 32768 131072 16777216 net.ipv4.tcp_mem = 786432 1048576 1572864 net.ipv4.ip_local_port_range = 1024 65000 net.ipv4.ip_conntrack_max = 65536 net.ipv4.netfilter.ip_conntrack_max=65536 net.ipv4.netfilter.ip_conntrack_tcp_timeout_established=180 net.core.somaxconn = 16384 net.core.netdev_max_backlog = 16384 vm.swappiness=10 EOF å…¶ä»–å®‰è£…telnetï¼šyum install â€“y telnet åŸŸåè§£æï¼š/etc/hosts ç½‘å¡MACæ¸…ç©ºé…ç½® æ”¾åˆ°rc.local echo &quot;&gt; /etc/udev/rules.d/70-persistent-net.rules&quot; &gt;&gt;/etc/rc.loal /etc/yum.conf é…ç½®ï¼škeepcache=1 åœ¨çº¿å®‰è£…çš„åŒ…å¯ä»¥ç¼“å­˜åˆ°æœ¬åœ° è„šæœ¬#!/bin/bash #####you hua by panph##### ####stop selinux#### sed -i &#39;s#SELINUX=enforcing#SELINUX=disable#g&#39; /etc/selinux/config setenforce 0 getenforce ####stop iptables#### /etc/init.d/iptables stop chkconfig iptables off ####chkconfig#### chkconfig --list | grep -vE &quot;^crond|network|rsyslog|sysstat|sshd&quot;|awk &#39;{print&quot;chkconfig&quot;,$1,&quot;off&quot;}&#39;\\ |bash chkconfig --list | grep 3:on ####visudo#### echo &quot;root ALL=(ALL) NOPASSWD: ALL&quot; &gt;&gt;/etc/sudoers ####Chinese#### cp /etc/sysconfig/i18n /etc/sysconfig/i18n.ori echo &#39;LANG=&quot;zh_CN.UTF-8&quot;&#39; &gt;/etc/sysconfig/i18n source /etc/sysconfig/i18n LANG=en ####ntpdate#### yum install ntpdate -y ntpdate ntp1.aliyun.com echo &quot;*/5 * * * * /usr/sbin/ntpdate ntp1.aliyun.com&quot; &gt;/var/spool/cron/root ####history#### echo &#39;export TMOUT=300&#39; &gt;&gt;/etc/profile echo &#39;export HISTSIZE=5&#39; &gt;&gt;/etc/profile echo &#39;export HISTFILESIZE=5&#39; &gt;&gt;/etc/profile tail -3 /etc/profile ####kernel#### cat&gt;&gt;/etc/sysctl.conf&lt;&lt;EOF net.ipv4.tcp_syn_retries = 1 net.ipv4.tcp_synack_retries = 1 net.ipv4.tcp_keepalive_time = 600 net.ipv4.tcp_keepalive_probes = 3 net.ipv4.tcp_keepalive_intvl =15 net.ipv4.tcp_retries2 = 5 net.ipv4.tcp_fin_timeout = 2 net.ipv4.tcp_max_tw_buckets = 36000 net.ipv4.tcp_tw_recycle = 1 net.ipv4.tcp_tw_reuse = 1 net.ipv4.tcp_max_orphans = 32768 net.ipv4.tcp_syncookies = 1 net.ipv4.tcp_max_syn_backlog = 16384 net.ipv4.tcp_wmem = 8192 131072 16777216 net.ipv4.tcp_rmem = 32768 131072 16777216 net.ipv4.tcp_mem = 786432 1048576 1572864 net.ipv4.ip_local_port_range = 1024 65000 net.ipv4.ip_conntrack_max = 65536 net.ipv4.netfilter.ip_conntrack_max=65536 net.ipv4.netfilter.ip_conntrack_tcp_timeout_established=180 net.core.somaxconn = 16384 net.core.netdev_max_backlog = 16384 vm.swappiness=10 EOF tail /etc/sysctl.conf /sbin/sysctl â€“p ####ji chu cheng xu#### yum install telnet lrzsz nmap dos2unix vim -y ####mac clear#### echo &quot;&gt;/etc/udev/rules.d/70-persistent-net.rules&quot; &gt;&gt;/etc/rc.local","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"linux","slug":"linux","permalink":"/tags/linux/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"nfså­˜å‚¨","slug":"nfs","date":"2019-06-24T06:45:33.000Z","updated":"2019-07-19T08:48:48.000Z","comments":true,"path":"2019/06/24/nfs/","link":"","permalink":"/2019/06/24/nfs/","excerpt":"","text":"NFSåŠŸèƒ½ï¼šå°±æ˜¯å¯ä»¥é€šè¿‡ç½‘ç»œï¼Œè®©ä¸åŒçš„æœºå™¨ã€ä¸åŒçš„æ“ä½œç³»ç»Ÿå¯ä»¥å…±äº«å½¼æ­¤çš„æ–‡ä»¶ï¼Œå°†ç½‘ç»œä¸­çš„NFSæœåŠ¡å™¨å…±äº«çš„ç›®å½•æŒ‚è½½åˆ°æœ¬åœ°ç«¯çš„æ–‡ä»¶ç³»ç»Ÿä¸­ åŸºç¡€è½¯ä»¶å®‰è£…ï¼šyum install lrzsz nmap tree dos2unix nc -y æœåŠ¡ç«¯: yum install nfs-utils rpcbind â€“y å®¢æˆ·ç«¯æœ€å¥½éƒ½è¦å®‰è£… /etc/init.d/rpcbind restart å…ˆå¯åŠ¨rpcbindæœåŠ¡ï¼Œåèµ·nfs rpcinfo â€“p localhost æŸ¥çœ‹rpcæƒ…å†µï¼ŒRPCåå°è¿›ç¨‹æ˜¯ä¸ºNFSæä¾›æœåŠ¡çš„ æœåŠ¡ç«¯é…ç½®rpcbindrpcbind æœåŠ¡å…ˆèµ·æ¥ åèµ·nfs æœåŠ¡ æ‰€ä»¥å¼€æœºæŒ‰ä»¥ä¸Šé¡ºåº ä¸ç„¶ä¼šæŠ¥é”™ nfsé…ç½®å¼€æœºè‡ªå¯åŠ¨ chkconfig rpcbind on chkconfig nfsd on æ‰€ä»¥ä¸€èˆ¬ä¼šå†™åœ¨ rc.local å¼€æœºè¯»å– /etc/init.d/rpcbind start &gt;&gt;/etc/rc.local /etc/init.d/nfs start &gt;&gt;/etc/rc.local åˆ›å»º /data ç›®å½• ä¿®æ”¹ç›®å½•æƒé™ï¼šchown â€“R nfsnobodly. nfsnobodly /data é…ç½®æ–‡æ¡£ï¼š/etc/exports é»˜è®¤æ˜¯ç©ºçš„ å¯ä»¥é€‰æ‹© man /etc/exports vi /etc/exports ###æ³¨é‡Š### /data 172.16.1.0/24(rw,sync) å¦‚æœä¸æ˜¯å¤§å¹¶å‘çš„å°±ç”¨ sync å¦åˆ™ async å¯ä»¥å…±äº«å¤šä¸ªç›®å½•/data 172.16.1.0/24(rw,sync) /data1 172.16.1.0/24(rw,sync, all_squash,anonuid=888,anougid=888) æ‰€ä»¥æ‰€æœ‰éœ€è¦è®¿é—®çš„å®¢æˆ·ç«¯éƒ½è¦åˆ›å»º uid=888 çš„ç”¨æˆ· ä¸ç™»å½• ä¸åˆ›å»ºå®¶ç›®å½• ç„¶åæŠŠ/data1 æƒé™ä¿®æ”¹ï¼šchown â€“R /data1 æ£€æŸ¥showmount â€“e 172.16.1.31 æ£€æŸ¥è‡ªèº«æƒ…å†µ æç¤ºï¼šExport list for 172.16.1.31: /data 172.16.1.0/24è¯´æ˜å·²é…ç½®æˆåŠŸäº† å‚æ•°è¯¦ç»†man /etc/exprots å‚æ•° rw sync async all_squash è®¿é—®ç›®å½•çš„ç”¨æˆ·èº«ä»½ï¼Œå®ƒçš„æƒé™å‹ç¼©æˆå›ºå®šçš„åŒ¿åç”¨æˆ·ï¼ˆUID ç›¸åŒï¼‰ æŸ¥çœ‹é…ç½® nfscat /var/lib/nfs/etab æŸ¥çœ‹é…ç½®åŠé»˜è®¤å‚æ•° é‡å¯å‘½ä»¤å»ºè®®ä½¿ç”¨ reload å®¢æˆ·ç«¯é…ç½®/etc/init.d/rpcbind start showmount â€“e 172.16.1.31 mount â€“t nfs 172.16.1.31:/data /mnt æŒ‚ç€å¯åŠ¨æ”¾åˆ° rc.local é‡Œé¢ï¼šéƒ½æ˜¯ç½‘ç»œæœåŠ¡å…ˆå¯æ¥ å†æŒ‚è½½ æ‰€ä»¥ä¸€èˆ¬ä¸å»ºè®®å†™åœ¨ fstab echo &quot;mount â€“t nfs 172.16.1.31:/data /mnt&quot; &gt;&gt;/etc/rc.loacl å¦‚æœè¦æ”¾åˆ° fstab çš„è¯å¯åŠ¨netfsæœåŠ¡","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"linux","slug":"linux","permalink":"/tags/linux/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"sersync","slug":"sersync","date":"2019-06-24T06:05:00.000Z","updated":"2019-07-19T08:49:40.000Z","comments":true,"path":"2019/06/24/sersync/","link":"","permalink":"/2019/06/24/sersync/","excerpt":"","text":"ç®€è¿°sersync åŸºäºinotifyå¼€å‘å‡ºæ¥çš„ å¯ä»¥å®æ—¶ç›‘æ§ç›®å½•ä¸­å‘ç”Ÿçš„å˜åŒ–(å¢åŠ ï¼Œåˆ é™¤ï¼Œä¿®æ”¹)çš„æŸä¸ªæ–‡ä»¶æˆ–è€…ç›®å½•ï¼Œç»“åˆrsyncåŒæ­¥ inotifyæ²¡æœ‰å…·ä½“ç»†åŒ–æ˜¾ç¤ºå“ªä¸ªæ–‡ä»¶æˆ–è€…ç›®å½•å‘ç”Ÿå˜åŒ– å®‰è£…ä¸‹è½½äºŒè¿›åˆ¶å®‰è£…ï¼š ls sersync confxml.xml sersync å¯åŠ¨æ–‡ä»¶ï¼šsersyncé…ç½®æ–‡ä»¶ï¼šconfxml.xml &lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt; &lt;head version=&quot;2.5&quot;&gt; &lt;host hostip=&quot;localhost&quot; port=&quot;8008&quot;&gt;&lt;/host&gt; &lt;debug start=&quot;false&quot;/&gt; &lt;fileSystem xfs=&quot;false&quot;/&gt; &lt;filter start=&quot;false&quot;&gt; &lt;exclude expression=&quot;(.*)\\.svn&quot;&gt;&lt;/exclude&gt; &lt;exclude expression=&quot;(.*)\\.gz&quot;&gt;&lt;/exclude&gt; &lt;exclude expression=&quot;^info/*&quot;&gt;&lt;/exclude&gt; &lt;exclude expression=&quot;^static/*&quot;&gt;&lt;/exclude&gt; &lt;/filter&gt; &lt;inotify&gt; //inotifyç›‘æ§çš„äº‹ä»¶å¯ä»¥å¢åŠ  &lt;delete start=&quot;true&quot;/&gt; &lt;createFolder start=&quot;true&quot;/&gt; &lt;createFile start=&quot;false&quot;/&gt; &lt;closeWrite start=&quot;true&quot;/&gt; &lt;moveFrom start=&quot;true&quot;/&gt; &lt;moveTo start=&quot;true&quot;/&gt; &lt;attrib start=&quot;false&quot;/&gt; &lt;modify start=&quot;false&quot;/&gt; &lt;/inotify&gt; &lt;sersync&gt; &lt;localpath watch=&quot;/opt/tongbu&quot;&gt; //æœåŠ¡å™¨ç«¯çš„æ¨¡å— &lt;remote ip=&quot;127.0.0.1&quot; name=&quot;tongbu1&quot;/&gt; &lt;!--&lt;remote ip=&quot;192.168.8.39&quot; name=&quot;tongbu&quot;/&gt;--&gt; &lt;!--&lt;remote ip=&quot;192.168.8.40&quot; name=&quot;tongbu&quot;/&gt;--&gt; &lt;/localpath&gt; &lt;rsync&gt; &lt;commonParams params=&quot;-artuz&quot;/&gt; &lt;auth start=&quot;false&quot; users=&quot;root&quot; passwordfile=&quot;/etc/rsync.pas&quot;/&gt; &lt;userDefinedPort start=&quot;false&quot; port=&quot;874&quot;/&gt;&lt;!-- port=874 --&gt; &lt;timeout start=&quot;false&quot; time=&quot;100&quot;/&gt;&lt;!-- timeout=100 --&gt; &lt;ssh start=&quot;false&quot;/&gt; &lt;/rsync&gt; &lt;failLog path=&quot;/tmp/rsync_fail_log.sh&quot; timeToExecute=&quot;60&quot;/&gt;&lt;!--default every 60mins execute once--&gt; &lt;crontab start=&quot;false&quot; schedule=&quot;600&quot;&gt;&lt;!--600mins--&gt; &lt;crontabfilter start=&quot;false&quot;&gt; &lt;exclude expression=&quot;*.php&quot;&gt;&lt;/exclude&gt; &lt;exclude expression=&quot;info/*&quot;&gt;&lt;/exclude&gt; &lt;/crontabfilter&gt; &lt;/crontab&gt; &lt;plugin start=&quot;false&quot; name=&quot;command&quot;/&gt; &lt;/sersync&gt; &lt;plugin name=&quot;command&quot;&gt; &lt;param prefix=&quot;/bin/sh&quot; suffix=&quot;&quot; ignoreError=&quot;true&quot;/&gt; &lt;!--prefix /opt/tongbu/mmm.sh suffix--&gt; &lt;filter start=&quot;false&quot;&gt; &lt;include expression=&quot;(.*)\\.php&quot;/&gt; &lt;include expression=&quot;(.*)\\.sh&quot;/&gt; &lt;/filter&gt; &lt;/plugin&gt; &lt;plugin name=&quot;socket&quot;&gt; &lt;localpath watch=&quot;/opt/tongbu&quot;&gt; &lt;deshost ip=&quot;192.168.138.20&quot; port=&quot;8009&quot;/&gt; &lt;/localpath&gt; &lt;/plugin&gt; &lt;plugin name=&quot;refreshCDN&quot;&gt; &lt;localpath watch=&quot;/data0/htdocs/cms.xoyo.com/site/&quot;&gt; &lt;cdninfo domainname=&quot;ccms.chinacache.com&quot; port=&quot;80&quot; username=&quot;xxxx&quot; passwd=&quot;xxxx&quot;/&gt; &lt;sendurl base=&quot;http://pic.xoyo.com/cms&quot;/&gt; &lt;regexurl regex=&quot;false&quot; match=&quot;cms.xoyo.com/site([/a-zA-Z0-9]*).xoyo.com/images&quot;/&gt; &lt;/localpath&gt; &lt;/plugin&gt; &lt;/head&gt; å°ç»“1.å†…æ ¸ç‰ˆæœ¬è¦æ”¯æŒinotify 2.ä¼˜åŒ– ls /proc/sys/fs/inotify/max_ max_queued_events max_user_instances max_user_watches 3.å‚æ•°./sersync â€“h æŸ¥çœ‹å‚æ•°é€‰é¡¹ 4.å¼€æœºå¯åŠ¨sersync -d -r -n 8 -o confxml.xml å¯ä»¥å†™åˆ°rc.localå¼€æœºå¯åŠ¨ -n å¯ç”¨çº¿ç¨‹æ•°é‡-d daemonæ–¹å¼å¯åŠ¨-o æŒ‡å®šé…ç½®æ–‡ä»¶ ä¼˜ç¼ºç‚¹1.rsync+inotify-tools aã€inotifyåªèƒ½è®°å½•ä¸‹è¢«ç›‘å¬çš„ç›®å½•å‘ç”Ÿäº†å˜åŒ–ï¼ˆå¢ï¼Œåˆ ï¼Œæ”¹ï¼‰å¹¶æ²¡æœ‰æŠŠå…·ä½“æ˜¯å“ªä¸ªæ–‡ä»¶æˆ–è€…å“ªä¸ªç›®å½•å‘ç”Ÿäº†å˜åŒ–è®°å½•ä¸‹æ¥ï¼› bã€rsyncåœ¨åŒæ­¥çš„æ—¶å€™ï¼Œå¹¶ä¸çŸ¥é“å…·ä½“æ˜¯å“ªä¸ªæ–‡ä»¶æˆ–ç›®å½•å‘ç”Ÿäº†å˜åŒ–ï¼Œæ¯æ¬¡éƒ½æ˜¯å¯¹æ•´ä¸ªç›®å½•è¿›è¡ŒåŒæ­¥ï¼Œå½“æ•°æ®é‡å¾ˆå¤§æ—¶ï¼Œæ•´ä¸ªç›®å½•åŒæ­¥éå¸¸è€—æ—¶ï¼ˆrsyncè¦å¯¹æ•´ä¸ªç›®å½•éå†æŸ¥æ‰¾å¯¹æ¯”æ–‡ä»¶ï¼‰ï¼Œå› æ­¤æ•ˆç‡å¾ˆä½ 2.rsync+sersync aã€sersyncå¯ä»¥è®°å½•è¢«ç›‘å¬ç›®å½•ä¸­å‘ç”Ÿå˜åŒ–çš„ï¼ˆå¢ï¼Œåˆ ï¼Œæ”¹ï¼‰å…·ä½“æŸä¸ªæ–‡ä»¶æˆ–ç›®å½•çš„åå­—ï¼› bã€rsyncåœ¨åŒæ­¥æ—¶ï¼ŒåªåŒæ­¥å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶æˆ–ç›®å½•ï¼ˆæ¯æ¬¡å‘ç”Ÿå˜åŒ–çš„æ•°æ®ç›¸å¯¹æ•´ä¸ªåŒæ­¥ç›®å½•æ•°æ®æ¥è¯´å¾ˆå°ï¼Œrsyncåœ¨éå†æŸ¥æ‰¾å¯¹æ¯”æ–‡ä»¶æ—¶ï¼Œé€Ÿåº¦å¾ˆå¿«ï¼‰ï¼Œå› æ­¤æ•ˆç‡å¾ˆé«˜ã€‚ æ€»ç»“ï¼š å½“åŒæ­¥çš„ç›®å½•æ•°æ®é‡ä¸å¤§æ—¶ï¼Œå»ºè®®ä½¿ç”¨rsync+inotify å½“åŒæ­¥çš„ç›®å½•æ•°æ®é‡å¾ˆå¤§æ—¶ï¼ˆå‡ ç™¾Gç”šè‡³1Tä»¥ä¸Šï¼‰æ–‡ä»¶å¾ˆå¤šæ—¶ï¼Œå»ºè®®ä½¿ç”¨rsync+sersync","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"linux","slug":"linux","permalink":"/tags/linux/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"inotify","slug":"inotify","date":"2019-06-24T02:04:28.000Z","updated":"2019-07-19T08:45:18.000Z","comments":true,"path":"2019/06/24/inotify/","link":"","permalink":"/2019/06/24/inotify/","excerpt":"","text":"å®æ—¶åŒæ­¥æ¨¡å¼ï¼šinotify+rsync é¡¹ç›®æ¡ˆåˆ—é‡Œç¨‹ç¢‘(1)a.å®ç°ä»nfså®¢æˆ·ç«¯åˆ°rsyncæœåŠ¡ç«¯çš„rsyncæœåŠ¡éƒ¨ç½²å…±äº«å­˜å‚¨å®æ—¶å¤‡ä»½ï¼ˆå…±äº«å­˜å‚¨çš„å•ç‚¹è§£å†³æ–¹æ¡ˆï¼‰ é‡Œç¨‹ç¢‘(2)b.å®ç°ä»nfså®¢æˆ·ç«¯å¯¹nfsç›®å½•æ–‡ä»¶ç³»ç»Ÿäº‹ä»¶çš„å®æ—¶ç›‘æ§ é‡Œç¨‹ç¢‘(3)c.å½“ç›‘æ§åˆ°nfsç›®å½•æ–‡ä»¶ç³»ç»Ÿäº‹ä»¶å˜åŒ–åï¼Œè§¦å‘rsyncæ¨é€å˜åŒ–æ–‡ä»¶ nfså®¢æˆ·ç«¯é…ç½®inotifyå·¥å…· ç”±äºå®ƒæ˜¯epelæº #cd /etc/yum.repos.d #wget http://mirrors.ailyun.com/repo/epel-6.repo #yum intsall inotify-tools -y è„šæœ¬1#!/bin/bash Path=/data Ip=172.16.1.41 /usr/bin/inotifywait -mrq --format &#39;%w%f&#39; -e close_write,delete /backup \\ |while read file do if [ -f $file ]:then rsync -az $file --delete rysnc_backup@172.16.1.41::backup --password-file=/etc/rsync.password else cd $Path &amp;&amp;\\ rsync -az ./ --delete rysnc_backup@172.16.1.41::backup --password-file=/etc/rsync.password fi done è„šæœ¬2åˆ›å»ºsyncdå¯åŠ¨è„šæœ¬ #!/bin/bash #####zhushi##### #chkconfig:2345 38 46 ./etc/init.d/functions if [ $# -ne 1]:then usage: $0 {start|stop} exit 1 fi case &quot;$1&quot; in start) /bin/bash /server/scripts/inotify.sh &amp; echo $$ &gt;/var/run/inotify.pid if [ `ps -ef|grep inotify|wc -l` -gt 2]:then action &quot;inotify service is started&quot; /bin/true else action &quot;inotify service is started&quot; /bin/false fi :: stop) kill -9 `cat /var/run/inotify.pid` &gt;/dev/null 2&gt;&amp;1 pkill inotifywait sleep 2 if [ `ps -ef|grep inotify|grep -v grep|wc -l` -eq 0 ]:then action &quot;inotify service is stopped&quot; /bin/true else action &quot;inotify service is stopped&quot; /bin/false fi :: *) usage: $0 {start|stop} exit 1 esac ä¼˜åŒ–#ls /proc/sys/fs/inotify/ max_user_watches max_queued_events max_user_instances ä¸€èˆ¬ä¿®æ”¹è¿™ä¸¤ä¸ªæ–‡ä»¶åé‡å¯ä¼šå¤±æ•ˆ æ‰€ä»¥ä¸€èˆ¬æ”¾åœ¨rc.loadé‡Œé¢ echo 655350 &gt;/proc/sys/fs/inotify/max_user_watches echo 655350 &gt;/proc/sys/fs/inotify/max_queued_events max_user_instances è®¾ç½®æ¯ä¸ªç”¨æˆ·è¿è¡Œinotifywait æˆ– inotifywatchå‘½ä»¤çš„è¿›ç¨‹æ•°max_user_watches è®¾ç½®inotifywait æˆ– inotifywatchå¯ä»¥ç›‘è§†æ–‡ä»¶çš„æ•°é‡ï¼ˆå•è¿›ç¨‹ï¼‰max_queued_events è®¾ç½®inotifyå®ä¾‹äº‹ä»¶ï¼ˆeventsï¼‰é˜Ÿåˆ—å¯å®¹çº³çš„äº‹ä»¶æ•°é‡ å‹åŠ›æµ‹è¯•å·¥å…·ï¼šab ,sieqe ,JMeter,Webbench.LoadRunner,htrp_loadï¼Œtcpcopy ä¼˜ç‚¹1ï¼‰ç›‘æ§æ–‡ä»¶ç³»ç»Ÿäº‹ä»¶å˜åŒ–ï¼Œé€šè¿‡åŒæ­¥å·¥å…·å®ç°å®æ—¶æ•°æ®åŒæ­¥ ç¼ºç‚¹1ï¼‰å¹¶å‘å¦‚æœå¤§äº200ä¸ªæ–‡ä»¶ï¼ˆ10-100Kï¼‰ï¼ŒåŒæ­¥å°±ä¼šæœ‰å»¶è¿Ÿ2ï¼‰æˆ‘ä»¬å‰é¢å†™çš„è„šæœ¬ï¼Œæ¯æ¬¡éƒ½æ˜¯å…¨éƒ¨æ¨é€ä¸€æ¬¡ï¼Œä½†ç¡®å®æ˜¯å¢é‡çš„ï¼Œä¹Ÿå¯ä»¥åªåŒæ­¥å˜åŒ–çš„æ–‡ä»¶ï¼Œä¸å˜åŒ–çš„ä¸ç†3ï¼‰ç›‘æ§åˆ°äº‹ä»¶åï¼Œè°ƒç”¨rsyncåŒæ­¥æ˜¯å•è¿›ç¨‹ï¼ˆåŠ &amp;å¹¶å‘ï¼‰ï¼Œsersyncå¤šè¿›ç¨‹ sersync1ï¼‰æ”¯æŒé…ç½®æ–‡ä»¶ç®¡ç†2ï¼‰çœŸæ­£çš„å®ˆæŠ¤è¿›ç¨‹sochet3ï¼‰å¯ä»¥å¯¹å¤±è´¥æ–‡ä»¶å®šæ—¶é‡ä¼ ï¼ˆå®šæ—¶ä»»åŠ¡åŠŸèƒ½ï¼‰4ï¼‰ç¬¬ä¸‰æ–¹çš„HTTPæ¥å£ï¼ˆåˆ—å¦‚æ›´æ–°CDNç¼“å­˜ï¼‰5ï¼‰é»˜è®¤å¤šçº¿ç¨‹rsyncåŒæ­¥","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"linux","slug":"linux","permalink":"/tags/linux/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"rsyncå¤‡ä»½","slug":"Linuxå¤‡ä»½æœåŠ¡å™¨","date":"2019-06-23T10:52:07.000Z","updated":"2019-07-19T08:46:10.000Z","comments":true,"path":"2019/06/23/Linuxå¤‡ä»½æœåŠ¡å™¨/","link":"","permalink":"/2019/06/23/Linuxå¤‡ä»½æœåŠ¡å™¨/","excerpt":"","text":"rsyncå›¾è§£ å®‰è£…ï¼š yum install rsyncå®¢æˆ·ç«¯ä¸éœ€è¦å¯åŠ¨ rsyncæœåŠ¡ç«¯å¯åŠ¨ rsync â€“deamon å¤‡ä»½æ–¹æ¡ˆcron + rsync :å®šæ—¶åŒæ­¥å¤‡ä»½ï¼ˆå®šæ—¶ä»»åŠ¡ï¼‰sersync+rsync :å®æ—¶åŒæ­¥å¤‡ä»½ Rsync :æ”¯æŒå…¨é‡å’Œå¢é‡å¤‡ä»½,ä¸€èˆ¬å®¢æˆ·ç«¯æœ‰å•¥æœåŠ¡ç«¯æœ‰å•¥ Rsyncç«¯å£ï¼š873 rsyncå‚æ•°Rsync : å‚æ•°é€‰æ‹© å¸¸ç”¨ç»„åˆï¼š-vza -zaä¸è¾“å‡º -v æ¨¡å¼è¾“å‡º -z å‹ç¼© -a &gt;&gt;åŒ…å«ï¼š-rtopg Dl -r é€’å½’ -t ä¿æŒæ–‡ä»¶æ—¶é—´ä¿¡æ¯ -o ä¿æŒæ–‡ä»¶å±ä¸»ä¿¡æ¯ -p ä¿æŒæ–‡ä»¶æƒé™ -g ä¿æŒæ–‡ä»¶å±ç»„ â€“delet -D ä¿æŒè®¾å¤‡æ–‡ä»¶ä¿¡æ¯ -l ä¿æŒè½¯é“¾æ¥ rsyncå‘½ä»¤rsync â€“vza /tmp /mnt rsync â€“vza /tmp/ /mnt/ rsync â€“vza /etc/hosts â€“e â€˜ssh â€“p 22â€™ root@10.0.0.1:/mnt rsyncæ¨¡å¼æœåŠ¡ç«¯ï¼šæœ¬åœ°æ¨¡å¼å®¢æˆ·ç«¯ï¼šé€šé“æ¨¡å¼ &gt;&gt;&gt; é…åˆssh key ä½¿ç”¨ daemonæ¨¡å¼rsync æœåŠ¡ç«¯çš„é…ç½®ï¼šdaemon 1.æŸ¥çœ‹ rsync å®‰è£…åŒ…rpm -qa rsync : æ²¡æœ‰ yum -y 2.æ·»åŠ rsyncæœåŠ¡çš„ç”¨æˆ·ï¼Œç®¡ç†æœ¬åœ°ç›®å½• useradd -s /sbin/nologin -M rsync id rsync 3.ç”Ÿæˆ rsync.conf é…ç½®æ–‡ä»¶: vi /etc/rsync.conf æ”¾å…¥äº‹å…ˆå‡†å¤‡çš„é…ç½®ã€‚å¯ä»¥ man rsync.conf æŸ¥çœ‹ 4.æ ¹æ® man rsync.conf é‡Œé¢çš„å‚æ•°è¿›è¡Œé…ç½®ï¼š auth users å‚æ•°é…ç½®è´¦æˆ·ï¼Œç”¨æ¥è¿œç¨‹è¿æ¥ secrets file å‚æ•°ç”Ÿäº§å¯†ç æ–‡ä»¶:ï¼ˆè§ç¬¬äºŒé¡µï¼‰ echo &quot;rsync_backup:oldboy&quot; &gt;/etc/rsync.password cat /etc/rsync.password 5.åŠ å…¥å¼€æœºè‡ªå¯åŠ¨ 6.ä¸ºå¯†ç æ–‡ä»¶é…ç½®æƒé™ chmod 600 /etc/rsync.password ls -l /etc/rsync.password 7.åˆ›å»ºè´¡çŒ®ç›®å½•å¹¶æˆæƒ rsync æœåŠ¡ç®¡ç†mkdir /backup -p chwon -R rsync.rsync /backup -R å‚æ•°ä¿®æ”¹ç›®å½•åŠç›®å½•ä¸‹çš„æ‰€ä»¥æ–‡ä»¶ å¦‚æœæ²¡æœ‰ /backup ç›®å½•ï¼Œå°±ä¼šæŠ¥é”™ï¼šchdir failed 8.å¯åŠ¨rsyncæœåŠ¡å¹¶æ£€æŸ¥ rsync --daemon ps -ef|grep rsync|grep -v rsync echo &quot;/usr/bin/rsync --daemon&quot; &gt;&gt;/etc/rc.local tail -1 /etc/rc.local daemonæ¨¡å¼ï¼šrsync+vpn(pptp,openvpn,ipsec) é…ç½®rsyncvi /etc/rsyncd.conf rsync.confuid = rsync ç”¨æˆ·è¿œç«¯å‘½ä»¤ä½¿ç”¨rsyncè®¿é—®å…±äº«ç›®å½• lock file = /var/run/rsync.lock é”æ–‡ä»¶ gid = rsync use chroot = on å®‰å…¨ç›¸å…³ max connections = 200 æœ€å¤§è¿æ¥æ•° timeout = 300 è¶…æ—¶æ—¶é—´ pid file = /var/run/rsyncd.pid è¿›ç¨‹å¯¹åº”çš„è¿›ç¨‹å·æ–‡ä»¶ log file = /var/log/rsyncd.log æ—¥å¿—æ–‡ä»¶ [backup] æ¨¡å—åç§° path = /backup æœåŠ¡å™¨æä¾›è®¿é—®çš„ç›®å½• ignore errors å¿½ç•¥é”™è¯¯ read only = false å¯å†™ list = false ä¸èƒ½åˆ—è¡¨ hosts allow = 172.16.1.0/24 #hosts deny = 0.0.0.0/32 IPæ§åˆ¶ï¼šallow ä¸ deny é€‰æ‹©å¼€ä¸€ä¸ª auth users = rsync_backup secrets file = /etc/rsync.password ###å¤šæ¨¡å—é…ç½®æŠŠå¯†ç ç”¨æˆ·æ”¾åˆ°æ¨¡å—åç§°ä¸Šé¢ å¯ä»¥å…±äº«å¯†ç ç”¨æˆ·é…ç½®å®¢æˆ·ç«¯é…ç½®ï¼šåˆ›å»ºå¯†ç æ–‡ä»¶ï¼šä¿®æ”¹æ–‡ä»¶æƒé™ echo &quot;oldboy&quot; &gt;/etc/rsync.password chomd 600 /etc/rsync.password mkdir â€“p /backup æœ¬åœ°ä¸´æ—¶å¤‡ä»½çš„ç›®å½• ä½¿ç”¨å‘½ä»¤è¿›è¡Œå¤‡ä»½ä¸¤ç§å‘½ä»¤é€‰ä¸€ç§ rsync â€“avz /backup/ rsync_backup@172.16.1.14::backup --password-file=/etc/rsync.password rsync â€“avz /backup/ rsync://rsync_backup@172.16.1.14/backup/--password-file=/etc/rsync.password å°ç»“ç†Ÿç»ƒéƒ¨ç½²è¿‡ç¨‹ åœæ­¢æœåŠ¡ï¼špkillrsyncå¼€å¯æœåŠ¡ï¼šrsync â€“daemon æ’é”™ï¼š 1ï¼Œçœ‹è¾“å‡º 2ï¼Œæ—¥å¿—åˆ†æï¼štail -1 /var/log/rsyncd.log è„šæœ¬1æœåŠ¡ç«¯rsyncè„šæœ¬ï¼š #!/bin/bash ###rsync### rpm -qa rsync yum install rsync -y useradd -s /sbin/nologin -M rsync cat&gt;&gt;/etc/rsyncd.conf&lt;&lt;EOF gid = rsync uid = rsync use chroot = on max connections = 200 timeout = 300 pid file = /var/run/rsyncd.pid lock file = /var/run/rsync.lock log file = /var/log/rsyncd.log [backup] auth users = rsync_backup path = /backup ignore errors read only = false list = false hosts allow = 172.16.1.0/24 #hosts deny = 0.0.0.0/32 secrets file = /etc/rsync.password ###end## EOF echo &quot;rsync_backup:oldboy&quot; &gt;/etc/rsync.password mkdir -p /backup chown -R rsync.rsync /backup ls -ld /backup chmod 600 /etc/rsync.password pkill rsync rsync --daemon echo &quot;/usr/bin/rsync --daemon&quot; &gt;&gt;/etc/rc.local tail -1 /etc/rc.local è„šæœ¬2#!/bin/sh echo &quot;oldboy&quot; &gt;/etc/rsync.password chmod 600 /etc/rsync.password mkdir -p /backup","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"linux","slug":"linux","permalink":"/tags/linux/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"wordpressç¾åŒ–ä¹‹çœ‹æ¿å¨˜live2d","slug":"wordpressåŠ å…¥çœ‹æ¿å¨˜ive2d","date":"2019-06-16T12:47:55.000Z","updated":"2019-09-21T06:38:10.000Z","comments":true,"path":"2019/06/16/wordpressåŠ å…¥çœ‹æ¿å¨˜ive2d/","link":"","permalink":"/2019/06/16/wordpressåŠ å…¥çœ‹æ¿å¨˜ive2d/","excerpt":"","text":"wordpressä¸»é¢˜é¡µé¢å±•ç¤ºæ’å…¥çœ‹æ¿å¨˜live2D æ•ˆæœå±•ç¤º ä¸‹è½½https://github.com/panpeihui/live2/tree/master/live2d æŠŠlive2d.zipåŒ…ä¸Šä¼ è§£å‹åˆ°wordpress/wp-content/themes/å®‰è£…çš„ä¸»é¢˜ç›®å½•/ è§£å‹æå–ä»¥ä¸‹æ–‡ä»¶åŠç›®å½• assets demo.html live2d mv .* /wordpress/wp-content/themes/å®‰è£…çš„ä¸»é¢˜ç›®å½•/ ä¿®æ”¹æ–‡ä»¶vim assets/waifu-tips.js 233 loadlive2d(&#39;live2d&#39;, &#39;./live2d/get/?id=&#39;+modelId+&#39;-&#39;+modelTextur esId, console.log(&#39;live2d&#39;,&#39;æ¨¡å‹ &#39;+modelId+&#39;-&#39;+modelTexturesId+&#39; åŠ &gt; è½½å®Œæˆ&#39;)); 244 url: &#39;./live2d/&#39;+modelTexturesRandMode+&#39;_textures/?id=&#39;+mode lId+&#39;-&#39;+modelTexturesId, 264 url: &#39;./live2d/&#39;+modelTexturesRandMode+&#39;/?id=&#39;+modelId, æŠŠ./live2dä¿®æ”¹æˆç»å¯¹è·¯å¾„ï¼Œä¸ç„¶ä¼šæŠ¥é”™åˆ—å¦‚ï¼š/wp-content/themes/xxx/assets/live2d XXXä¸ºä¸»é¢˜æ–‡ä»¶ç›®å½• vim demo.html &lt;script type=&quot;text/javascript&quot; src=&quot;./assets/jquery.min.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;./assets/waifu-tips.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;./assets/live2d.js&quot;&gt;&lt;/script&gt; æŠŠ assetsä¹Ÿä¿®æ”¹æˆç»å¯¹è·¯å¾„ åˆ—å¦‚ï¼š/wp-content/themes/xxx/assetsè¿™æ ·å°±å¯ä»¥è®¿é—®demo.htmlæ£€æŸ¥çœ‹æ¿å¨˜æ˜¯å¦å¯ä»¥æ­£å¸¸é£Ÿç”¨https://hostname/wp-content/themes/xxx/demo.htmlç»“åˆæµè§ˆå™¨F12æ£€æŸ¥æŠ¥é”™ä¿¡æ¯è¿›è¡Œä¿®æ”¹ï¼Œä¸€èˆ¬æ˜¯è·¯å¾„é—®é¢˜ æ¥ä¸‹æ¥å°±å¯ä»¥æŠŠdemo.htmlä»£ç å¤åˆ¶åˆ°ä¸»é¢˜å®‰è£…ç›®å½•ä¸‹çš„header.php htmlæ’å…¥ä»£ç headæ ‡ç­¾vim header.php &lt;head&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/wp-content/themes/xxx/assets/waifu.css&quot;&gt; &lt;script src=&quot;/wp-content/themes/xxx/assets/jquery.min.js&quot;&gt;&lt;/script&gt; &lt;/head&gt; bobyæ ‡ç­¾# vim footer.php &lt;div class=&quot;waifu&quot;&gt; &lt;div class=&quot;waifu-tips&quot;&gt;&lt;/div&gt; &lt;canvas id=&quot;live2d&quot; width=&quot;280&quot; height=&quot;250&quot; class=&quot;live2d&quot;&gt;&lt;/canvas&gt; &lt;div class=&quot;waifu-tool&quot;&gt; &lt;!span class=&quot;fui-home&quot;&gt;&lt;/span&gt; //!æ˜¯æ³¨é‡Š ä¸å¯ç”¨è¯¥è¡Œä»£ç  &lt;span class=&quot;fui-chat&quot;&gt;&lt;/span&gt; &lt;!span class=&quot;fui-eye&quot;&gt;&lt;/span&gt; &lt;span class=&quot;fui-user&quot;&gt;&lt;/span&gt; &lt;!span class=&quot;fui-photo&quot;&gt;&lt;/span&gt; &lt;!span class=&quot;fui-info-circle&quot;&gt;&lt;/span&gt; &lt;!span class=&quot;fui-cross&quot;&gt;&lt;/span&gt; &lt;/div&gt; &lt;/div&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;/wp-content/themes/xxx/assets/waifu-tips.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;/wp-content/themes/xxx/assets/live2d.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;/wp-content/themes/xxx/assets/jquery.min.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot;&gt;initModel(&quot;/wp-content/themes/xxx/assets/&quot;)&lt;/script&gt; è¿™æ ·å°±å¯ä»¥åœ¨ç½‘ç«™ä¸»é¢˜é‡Œæ˜¾ç¤ºçœ‹æ¿å¨˜live2däº†å¦‚æœä¸è¡Œç»“åˆæµè§ˆå™¨F12æ§åˆ¶å°æ£€æŸ¥æŠ¥é”™ï¼Œä¸€èˆ¬æ˜¯è·¯å¾„é—®é¢˜ ç®€å•ä¸Šæ‰‹ æé—®ï¼šä¸ºä»€ä¹ˆåšå‡ºæ¥çš„çœ‹æ¿å¨˜è·Ÿæˆ‘çš„ä¸ä¸€æ ·ï¼Ÿ å›å¤ï¼šå½“ç„¶å•¦ï¼ è¿˜æœ‰å¦ä¸€ç§æ–¹æ³• æ’ä»¶æ–¹å¼å®‰è£…https://github.com/panpeihui/Poilive2d ä¸‹è½½æ’ä»¶ä¸éœ€è¦è§£å‹ æŠ¥é”™æç¤ºåœ¨ç½‘ç«™åå°è¿›è¡Œæ’ä»¶å®‰è£…ä¼šæç¤ºï¼šThe uploaded file exceeds the upload_max_filesize directive in php.ini æŠ¥é”™è§£å†³find / -type f -name &quot;php.ini&quot; vim /xxx/php.ini upload_max_filesize = 2M ä¾‹å¦‚ï¼šä¿®æ”¹æˆ32M post_max_size = 8M ä¾‹å¦‚ï¼šä¿®æ”¹æˆ32M #/etc/init.d/httpd restart ç„¶ååœ¨è¿›è¡Œå®‰è£…æ’ä»¶ï¼Œåˆ·æ–°ç½‘é¡µå°±Okeyäº† å®‰è£…æ’ä»¶åŠä¸»é¢˜æç¤ºFtpæˆ–è€…æƒé™é—®é¢˜è§£å†³æ–¹æ³•ï¼š cd /wordpress cd /wp-content/themes/ mkidr tmp chmod -R 777 tmp chmod -R 777 wp-content vim wp-config.php åœ¨åé¢æ’å…¥å†…å®¹ define(&#39;WP_TEMP_DIR&#39;, ABSPATH.&#39;wp-content/tmp&#39;); define(&quot;FS_METHOD&quot;, &quot;direct&quot;); define(&quot;FS_CHMOD_DIR&quot;, 0777); define(&quot;FS_CHMOD_FILE&quot;, 0777); è¿™æ ·å°±å®Œç¾è§£å†³æƒé™é—®é¢˜ï¼Œé£Ÿç”¨æµç•…","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"wordpress","slug":"wordpress","permalink":"/tags/wordpress/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"æ­£åˆ™è¡¨è¾¾å¼","slug":"zhengze","date":"2019-06-16T12:47:55.000Z","updated":"2019-07-21T13:41:48.000Z","comments":true,"path":"2019/06/16/zhengze/","link":"","permalink":"/2019/06/16/zhengze/","excerpt":"","text":"é€šé…ç¬¦å½’çº³å¸¸ç”¨çš„ï¼š * ï¼Ÿ = | &gt; &lt; &amp; ; &amp;&amp; || ! \\ &quot;&quot; &#39;&#39; å‘½ä»¤ç»å¸¸ä¼šç”¨åˆ°è¿™äº›ï¼ æ­£åˆ™è¡¨è¾¾å¼ï¼š æ­£åˆ™æ¯”é€šé…è¦å¤æ‚çš„å¤šï¼Œç»å¸¸ä¼šç”¨åœ¨æ–‡æœ¬è¿‡æ»¤å·¥å…·ï¼švi grep sed awk ^ $ . [] ? * + {n} {n,} {n,m} grep grep æ–‡æœ¬è¿‡æ»¤ [^] \\&lt; \\&gt; x\\{n} x\\{n,} x\\{n,m} grep å‘½ä»¤å‚æ•°ï¼š `-v -w -E` egrep æ”¯æŒæ‰©å±•æ­£åˆ™è¡¨è¾¾å¼ + ? a|b|c () sed sed sed å‚æ•° ä¸€èˆ¬ä½¿ç”¨ -n åªæ˜¾ç¤ºè¾“å‡ºåŒ¹é…åˆ°çš„ç»“æœ -i ä¿®æ”¹æ–‡ä»¶ å¸¸ç”¨æ ¼å¼ï¼š sed -i &#39;s###gp&#39; flie sed -n &#39;2,3p&#39; flie sed &#39;/^$/d&#39; flie å¾…å®Œå–„.... awk awkawkæ˜¯ä¸€é—¨å¾ˆæ£’çš„çš„è¯­éŸ³ï¼Œå¾ˆå¼ºå¤§ï¼ æ”¯æŒposixæ­£åˆ™è¡¨è¾¾ /æ­£åˆ™è¡¨è¾¾å¼-å¼€å§‹/,/æ­£åˆ™ç»“æŸ/$1~/æ­£åˆ™è¡¨è¾¾å¼-å¼€å§‹/,$3~/æ­£åˆ™ç»“æŸ/åˆ—å¦‚ï¼š awk --posix &#39;$1~/^(http|https|ftp|telent|ssh|rsync|dns|mysql)$/{print$0}&#39; åŒºåŸŸï¼šFSåˆ€åˆ†éš” â€“&gt; NFåŒºåŸŸæ•°é‡è®°å½•ï¼šRSåˆ€åˆ†éš” â€“&gt; NR è®°å½•è¡Œå· NR==1 ]# ifconfig eth0| awk -F [&quot; &quot;:]+ &#39;NR==2{print $4}&#39; BEGINå’ŒENDæ¨¡å— ]# ifconfig eth0|awk &#39;BEGIN{FS=&quot;[[:space:]:]+&quot;} NR==2{print $4} for while if å¾ªç¯è¯­å¥ netstat -an|awk &#39;/^tcp/{++s[$NF]}END{for(a in s)print a,s[a]}&#39;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"linux","slug":"linux","permalink":"/tags/linux/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]}]}