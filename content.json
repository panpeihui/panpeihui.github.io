{"meta":{"title":"還差半步","subtitle":null,"description":"人生没有所谓的彩排  每天都是现场直播","author":"pan","url":""},"pages":[{"title":"about","date":"2018-12-12T14:14:36.000Z","updated":"2019-07-11T15:09:24.000Z","comments":false,"path":"about/index.html","permalink":"/about/index.html","excerpt":"","text":"[あと半歩] 与&nbsp; pan&nbsp; ( 真ま白しろ ) 对话中... function bot_ui_ini() { var botui = new BotUI(\"hello-mashiro\"); botui.message.add({ delay: 800, content: \"Hi, ！！👋\" }).then(function () { botui.message.add({ delay: 1100, content: \"这里是 pan\" }).then(function () { botui.message.add({ delay: 1100, content: \"一个外出的老宅男~\" }).then(function () { botui.action.button({ delay: 1600, action: [{ text: \"想了解？ 😃\", value: \"sure\" }, { text: \"结束！ 🙄\", value: \"skip\" }] }).then(function (a) { \"sure\" == a.value && sure(); \"skip\" == a.value && end() }) }) }) }); var sure = function () { botui.message.add({ delay: 600, content: \"😘\" }).then(function () { secondpart() }) }, end = function () { botui.message.add({ delay: 600, content: \"![...](https://view.moezx.cc/images/2018/05/06/a1c4cd0452528b572af37952489372b6.md.jpg)\" }) }, secondpart = function () { botui.message.add({ delay: 1500, content: \"上班一族，每天过着咸鱼般的生活！\" }).then(function () { botui.message.add({ delay: 1500, content: \"喜欢随便搞搞，爱游戏，菜鸡一个\" }).then(function () { botui.message.add({ delay: 1200, content: \"人生路漫漫，总要找点事情做，不能让自己闲下来\" }).then(function () { botui.message.add({ delay: 1500, content: \"游戏玩王者，喜欢看热血动漫，搞笑视频，知识方面什么都学，但是没有一方面是精通的\" }).then(function () { botui.message.add({ delay: 1500, content: \"有时候一个人静静的听歌学习，偶尔会出去夜跑\" }).then(function () { botui.message.add({ delay: 1800, content: \"夏天了，独自一人忍受炎炎的夏日，很怀念有空调冰棍西瓜的日子\" }).then(function () { botui.action.button({ delay: 1100, action: [{ text: \"为什么不装空调？ 🤔\", value: \"why-mashiro\" }] }).then(function (a) { thirdpart() }) }) }) }) }) }) }) }, thirdpart = function () { botui.message.add({ delay: 1E3, content: \"主要是因为荷包里没有cash\" }).then(function () { botui.action.button({ delay: 1500, action: [{ text: \"冰棍西瓜总买得起吧？ 🤔\", value: \"why-cat\" }] }).then(function (a) { fourthpart() }) }) }, fourthpart = function () { botui.message.add({ delay: 1E3, content: \"因为，不说了...\" }).then(function () { botui.message.add({ delay: 1100, content: \"而且...！\" }).then(function () { botui.action.button({ delay: 1500, action: [{ text: \"看blog(ง •_•)ง\", value: \"why-domain\" }] }).then(function (a) { fifthpart() }) }) }) }, fifthpart = function () { botui.message.add({ delay: 1E3, content: \"emmmm\" }).then(function () { botui.message.add({ delay: 1600, content: \"那么，仔细看看我的博客吧？ ^_^\" }) }) } } bot_ui_ini()","keywords":"关于半步"},{"title":"bangumi","date":"2019-02-10T13:32:48.000Z","updated":"2019-07-03T07:54:40.000Z","comments":false,"path":"bangumi/index.html","permalink":"/bangumi/index.html","excerpt":"","text":"img:title:status: 已追完progress: 100jp:time: 2014-10-05 SUN.desc:","keywords":null},{"title":"categories","date":"2019-07-18T12:45:16.000Z","updated":"2019-07-18T12:46:22.000Z","comments":false,"path":"categories/index.html","permalink":"/categories/index.html","excerpt":"","text":"","keywords":null},{"title":"client","date":"2018-12-20T15:13:35.000Z","updated":"2019-05-31T23:21:46.000Z","comments":false,"path":"client/index.html","permalink":"/client/index.html","excerpt":"","text":"直接下载 or 扫码下载：","keywords":"Android客户端"},{"title":"comment","date":"2018-12-20T15:13:48.000Z","updated":"2019-07-11T14:08:36.000Z","comments":true,"path":"comment/index.html","permalink":"/comment/index.html","excerpt":"","text":"念两句诗 叙别梦、扬州一觉。 【宋代】吴文英《夜游宫·人去西楼雁杳》","keywords":"留下您的足迹"},{"title":"donate","date":"2018-12-20T15:13:05.000Z","updated":"2019-05-31T23:21:46.000Z","comments":false,"path":"donate/index.html","permalink":"/donate/index.html","excerpt":"","text":"","keywords":"谢谢饲主了喵~"},{"title":"lab","date":"2019-01-05T13:47:59.000Z","updated":"2019-05-31T23:21:46.000Z","comments":false,"path":"lab/index.html","permalink":"/lab/index.html","excerpt":"","text":"sakura主题balabala","keywords":"Lab实验室"},{"title":"links","date":"2018-12-19T15:11:06.000Z","updated":"2019-07-26T06:32:08.000Z","comments":true,"path":"links/index.html","permalink":"/links/index.html","excerpt":"","text":"","keywords":"友人帐"},{"title":"music","date":"2018-12-20T15:14:28.000Z","updated":"2019-07-26T06:27:50.000Z","comments":false,"path":"music/index.html","permalink":"/music/index.html","excerpt":"","text":"网易云音乐 B站J.fla","keywords":"网易云音乐人生"},{"title":"rss","date":"2018-12-20T15:09:03.000Z","updated":"2019-05-31T23:21:46.000Z","comments":true,"path":"rss/index.html","permalink":"/rss/index.html","excerpt":"","text":""},{"title":"","date":"2020-04-23T13:12:32.990Z","updated":"2019-07-28T03:08:12.000Z","comments":true,"path":"shijianzhou/bootstrap-grid.min.css","permalink":"/shijianzhou/bootstrap-grid.min.css","excerpt":"","text":"/*! * Bootstrap v3.3.5 (http://getbootstrap.com) * Copyright 2011-2016 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE) */ /*! * Generated using the Bootstrap Customizer (http://getbootstrap.com/customize/?id=bb2d2388d48b31344c5e) * Config saved to config.json and https://gist.github.com/bb2d2388d48b31344c5e *//*! * Bootstrap v3.3.6 (http://getbootstrap.com) * Copyright 2011-2015 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE) *//*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:bold}dfn{font-style:italic}h1{font-size:2em;margin:0.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-0.5em}sub{bottom:-0.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace, monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=\"button\"],input[type=\"reset\"],input[type=\"submit\"]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=\"checkbox\"],input[type=\"radio\"]{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:0}input[type=\"number\"]::-webkit-inner-spin-button,input[type=\"number\"]::-webkit-outer-spin-button{height:auto}input[type=\"search\"]{-webkit-appearance:textfield;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box}input[type=\"search\"]::-webkit-search-cancel-button,input[type=\"search\"]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid #c0c0c0;margin:0 2px;padding:0.35em 0.625em 0.75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:bold}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}*:before,*:after{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}html{font-size:10px;-webkit-tap-highlight-color:rgba(0,0,0,0)}body{font-family:\"Helvetica Neue\",Helvetica,Arial,sans-serif;font-size:14px;line-height:1.42857143;color:#333;background-color:#fff}input,button,select,textarea{font-family:inherit;font-size:inherit;line-height:inherit}a{color:#337ab7;text-decoration:none}a:hover,a:focus{color:#23527c;text-decoration:underline}a:focus{outline:thin dotted;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}figure{margin:0}img{vertical-align:middle}.img-responsive{display:block;max-width:100%;height:auto}.img-rounded{border-radius:6px}.img-thumbnail{padding:4px;line-height:1.42857143;background-color:#fff;border:1px solid #ddd;border-radius:4px;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;display:inline-block;max-width:100%;height:auto}.img-circle{border-radius:50%}hr{margin-top:20px;margin-bottom:20px;border:0;border-top:1px solid #eee}.sr-only{position:absolute;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}[role=\"button\"]{cursor:pointer}h1,h2,h3,h4,h5,h6,.h1,.h2,.h3,.h4,.h5,.h6{font-family:inherit;font-weight:500;line-height:1.1;color:inherit}h1 small,h2 small,h3 small,h4 small,h5 small,h6 small,.h1 small,.h2 small,.h3 small,.h4 small,.h5 small,.h6 small,h1 .small,h2 .small,h3 .small,h4 .small,h5 .small,h6 .small,.h1 .small,.h2 .small,.h3 .small,.h4 .small,.h5 .small,.h6 .small{font-weight:normal;line-height:1;color:#777}h1,.h1,h2,.h2,h3,.h3{margin-top:20px;margin-bottom:10px}h1 small,.h1 small,h2 small,.h2 small,h3 small,.h3 small,h1 .small,.h1 .small,h2 .small,.h2 .small,h3 .small,.h3 .small{font-size:65%}h4,.h4,h5,.h5,h6,.h6{margin-top:10px;margin-bottom:10px}h4 small,.h4 small,h5 small,.h5 small,h6 small,.h6 small,h4 .small,.h4 .small,h5 .small,.h5 .small,h6 .small,.h6 .small{font-size:75%}h1,.h1{font-size:36px}h2,.h2{font-size:30px}h3,.h3{font-size:24px}h4,.h4{font-size:18px}h5,.h5{font-size:14px}h6,.h6{font-size:12px}p{margin:0 0 10px}.lead{margin-bottom:20px;font-size:16px;font-weight:300;line-height:1.4}@media (min-width:768px){.lead{font-size:21px}}small,.small{font-size:85%}mark,.mark{background-color:#fcf8e3;padding:.2em}.text-left{text-align:left}.text-right{text-align:right}.text-center{text-align:center}.text-justify{text-align:justify}.text-nowrap{white-space:nowrap}.text-lowercase{text-transform:lowercase}.text-uppercase{text-transform:uppercase}.text-capitalize{text-transform:capitalize}.text-muted{color:#777}.text-primary{color:#337ab7}a.text-primary:hover,a.text-primary:focus{color:#286090}.text-success{color:#3c763d}a.text-success:hover,a.text-success:focus{color:#2b542c}.text-info{color:#31708f}a.text-info:hover,a.text-info:focus{color:#245269}.text-warning{color:#8a6d3b}a.text-warning:hover,a.text-warning:focus{color:#66512c}.text-danger{color:#a94442}a.text-danger:hover,a.text-danger:focus{color:#843534}.bg-primary{color:#fff;background-color:#337ab7}a.bg-primary:hover,a.bg-primary:focus{background-color:#286090}.bg-success{background-color:#dff0d8}a.bg-success:hover,a.bg-success:focus{background-color:#c1e2b3}.bg-info{background-color:#d9edf7}a.bg-info:hover,a.bg-info:focus{background-color:#afd9ee}.bg-warning{background-color:#fcf8e3}a.bg-warning:hover,a.bg-warning:focus{background-color:#f7ecb5}.bg-danger{background-color:#f2dede}a.bg-danger:hover,a.bg-danger:focus{background-color:#e4b9b9}.page-header{padding-bottom:9px;margin:40px 0 20px;border-bottom:1px solid #eee}ul,ol{margin-top:0;margin-bottom:10px}ul ul,ol ul,ul ol,ol ol{margin-bottom:0}.list-unstyled{padding-left:0;list-style:none}.list-inline{padding-left:0;list-style:none;margin-left:-5px}.list-inline>li{display:inline-block;padding-left:5px;padding-right:5px}dl{margin-top:0;margin-bottom:20px}dt,dd{line-height:1.42857143}dt{font-weight:bold}dd{margin-left:0}@media (min-width:768px){.dl-horizontal dt{float:left;width:160px;clear:left;text-align:right;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dl-horizontal dd{margin-left:180px}}abbr[title],abbr[data-original-title]{cursor:help;border-bottom:1px dotted #777}.initialism{font-size:90%;text-transform:uppercase}blockquote{padding:10px 20px;margin:0 0 20px;font-size:17.5px;border-left:5px solid #eee}blockquote p:last-child,blockquote ul:last-child,blockquote ol:last-child{margin-bottom:0}blockquote footer,blockquote small,blockquote .small{display:block;font-size:80%;line-height:1.42857143;color:#777}blockquote footer:before,blockquote small:before,blockquote .small:before{content:'\\2014 \\00A0'}.blockquote-reverse,blockquote.pull-right{padding-right:15px;padding-left:0;border-right:5px solid #eee;border-left:0;text-align:right}.blockquote-reverse footer:before,blockquote.pull-right footer:before,.blockquote-reverse small:before,blockquote.pull-right small:before,.blockquote-reverse .small:before,blockquote.pull-right .small:before{content:''}.blockquote-reverse footer:after,blockquote.pull-right footer:after,.blockquote-reverse small:after,blockquote.pull-right small:after,.blockquote-reverse .small:after,blockquote.pull-right .small:after{content:'\\00A0 \\2014'}address{margin-bottom:20px;font-style:normal;line-height:1.42857143}.container{margin-right:auto;margin-left:auto;padding-left:15px;padding-right:15px}@media (min-width:768px){.container{width:750px}}@media (min-width:992px){.container{width:970px}}@media (min-width:1200px){.container{width:1170px}}.container-fluid{margin-right:auto;margin-left:auto;padding-left:15px;padding-right:15px}.row{margin-left:-15px;margin-right:-15px}.col-xs-1, .col-sm-1, .col-md-1, .col-lg-1, .col-xs-2, .col-sm-2, .col-md-2, .col-lg-2, .col-xs-3, .col-sm-3, .col-md-3, .col-lg-3, .col-xs-4, .col-sm-4, .col-md-4, .col-lg-4, .col-xs-5, .col-sm-5, .col-md-5, .col-lg-5, .col-xs-6, .col-sm-6, .col-md-6, .col-lg-6, .col-xs-7, .col-sm-7, .col-md-7, .col-lg-7, .col-xs-8, .col-sm-8, .col-md-8, .col-lg-8, .col-xs-9, .col-sm-9, .col-md-9, .col-lg-9, .col-xs-10, .col-sm-10, .col-md-10, .col-lg-10, .col-xs-11, .col-sm-11, .col-md-11, .col-lg-11, .col-xs-12, .col-sm-12, .col-md-12, .col-lg-12{position:relative;min-height:1px;padding-left:15px;padding-right:15px}.col-xs-1, .col-xs-2, .col-xs-3, .col-xs-4, .col-xs-5, .col-xs-6, .col-xs-7, .col-xs-8, .col-xs-9, .col-xs-10, .col-xs-11, .col-xs-12{float:left}.col-xs-12{width:100%}.col-xs-11{width:91.66666667%}.col-xs-10{width:83.33333333%}.col-xs-9{width:75%}.col-xs-8{width:66.66666667%}.col-xs-7{width:58.33333333%}.col-xs-6{width:50%}.col-xs-5{width:41.66666667%}.col-xs-4{width:33.33333333%}.col-xs-3{width:25%}.col-xs-2{width:16.66666667%}.col-xs-1{width:8.33333333%}.col-xs-pull-12{right:100%}.col-xs-pull-11{right:91.66666667%}.col-xs-pull-10{right:83.33333333%}.col-xs-pull-9{right:75%}.col-xs-pull-8{right:66.66666667%}.col-xs-pull-7{right:58.33333333%}.col-xs-pull-6{right:50%}.col-xs-pull-5{right:41.66666667%}.col-xs-pull-4{right:33.33333333%}.col-xs-pull-3{right:25%}.col-xs-pull-2{right:16.66666667%}.col-xs-pull-1{right:8.33333333%}.col-xs-pull-0{right:auto}.col-xs-push-12{left:100%}.col-xs-push-11{left:91.66666667%}.col-xs-push-10{left:83.33333333%}.col-xs-push-9{left:75%}.col-xs-push-8{left:66.66666667%}.col-xs-push-7{left:58.33333333%}.col-xs-push-6{left:50%}.col-xs-push-5{left:41.66666667%}.col-xs-push-4{left:33.33333333%}.col-xs-push-3{left:25%}.col-xs-push-2{left:16.66666667%}.col-xs-push-1{left:8.33333333%}.col-xs-push-0{left:auto}.col-xs-offset-12{margin-left:100%}.col-xs-offset-11{margin-left:91.66666667%}.col-xs-offset-10{margin-left:83.33333333%}.col-xs-offset-9{margin-left:75%}.col-xs-offset-8{margin-left:66.66666667%}.col-xs-offset-7{margin-left:58.33333333%}.col-xs-offset-6{margin-left:50%}.col-xs-offset-5{margin-left:41.66666667%}.col-xs-offset-4{margin-left:33.33333333%}.col-xs-offset-3{margin-left:25%}.col-xs-offset-2{margin-left:16.66666667%}.col-xs-offset-1{margin-left:8.33333333%}.col-xs-offset-0{margin-left:0}@media (min-width:768px){.col-sm-1, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6, .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-10, .col-sm-11, .col-sm-12{float:left}.col-sm-12{width:100%}.col-sm-11{width:91.66666667%}.col-sm-10{width:83.33333333%}.col-sm-9{width:75%}.col-sm-8{width:66.66666667%}.col-sm-7{width:58.33333333%}.col-sm-6{width:50%}.col-sm-5{width:41.66666667%}.col-sm-4{width:33.33333333%}.col-sm-3{width:25%}.col-sm-2{width:16.66666667%}.col-sm-1{width:8.33333333%}.col-sm-pull-12{right:100%}.col-sm-pull-11{right:91.66666667%}.col-sm-pull-10{right:83.33333333%}.col-sm-pull-9{right:75%}.col-sm-pull-8{right:66.66666667%}.col-sm-pull-7{right:58.33333333%}.col-sm-pull-6{right:50%}.col-sm-pull-5{right:41.66666667%}.col-sm-pull-4{right:33.33333333%}.col-sm-pull-3{right:25%}.col-sm-pull-2{right:16.66666667%}.col-sm-pull-1{right:8.33333333%}.col-sm-pull-0{right:auto}.col-sm-push-12{left:100%}.col-sm-push-11{left:91.66666667%}.col-sm-push-10{left:83.33333333%}.col-sm-push-9{left:75%}.col-sm-push-8{left:66.66666667%}.col-sm-push-7{left:58.33333333%}.col-sm-push-6{left:50%}.col-sm-push-5{left:41.66666667%}.col-sm-push-4{left:33.33333333%}.col-sm-push-3{left:25%}.col-sm-push-2{left:16.66666667%}.col-sm-push-1{left:8.33333333%}.col-sm-push-0{left:auto}.col-sm-offset-12{margin-left:100%}.col-sm-offset-11{margin-left:91.66666667%}.col-sm-offset-10{margin-left:83.33333333%}.col-sm-offset-9{margin-left:75%}.col-sm-offset-8{margin-left:66.66666667%}.col-sm-offset-7{margin-left:58.33333333%}.col-sm-offset-6{margin-left:50%}.col-sm-offset-5{margin-left:41.66666667%}.col-sm-offset-4{margin-left:33.33333333%}.col-sm-offset-3{margin-left:25%}.col-sm-offset-2{margin-left:16.66666667%}.col-sm-offset-1{margin-left:8.33333333%}.col-sm-offset-0{margin-left:0}}@media (min-width:992px){.col-md-1, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6, .col-md-7, .col-md-8, .col-md-9, .col-md-10, .col-md-11, .col-md-12{float:left}.col-md-12{width:70%}.col-md-11{width:91.66666667%}.col-md-10{width:83.33333333%}.col-md-9{width:75%}.col-md-8{width:66.66666667%}.col-md-7{width:58.33333333%}.col-md-6{width:50%}.col-md-5{width:41.66666667%}.col-md-4{width:33.33333333%}.col-md-3{width:25%}.col-md-2{width:16.66666667%}.col-md-1{width:8.33333333%}.col-md-pull-12{right:100%}.col-md-pull-11{right:91.66666667%}.col-md-pull-10{right:83.33333333%}.col-md-pull-9{right:75%}.col-md-pull-8{right:66.66666667%}.col-md-pull-7{right:58.33333333%}.col-md-pull-6{right:50%}.col-md-pull-5{right:41.66666667%}.col-md-pull-4{right:33.33333333%}.col-md-pull-3{right:25%}.col-md-pull-2{right:16.66666667%}.col-md-pull-1{right:8.33333333%}.col-md-pull-0{right:auto}.col-md-push-12{left:100%}.col-md-push-11{left:91.66666667%}.col-md-push-10{left:83.33333333%}.col-md-push-9{left:75%}.col-md-push-8{left:66.66666667%}.col-md-push-7{left:58.33333333%}.col-md-push-6{left:50%}.col-md-push-5{left:41.66666667%}.col-md-push-4{left:33.33333333%}.col-md-push-3{left:25%}.col-md-push-2{left:16.66666667%}.col-md-push-1{left:8.33333333%}.col-md-push-0{left:auto}.col-md-offset-12{margin-left:100%}.col-md-offset-11{margin-left:91.66666667%}.col-md-offset-10{margin-left:83.33333333%}.col-md-offset-9{margin-left:75%}.col-md-offset-8{margin-left:66.66666667%}.col-md-offset-7{margin-left:58.33333333%}.col-md-offset-6{margin-left:50%}.col-md-offset-5{margin-left:41.66666667%}.col-md-offset-4{margin-left:33.33333333%}.col-md-offset-3{margin-left:25%}.col-md-offset-2{margin-left:16.66666667%}.col-md-offset-1{margin-left:8.33333333%}.col-md-offset-0{margin-left:0}}@media (min-width:1200px){.col-lg-1, .col-lg-2, .col-lg-3, .col-lg-4, .col-lg-5, .col-lg-6, .col-lg-7, .col-lg-8, .col-lg-9, .col-lg-10, .col-lg-11, .col-lg-12{float:left}.col-lg-12{width:100%}.col-lg-11{width:91.66666667%}.col-lg-10{width:83.33333333%}.col-lg-9{width:75%}.col-lg-8{width:66.66666667%}.col-lg-7{width:58.33333333%}.col-lg-6{width:50%}.col-lg-5{width:41.66666667%}.col-lg-4{width:33.33333333%}.col-lg-3{width:25%}.col-lg-2{width:16.66666667%}.col-lg-1{width:8.33333333%}.col-lg-pull-12{right:100%}.col-lg-pull-11{right:91.66666667%}.col-lg-pull-10{right:83.33333333%}.col-lg-pull-9{right:75%}.col-lg-pull-8{right:66.66666667%}.col-lg-pull-7{right:58.33333333%}.col-lg-pull-6{right:50%}.col-lg-pull-5{right:41.66666667%}.col-lg-pull-4{right:33.33333333%}.col-lg-pull-3{right:25%}.col-lg-pull-2{right:16.66666667%}.col-lg-pull-1{right:8.33333333%}.col-lg-pull-0{right:auto}.col-lg-push-12{left:100%}.col-lg-push-11{left:91.66666667%}.col-lg-push-10{left:83.33333333%}.col-lg-push-9{left:75%}.col-lg-push-8{left:66.66666667%}.col-lg-push-7{left:58.33333333%}.col-lg-push-6{left:50%}.col-lg-push-5{left:41.66666667%}.col-lg-push-4{left:33.33333333%}.col-lg-push-3{left:25%}.col-lg-push-2{left:16.66666667%}.col-lg-push-1{left:8.33333333%}.col-lg-push-0{left:auto}.col-lg-offset-12{margin-left:100%}.col-lg-offset-11{margin-left:91.66666667%}.col-lg-offset-10{margin-left:83.33333333%}.col-lg-offset-9{margin-left:75%}.col-lg-offset-8{margin-left:66.66666667%}.col-lg-offset-7{margin-left:58.33333333%}.col-lg-offset-6{margin-left:50%}.col-lg-offset-5{margin-left:41.66666667%}.col-lg-offset-4{margin-left:33.33333333%}.col-lg-offset-3{margin-left:25%}.col-lg-offset-2{margin-left:16.66666667%}.col-lg-offset-1{margin-left:8.33333333%}.col-lg-offset-0{margin-left:0}}.btn{display:inline-block;margin-bottom:0;font-weight:normal;text-align:center;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;background-image:none;border:1px solid transparent;white-space:nowrap;padding:6px 12px;font-size:14px;line-height:1.42857143;border-radius:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.btn:focus,.btn:active:focus,.btn.active:focus,.btn.focus,.btn:active.focus,.btn.active.focus{outline:thin dotted;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}.btn:hover,.btn:focus,.btn.focus{color:#333;text-decoration:none}.btn:active,.btn.active{outline:0;background-image:none;-webkit-box-shadow:inset 0 3px 5px rgba(0,0,0,0.125);box-shadow:inset 0 3px 5px rgba(0,0,0,0.125)}.btn.disabled,.btn[disabled],fieldset[disabled] .btn{cursor:not-allowed;opacity:.65;filter:alpha(opacity=65);-webkit-box-shadow:none;box-shadow:none}a.btn.disabled,fieldset[disabled] a.btn{pointer-events:none}.btn-default{color:#333;background-color:#fff;border-color:#ccc}.btn-default:focus,.btn-default.focus{color:#333;background-color:#e6e6e6;border-color:#8c8c8c}.btn-default:hover{color:#333;background-color:#e6e6e6;border-color:#adadad}.btn-default:active,.btn-default.active,.open>.dropdown-toggle.btn-default{color:#333;background-color:#e6e6e6;border-color:#adadad}.btn-default:active:hover,.btn-default.active:hover,.open>.dropdown-toggle.btn-default:hover,.btn-default:active:focus,.btn-default.active:focus,.open>.dropdown-toggle.btn-default:focus,.btn-default:active.focus,.btn-default.active.focus,.open>.dropdown-toggle.btn-default.focus{color:#333;background-color:#d4d4d4;border-color:#8c8c8c}.btn-default:active,.btn-default.active,.open>.dropdown-toggle.btn-default{background-image:none}.btn-default.disabled:hover,.btn-default[disabled]:hover,fieldset[disabled] .btn-default:hover,.btn-default.disabled:focus,.btn-default[disabled]:focus,fieldset[disabled] .btn-default:focus,.btn-default.disabled.focus,.btn-default[disabled].focus,fieldset[disabled] .btn-default.focus{background-color:#fff;border-color:#ccc}.btn-default .badge{color:#fff;background-color:#333}.btn-primary{color:#fff;background-color:#337ab7;border-color:#2e6da4}.btn-primary:focus,.btn-primary.focus{color:#fff;background-color:#286090;border-color:#122b40}.btn-primary:hover{color:#fff;background-color:#286090;border-color:#204d74}.btn-primary:active,.btn-primary.active,.open>.dropdown-toggle.btn-primary{color:#fff;background-color:#286090;border-color:#204d74}.btn-primary:active:hover,.btn-primary.active:hover,.open>.dropdown-toggle.btn-primary:hover,.btn-primary:active:focus,.btn-primary.active:focus,.open>.dropdown-toggle.btn-primary:focus,.btn-primary:active.focus,.btn-primary.active.focus,.open>.dropdown-toggle.btn-primary.focus{color:#fff;background-color:#204d74;border-color:#122b40}.btn-primary:active,.btn-primary.active,.open>.dropdown-toggle.btn-primary{background-image:none}.btn-primary.disabled:hover,.btn-primary[disabled]:hover,fieldset[disabled] .btn-primary:hover,.btn-primary.disabled:focus,.btn-primary[disabled]:focus,fieldset[disabled] .btn-primary:focus,.btn-primary.disabled.focus,.btn-primary[disabled].focus,fieldset[disabled] .btn-primary.focus{background-color:#337ab7;border-color:#2e6da4}.btn-primary .badge{color:#337ab7;background-color:#fff}.btn-success{color:#fff;background-color:#5cb85c;border-color:#4cae4c}.btn-success:focus,.btn-success.focus{color:#fff;background-color:#449d44;border-color:#255625}.btn-success:hover{color:#fff;background-color:#449d44;border-color:#398439}.btn-success:active,.btn-success.active,.open>.dropdown-toggle.btn-success{color:#fff;background-color:#449d44;border-color:#398439}.btn-success:active:hover,.btn-success.active:hover,.open>.dropdown-toggle.btn-success:hover,.btn-success:active:focus,.btn-success.active:focus,.open>.dropdown-toggle.btn-success:focus,.btn-success:active.focus,.btn-success.active.focus,.open>.dropdown-toggle.btn-success.focus{color:#fff;background-color:#398439;border-color:#255625}.btn-success:active,.btn-success.active,.open>.dropdown-toggle.btn-success{background-image:none}.btn-success.disabled:hover,.btn-success[disabled]:hover,fieldset[disabled] .btn-success:hover,.btn-success.disabled:focus,.btn-success[disabled]:focus,fieldset[disabled] .btn-success:focus,.btn-success.disabled.focus,.btn-success[disabled].focus,fieldset[disabled] .btn-success.focus{background-color:#5cb85c;border-color:#4cae4c}.btn-success .badge{color:#5cb85c;background-color:#fff}.btn-info{color:#fff;background-color:#5bc0de;border-color:#46b8da}.btn-info:focus,.btn-info.focus{color:#fff;background-color:#31b0d5;border-color:#1b6d85}.btn-info:hover{color:#fff;background-color:#31b0d5;border-color:#269abc}.btn-info:active,.btn-info.active,.open>.dropdown-toggle.btn-info{color:#fff;background-color:#31b0d5;border-color:#269abc}.btn-info:active:hover,.btn-info.active:hover,.open>.dropdown-toggle.btn-info:hover,.btn-info:active:focus,.btn-info.active:focus,.open>.dropdown-toggle.btn-info:focus,.btn-info:active.focus,.btn-info.active.focus,.open>.dropdown-toggle.btn-info.focus{color:#fff;background-color:#269abc;border-color:#1b6d85}.btn-info:active,.btn-info.active,.open>.dropdown-toggle.btn-info{background-image:none}.btn-info.disabled:hover,.btn-info[disabled]:hover,fieldset[disabled] .btn-info:hover,.btn-info.disabled:focus,.btn-info[disabled]:focus,fieldset[disabled] .btn-info:focus,.btn-info.disabled.focus,.btn-info[disabled].focus,fieldset[disabled] .btn-info.focus{background-color:#5bc0de;border-color:#46b8da}.btn-info .badge{color:#5bc0de;background-color:#fff}.btn-warning{color:#fff;background-color:#f0ad4e;border-color:#eea236}.btn-warning:focus,.btn-warning.focus{color:#fff;background-color:#ec971f;border-color:#985f0d}.btn-warning:hover{color:#fff;background-color:#ec971f;border-color:#d58512}.btn-warning:active,.btn-warning.active,.open>.dropdown-toggle.btn-warning{color:#fff;background-color:#ec971f;border-color:#d58512}.btn-warning:active:hover,.btn-warning.active:hover,.open>.dropdown-toggle.btn-warning:hover,.btn-warning:active:focus,.btn-warning.active:focus,.open>.dropdown-toggle.btn-warning:focus,.btn-warning:active.focus,.btn-warning.active.focus,.open>.dropdown-toggle.btn-warning.focus{color:#fff;background-color:#d58512;border-color:#985f0d}.btn-warning:active,.btn-warning.active,.open>.dropdown-toggle.btn-warning{background-image:none}.btn-warning.disabled:hover,.btn-warning[disabled]:hover,fieldset[disabled] .btn-warning:hover,.btn-warning.disabled:focus,.btn-warning[disabled]:focus,fieldset[disabled] .btn-warning:focus,.btn-warning.disabled.focus,.btn-warning[disabled].focus,fieldset[disabled] .btn-warning.focus{background-color:#f0ad4e;border-color:#eea236}.btn-warning .badge{color:#f0ad4e;background-color:#fff}.btn-danger{color:#fff;background-color:#d9534f;border-color:#d43f3a}.btn-danger:focus,.btn-danger.focus{color:#fff;background-color:#c9302c;border-color:#761c19}.btn-danger:hover{color:#fff;background-color:#c9302c;border-color:#ac2925}.btn-danger:active,.btn-danger.active,.open>.dropdown-toggle.btn-danger{color:#fff;background-color:#c9302c;border-color:#ac2925}.btn-danger:active:hover,.btn-danger.active:hover,.open>.dropdown-toggle.btn-danger:hover,.btn-danger:active:focus,.btn-danger.active:focus,.open>.dropdown-toggle.btn-danger:focus,.btn-danger:active.focus,.btn-danger.active.focus,.open>.dropdown-toggle.btn-danger.focus{color:#fff;background-color:#ac2925;border-color:#761c19}.btn-danger:active,.btn-danger.active,.open>.dropdown-toggle.btn-danger{background-image:none}.btn-danger.disabled:hover,.btn-danger[disabled]:hover,fieldset[disabled] .btn-danger:hover,.btn-danger.disabled:focus,.btn-danger[disabled]:focus,fieldset[disabled] .btn-danger:focus,.btn-danger.disabled.focus,.btn-danger[disabled].focus,fieldset[disabled] .btn-danger.focus{background-color:#d9534f;border-color:#d43f3a}.btn-danger .badge{color:#d9534f;background-color:#fff}.btn-link{color:#337ab7;font-weight:normal;border-radius:0}.btn-link,.btn-link:active,.btn-link.active,.btn-link[disabled],fieldset[disabled] .btn-link{background-color:transparent;-webkit-box-shadow:none;box-shadow:none}.btn-link,.btn-link:hover,.btn-link:focus,.btn-link:active{border-color:transparent}.btn-link:hover,.btn-link:focus{color:#23527c;text-decoration:underline;background-color:transparent}.btn-link[disabled]:hover,fieldset[disabled] .btn-link:hover,.btn-link[disabled]:focus,fieldset[disabled] .btn-link:focus{color:#777;text-decoration:none}.btn-lg{padding:10px 16px;font-size:18px;line-height:1.3333333;border-radius:6px}.btn-sm{padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}.btn-xs{padding:1px 5px;font-size:12px;line-height:1.5;border-radius:3px}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:5px}input[type=\"submit\"].btn-block,input[type=\"reset\"].btn-block,input[type=\"button\"].btn-block{width:100%}.clearfix:before,.clearfix:after,.dl-horizontal dd:before,.dl-horizontal dd:after,.container:before,.container:after,.container-fluid:before,.container-fluid:after,.row:before,.row:after{content:\" \";display:table}.clearfix:after,.dl-horizontal dd:after,.container:after,.container-fluid:after,.row:after{clear:both}.center-block{display:block;margin-left:auto;margin-right:auto}.pull-right{float:right !important}.pull-left{float:left !important}.hide{display:none !important}.show{display:block !important}.invisible{visibility:hidden}.text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.hidden{display:none !important}.affix{position:fixed}@-ms-viewport{width:device-width}.visible-xs,.visible-sm,.visible-md,.visible-lg{display:none !important}.visible-xs-block,.visible-xs-inline,.visible-xs-inline-block,.visible-sm-block,.visible-sm-inline,.visible-sm-inline-block,.visible-md-block,.visible-md-inline,.visible-md-inline-block,.visible-lg-block,.visible-lg-inline,.visible-lg-inline-block{display:none !important}@media (max-width:767px){.visible-xs{display:block !important}table.visible-xs{display:table !important}tr.visible-xs{display:table-row !important}th.visible-xs,td.visible-xs{display:table-cell !important}}@media (max-width:767px){.visible-xs-block{display:block !important}}@media (max-width:767px){.visible-xs-inline{display:inline !important}}@media (max-width:767px){.visible-xs-inline-block{display:inline-block !important}}@media (min-width:768px) and (max-width:991px){.visible-sm{display:block !important}table.visible-sm{display:table !important}tr.visible-sm{display:table-row !important}th.visible-sm,td.visible-sm{display:table-cell !important}}@media (min-width:768px) and (max-width:991px){.visible-sm-block{display:block !important}}@media (min-width:768px) and (max-width:991px){.visible-sm-inline{display:inline !important}}@media (min-width:768px) and (max-width:991px){.visible-sm-inline-block{display:inline-block !important}}@media (min-width:992px) and (max-width:1199px){.visible-md{display:block !important}table.visible-md{display:table !important}tr.visible-md{display:table-row !important}th.visible-md,td.visible-md{display:table-cell !important}}@media (min-width:992px) and (max-width:1199px){.visible-md-block{display:block !important}}@media (min-width:992px) and (max-width:1199px){.visible-md-inline{display:inline !important}}@media (min-width:992px) and (max-width:1199px){.visible-md-inline-block{display:inline-block !important}}@media (min-width:1200px){.visible-lg{display:block !important}table.visible-lg{display:table !important}tr.visible-lg{display:table-row !important}th.visible-lg,td.visible-lg{display:table-cell !important}}@media (min-width:1200px){.visible-lg-block{display:block !important}}@media (min-width:1200px){.visible-lg-inline{display:inline !important}}@media (min-width:1200px){.visible-lg-inline-block{display:inline-block !important}}@media (max-width:767px){.hidden-xs{display:none !important}}@media (min-width:768px) and (max-width:991px){.hidden-sm{display:none !important}}@media (min-width:992px) and (max-width:1199px){.hidden-md{display:none !important}}@media (min-width:1200px){.hidden-lg{display:none !important}}.visible-print{display:none !important}@media print{.visible-print{display:block !important}table.visible-print{display:table !important}tr.visible-print{display:table-row !important}th.visible-print,td.visible-print{display:table-cell !important}}.visible-print-block{display:none !important}@media print{.visible-print-block{display:block !important}}.visible-print-inline{display:none !important}@media print{.visible-print-inline{display:inline !important}}.visible-print-inline-block{display:none !important}@media print{.visible-print-inline-block{display:inline-block !important}}@media print{.hidden-print{display:none !important}}"},{"title":"","date":"2020-04-23T13:12:32.989Z","updated":"2019-07-28T03:05:34.000Z","comments":true,"path":"shijianzhou/demo.css","permalink":"/shijianzhou/demo.css","excerpt":"","text":"body, html { font-size: 100%; padding: 0; margin: 0;} /* Reset */ *, *:after, *:before { -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; } /* Clearfix hack by Nicolas Gallagher: http://nicolasgallagher.com/micro-clearfix-hack/ */ .clearfix:before, .clearfix:after { content: \" \"; display: table; } .clearfix:after { clear: both; } body{ background: #ffffff; color: #D5D6E2; font-weight: 500; font-size: 1.05em; font-family: \"Microsoft YaHei\",\"Segoe UI\", \"Lucida Grande\", Helvetica, Arial,sans-serif; }"},{"title":"photos","date":"2019-07-11T06:57:07.000Z","updated":"2019-07-28T05:57:13.000Z","comments":false,"path":"shijianzhou/index.html","permalink":"/shijianzhou/index.html","excerpt":"","text":".main-timeline{ font-family: 'Roboto', sans-serif; padding: 20px 0; position: relative; } .main-timeline:before, .main-timeline:after{ content: ''; height: 40px; width: 40px; background-color: #e7e7e7; border-radius: 50%; border: 10px solid #303334; transform:translateX(-50%); position: absolute; left: 50%; top: -15px; z-index: 2; } .main-timeline:after{ top: auto; bottom:15px; } .main-timeline .timeline{ padding: 35px 0; margin-top: -30px; position: relative; z-index: 1; } .main-timeline .timeline:before, .main-timeline .timeline:after{ content: ''; height: 100%; width: 50%; border-radius: 100px 0 0 100px; border: 15px solid #46B2BC; border-right: none; position: absolute; left: 0; top: 0; z-index: -1; } .main-timeline .timeline:after{ height: calc(100% - 30px); width: calc(50% - 12px); border-color: #65C7D0; left: 12px; top: 15px; } .main-timeline .timeline-content{ display:inline-block; } .main-timeline .timeline-content:hover{ text-decoration: none; } .main-timeline .timeline-year{ color: #65C7D0; font-size: 50px; font-weight: 600; display: inline-block; transform:translateY(-50%); position: absolute; top: 50%; left: 10%; } .main-timeline .timeline-icon{ color: #65C7D0; font-size: 80px; display: inline-block; transform: translateY(-50%); position: absolute; left: 34%; top: 50%; } .main-timeline .content{ color: #909090; width: 40%; padding: 20px; display: -webkit-inline-box; float: right; } .main-timeline .title{ color: #65C7D0; font-size: 22px; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; margin: 0 0 5px 0; } .main-timeline .description{ font-size: 15px; letter-spacing: 1px; margin: 0; } .main-timeline .timeline:nth-child(even):before{ left: auto; right: 0; border-radius: 0 100px 100px 0; border: 15px solid red; border-left: none; } .main-timeline .timeline:nth-child(even):after{ left: auto; right: 12px; border: 15px solid green; border-left: none; border-radius: 0 100px 100px 0; } .main-timeline .timeline:nth-child(even) .content{ float: left; } .main-timeline .timeline:nth-child(even) .timeline-year{ left: auto; right: 10%; } .main-timeline .timeline:nth-child(even) .timeline-icon{ left: auto; right: 32%; } .main-timeline .timeline:nth-child(5n+2):before{ border-color: #EA3C14; } .main-timeline .timeline:nth-child(5n+2):after{ border-color: #EF5720; } .main-timeline .timeline:nth-child(5n+2) .timeline-icon{ color: #EA3C14; } .main-timeline .timeline:nth-child(5n+2) .timeline-year{ color: #EA3C14; } .main-timeline .timeline:nth-child(5n+2) .title{ color: #EA3C14; } .main-timeline .timeline:nth-child(5n+3):before{ border-color: #8CC63E; } .main-timeline .timeline:nth-child(5n+3):after{ border-color: #6CAF29; } .main-timeline .timeline:nth-child(5n+3) .timeline-icon{ color: #8CC63E; } .main-timeline .timeline:nth-child(5n+3) .timeline-year{ color: #8CC63E; } .main-timeline .timeline:nth-child(5n+3) .title{ color: #8CC63E; } .main-timeline .timeline:nth-child(5n+4):before{ border-color: #F99324; } .main-timeline .timeline:nth-child(5n+4):after{ border-color: #FBB03B; } .main-timeline .timeline:nth-child(5n+4) .timeline-icon{ color: #F99324; } .main-timeline .timeline:nth-child(5n+4) .timeline-year{ color: #F99324; } .main-timeline .timeline:nth-child(5n+4) .title{ color: #F99324; } .main-timeline .timeline:nth-child(5n+5):before{ border-color: #0071BD; } .main-timeline .timeline:nth-child(5n+5):after{ border-color: #0050A3; } .main-timeline .timeline:nth-child(5n+5) .timeline-icon{ color: #0071BD; } .main-timeline .timeline:nth-child(5n+5) .timeline-year{ color: #0071BD; } .main-timeline .timeline:nth-child(5n+5) .title{ color: #0071BD; } @media screen and (max-width:1200px){ .main-timeline .timeline:after{ border-radius: 88px 0 0 88px; } .main-timeline .timeline:nth-child(even):after{ border-radius: 0 88px 88px 0; } } @media screen and (max-width:767px){ .main-timeline .timeline{ margin-top: -19px; } .main-timeline .timeline:before { border-radius: 50px 0 0 50px; border-width: 10px; } .main-timeline .timeline:after { height: calc(100% - 18px); width: calc(50% - 9px); border-radius: 43px 0 0 43px; border-width:10px; top: 9px; left: 9px; } .main-timeline .timeline:nth-child(even):before { border-radius: 0 50px 50px 0; border-width: 10px; } .main-timeline .timeline:nth-child(even):after { height: calc(100% - 18px); width: calc(50% - 9px); border-radius: 0 43px 43px 0; border-width: 10px; top: 9px; right: 9px; } .main-timeline .timeline-icon{ font-size: 60px; } .main-timeline .timeline-year{ font-size: 40px; } } @media screen and (max-width:479px){ .main-timeline .timeline-icon{ font-size: 50px; transform:translateY(0); top: 25%; left: 10%; } .main-timeline .timeline-year{ font-size: 25px; transform:translateY(0); top: 65%; left: 9%; } .main-timeline .content{ width: 68%; padding: 10px; } .main-timeline .title{ font-size: 18px; } .main-timeline .timeline:nth-child(even) .timeline-icon{ right: 10%; } .main-timeline .timeline:nth-child(even) .timeline-year{ right: 9%; } } 2019 华南新材料园Ⅳ 滴滴机房运维的第二年 2018 华南新材料园Ⅲ 滴滴机房运维 2017 华南新材料园Ⅱ 腾讯IDC工作的第二年 2016 华南新材料园Ⅰ 离开南沙后，还是选择呆在机房当运维，驻腾讯IDC机房 2015 毕业 毕业的哪一年，去南沙云谷机房当了小运维，工作还算轻松","keywords":"时间长跑"},{"title":"tags","date":"2018-12-12T14:14:16.000Z","updated":"2019-07-20T07:43:08.000Z","comments":true,"path":"tags/index.html","permalink":"/tags/index.html","excerpt":"","text":""},{"title":"theme-sakura","date":"2019-01-04T14:53:25.000Z","updated":"2019-07-30T13:23:28.000Z","comments":false,"path":"theme-sakura/index.html","permalink":"/theme-sakura/index.html","excerpt":"","text":"#screen { position: absolute; left:0; top:0; width: 100%; height: 100%; background:#000; perspective:500px; -webkit-perspective:500px; } .cube { position: absolute; top: 50%; left: 50%; width: 0; height: 0; margin: 0; user-select: none; transform-style: preserve-3d; -webkit-transform-style: preserve-3d; } .face { position: absolute; margin-left:-300px; margin-top:-200px; width:600px; height:400px; backface-visibility: hidden; -webkit-backface-visibility: hidden; transform-origin:50% 50%; -webkit-transform-origin:50% 50%; transition: outline 0.5s ease-in-out 0s; cursor: pointer; } .button { position: absolute; margin-left:-150px; margin-top:-100px; width:300px; height:200px; } .face:hover { outline: rgba(255,255,255,1) solid 10px !important; }","keywords":"Hexo 主题 Sakura 🌸"},{"title":"","date":"2020-04-23T13:12:32.988Z","updated":"2015-07-15T10:06:32.000Z","comments":true,"path":"theme-sakura/main.js","permalink":"/theme-sakura/main.js","excerpt":"","text":"! function () { \"use strict\"; // // ===== pointer library ===== // var screen = {}; (function() { this.elem = document.getElementById(\"screen\"), this.width = 0; this.height = 0; this.resize = function () { this.width = +this.elem.offsetWidth; this.height = +this.elem.offsetHeight; } this.elem.onselectstart = function() { return false; } this.elem.ondragstart = function() { return false; } window.addEventListener('resize', this.resize.bind(this), false); this.resize(); this.pointer = { x: 0, y: 0, dx: 0, dy: 0, touchMode: false, center: function (s) { this.dx *= s; this.dy *= s; endX = endY = 0; } } var started = false, startX = 0, startY = 0, endX = 0, endY = 0; this.addEvent = function (e, fn) { for (var i = 0, events = e.split(','); i < events.length; i++) { this.elem.addEventListener(events[i], fn.bind(this.pointer), false ); } } this.addEvent(\"mousemove,touchmove\", function (e) { e.preventDefault(); this.touchMode = e.targetTouches; var pointer = this.touchMode ? this.touchMode[0] : e; this.x = pointer.clientX; this.y = pointer.clientY; if (started) { this.dx = endX - (this.x - startX); this.dy = endY - (this.y - startY); } }); this.addEvent(\"mousedown,touchstart\", function (e) { e.preventDefault(); this.touchMode = e.targetTouches; var pointer = this.touchMode ? this.touchMode[0] : e; startX = this.x = pointer.clientX; startY = this.y = pointer.clientY; started = true; setTimeout(function () { if (!started && Math.abs(startX - this.x) < 11 && Math.abs(startY - this.y) < 11) { if (this.tap) this.tap(e); } }.bind(this), 200); }); this.addEvent(\"mouseup,touchend,touchcancel\", function (e) { e.preventDefault(); endX = this.dx; endY = this.dy; started = false; }); }).apply(screen); var pointer = screen.pointer; var transform = (typeof document.body.style.webkitTransform != \"undefined\") ? \"-webkit-transform\" : \"transform\"; // // ===== tweens engine ===== // var tweens = {}; (function() { var tweens = []; var proto = { normalPI: function () { if (Math.abs(this.target - this.value) > Math.PI) { if (this.target < this.value) this.value -= 2 * Math.PI; else this.value += 2 * Math.PI; } }, setTarget: function (target, speedMod) { this.speedMod = (speedMod) ? speedMod : 1; this.target = target; if (this.isAngle) { this.target = this.target % (2 * Math.PI); this.normalPI(); } if (this.running && this.oldTarget === target) return; this.oldTarget = target; this.running = true; this.prog = 0; this.from = this.value; this.dist = -(this.target - this.from) * 0.5; }, ease: function () { if (!this.running) return; var s = this.speedMod * this.steps; if (this.prog++ < s) { this.value = this.dist * (Math.cos(Math.PI * (this.prog / s)) - 1) + this.from; if (this.isAngle) this.normalPI(); } else { this.running = false; this.value = this.target; } } } this.add = function (steps, initValue, initValueTarget, isAngle) { var tween = Object.create(proto); tween.target = initValueTarget || 0; tween.value = initValue || 0; tween.steps = steps; tween.isAngle = isAngle || false; tween.speedMod = 1; tween.setTarget(tween.target); tweens.push(tween); return tween; } this.iterate = function () { for (var i = 0, len = tweens.length; i < len; i++) { tweens[i].ease(); } } }).apply(tweens); // // ===== css3D engine ===== // var cube = document.getElementById(\"cube\"); var faces = document.querySelectorAll(\".face\"); // ---- read computed matrix ---- var getComputedMatrix = function (elem) { var computedStyle = getComputedStyle(elem, null); var val = computedStyle.transform || computedStyle.webkitTransform; return val.split(/\\s*[(),]\\s*/).slice(1,-1); } // ---- initial transformation ---- for (var i = 0, len = faces.length; i < len; i++) { var face = faces[i]; face.style[transform] = face.getAttribute(\"data-transform\"); } // ---- target photo ---- pointer.tap = function (e) { if (e.target.className.indexOf(\"face\") >= 0) { var t = e.target.alt == \"\" ? e.target : document.getElementById(e.target.alt); camera.setTarget(t); } } // ---- set camera ----- var camera = { globalRX: 0, globalRY: 0, z: tweens.add(100, 0, 0), rx: tweens.add(100, 0, 0, true), ry: tweens.add(100, 0, 0, true), targeted: null, setTarget: function (elem) { // read transformation matrix var matrix = getComputedMatrix(elem); // determine target angles var rotateY = Math.asin(-matrix[2]); var rotateX = Math.atan2(+matrix[6], +matrix[10]); if (rotateY) rotateY -= Math.PI; if (rotateX) rotateX -= Math.PI; // set target if (this.targeted) { this.targeted.style.outline = \"rgba(0,0,0,1) solid 10px\"; } if (this.targeted != elem) { this.z.setTarget(600); if (elem.id == \"4\") { document.getElementById(\"7\").style.visibility = \"hidden\"; } if (elem.id == \"7\") { this.z.setTarget(-200); document.getElementById(\"7\").style.visibility = \"visible\"; } elem.style.outline = \"rgba(255,255,255,1) solid 10px\"; this.targeted = elem; } else { this.z.setTarget(0); if (elem.id == \"7\") { camera.setTarget(document.getElementById(\"1\")); return; } this.targeted = null; } // set target angles this.rx.setTarget(rotateX); this.ry.setTarget(rotateY); }, move: function () { tweens.iterate(); if (pointer.touchMode) { // interaction on touch mobiles var x = -pointer.dy * 0.001; var y = pointer.dx * 0.001; pointer.center(0.98); } else { // interaction with mouse var x = -(pointer.y - screen.height * 0.5) * 0.001; var y = +(pointer.x - screen.width * 0.5) * 0.001; } // ease global angles this.globalRX += ((x - this.globalRX) * 0.1); this.globalRY += ((y - this.globalRY) * 0.1); // cube transformation cube.style[transform] = \"translateZ(\"+ (this.z.value) + \"px) rotateX(\" + (this.rx.value + this.globalRX) + \"rad) rotateY(\" + (this.ry.value + this.globalRY) + \"rad)\"; } } // main loop var run = function () { requestAnimationFrame(run); camera.move(); } run(); }();"},{"title":"","date":"2020-04-23T13:12:32.989Z","updated":"2013-07-08T14:10:00.000Z","comments":true,"path":"theme-sakura/normalize.css","permalink":"/theme-sakura/normalize.css","excerpt":"","text":"article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block;}audio,canvas,video{display:inline-block;}audio:not([controls]){display:none;height:0;}[hidden]{display:none;}html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;}body{margin:0;}a:focus{outline:thin dotted;}a:active,a:hover{outline:0;}h1{font-size:2em;margin:0.67em 0;}abbr[title]{border-bottom:1px dotted;}b,strong{font-weight:bold;}dfn{font-style:italic;}hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0;}mark{background:#ff0;color:#000;}code,kbd,pre,samp{font-family:monospace,serif;font-size:1em;}pre{white-space:pre-wrap;}q{quotes:\"\\201C\" \"\\201D\" \"\\2018\" \"\\2019\";}small{font-size:80%;}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;}sup{top:-0.5em;}sub{bottom:-0.25em;}img{border:0;}svg:not(:root){overflow:hidden;}figure{margin:0;}fieldset{border:1px solid #c0c0c0;margin:0 2px;padding:0.35em 0.625em 0.75em;}legend{border:0;padding:0;}button,input,select,textarea{font-family:inherit;font-size:100%;margin:0;}button,input{line-height:normal;}button,select{text-transform:none;}button,html input[type=\"button\"],input[type=\"reset\"],input[type=\"submit\"]{-webkit-appearance:button;cursor:pointer;}button[disabled],html input[disabled]{cursor:default;}input[type=\"checkbox\"],input[type=\"radio\"]{box-sizing:border-box;padding:0;}input[type=\"search\"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box;}input[type=\"search\"]::-webkit-search-cancel-button,input[type=\"search\"]::-webkit-search-decoration{-webkit-appearance:none;}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0;}textarea{overflow:auto;vertical-align:top;}table{border-collapse:collapse;border-spacing:0;}"},{"title":"video","date":"2018-12-20T15:14:38.000Z","updated":"2019-05-31T23:21:46.000Z","comments":false,"path":"video/index.html","permalink":"/video/index.html","excerpt":"","text":"var videos = [ { img: 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: '朝花夕誓——于离别之朝束起约定之花', status: '已追完', progress: 100, jp: 'さよならの朝に約束の花をかざろう', time: '放送时间: 2018-02-24 SUN.', desc: ' 住在远离尘嚣的土地，一边将每天的事情编织成名为希比欧的布，一边静静生活的伊欧夫人民。在15岁左右外表就停止成长，拥有数百年寿命的他们，被称为“离别的一族”，并被视为活着的传说。没有双亲的伊欧夫少女玛奇亚，过着被伙伴包围的平稳日子，却总感觉“孤身一人”。他们的这种日常，一瞬间就崩溃消失。追求伊欧夫的长寿之血，梅萨蒂军乘坐着名为雷纳特的古代兽发动了进攻。在绝望与混乱之中，伊欧夫的第一美女蕾莉亚被梅萨蒂带走，而玛奇亚暗恋的少年克里姆也失踪了。玛奇亚虽然总算逃脱了，却失去了伙伴和归去之地……。' }, { img : 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: '朝花夕誓——于离别之朝束起约定之花', status: '已追完', progress: 100, jp: 'さよならの朝に約束の花をかざろう', time: '2018-02-24 SUN.', desc: ' 住在远离尘嚣的土地，一边将每天的事情编织成名为希比欧的布，一边静静生活的伊欧夫人民。在15岁左右外表就停止成长，拥有数百年寿命的他们，被称为“离别的一族”，并被视为活着的传说。没有双亲的伊欧夫少女玛奇亚，过着被伙伴包围的平稳日子，却总感觉“孤身一人”。他们的这种日常，一瞬间就崩溃消失。追求伊欧夫的长寿之血，梅萨蒂军乘坐着名为雷纳特的古代兽发动了进攻。在绝望与混乱之中，伊欧夫的第一美女蕾莉亚被梅萨蒂带走，而玛奇亚暗恋的少年克里姆也失踪了。玛奇亚虽然总算逃脱了，却失去了伙伴和归去之地……。' } ] .should-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:95%;}.should-ellipsis-full{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;}.should-ellipsis i{position:absolute;right:24px;}.grey-text{color:#9e9e9e !important}.grey-text.text-darken-4{color:#212121 !important}html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}img{border-style:none}progress{display:inline-block;vertical-align:baseline}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{-webkit-box-sizing:border-box;box-sizing:border-box}*,*:before,*:after{-webkit-box-sizing:inherit;box-sizing:inherit}ul:not(.browser-default){padding-left:0;list-style-type:none}ul:not(.browser-default)>li{list-style-type:none}.card{-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2);box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2)}.hoverable{-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s}.hoverable:hover{-webkit-box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)}i{line-height:inherit}i.right{float:right;margin-left:15px}.bangumi .right{float:right !important}.material-icons{text-rendering:optimizeLegibility;-webkit-font-feature-settings:'liga';-moz-font-feature-settings:'liga';font-feature-settings:'liga'}.row{margin-left:auto;margin-right:auto;margin-bottom:20px}.row:after{content:\"\";display:table;clear:both}.row .col{float:left;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 .75rem;min-height:1px}.row .col.s12{width:100%;margin-left:auto;left:auto;right:auto}@media only screen and (min-width:601px){.row .col.m6{width:50%;margin-left:auto;left:auto;right:auto}}html{line-height:1.5;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif;font-weight:normal;color:rgba(0,0,0,0.87)}@media only screen and (min-width:0){html{font-size:14px}}@media only screen and (min-width:992px){html{font-size:14.5px}}@media only screen and (min-width:1200px){html{font-size:15px}}.card{position:relative;margin:.5rem 0 1rem 0;background-color:#fff;-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s;border-radius:2px}.card .card-title{font-size:24px;font-weight:300}.card .card-title.activator{cursor:pointer}.card .card-image{position:relative}.card .card-image img{display:block;border-radius:2px 2px 0 0;position:relative;left:0;right:0;top:0;bottom:0;width:100%}.card .card-content{padding:24px;border-radius:0 0 2px 2px}.card .card-content p{margin:0}.card .card-content .card-title{display:block;line-height:32px;margin-bottom:8px}.card .card-content .card-title i{line-height:32px}.card .card-reveal{padding:24px;position:absolute;background-color:#fff;width:100%;overflow-y:auto;left:0;top:100%;height:100%;z-index:3;display:none}.card .card-reveal .card-title{cursor:pointer;display:block}.waves-effect{position:relative;cursor:pointer;display:inline-block;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;vertical-align:middle;z-index:1;-webkit-transition:.3s ease-out;transition:.3s ease-out}.waves-effect img{position:relative;z-index:-1}.waves-block{display:block}::-webkit-input-placeholder{color:#d1d1d1}::-moz-placeholder{color:#d1d1d1}:-ms-input-placeholder{color:#d1d1d1}::-ms-input-placeholder{color:#d1d1d1}[type=\"radio\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"radio\"]:not(:checked)+span{position:relative;padding-left:35px;cursor:pointer;display:inline-block;height:25px;line-height:25px;font-size:1rem;-webkit-transition:.28s ease;transition:.28s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border-radius:50%}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border:2px solid #5a5a5a}[type=\"radio\"]:not(:checked)+span:after{-webkit-transform:scale(0);transform:scale(0)}[type=\"checkbox\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"checkbox\"]:not(:checked):disabled+span:not(.lever):before{border:none;background-color:rgba(0,0,0,0.42)}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):before{width:0;height:0;border:3px solid transparent;left:6px;top:10px;-webkit-transform:rotateZ(37deg);transform:rotateZ(37deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):after{height:20px;width:20px;background-color:transparent;border:2px solid #5a5a5a;top:0px;z-index:0}input[type=checkbox]:not(:disabled) ~ .lever:active:before,input[type=checkbox]:not(:disabled).tabbed:focus ~ .lever::before{-webkit-transform:scale(2.4);transform:scale(2.4);background-color:rgba(0,0,0,0.08)}input[type=range].focused:focus:not(.active)::-webkit-slider-thumb{-webkit-box-shadow:0 0 0 10px rgba(38,166,154,0.26);box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-moz-range-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-ms-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)} 番组计划 这里将是永远的回忆 window.onload = function(){ videos.forEach(function(video, i){ $('#rootRow').append(` ${video.title} ${video.jp} ${video.status} ${video.title} ${video.jp} 放送时间: ${video.time} ${video.desc} ${video.status} `) }) }","keywords":"B站"},{"title":"美食收录","date":"2019-07-01T03:12:46.000Z","updated":"2019-07-01T03:31:42.000Z","comments":false,"path":"美食收录/index.html","permalink":"/美食收录/index.html","excerpt":"","text":"柠檬酸辣凤爪","keywords":"美食收录-日食记"}],"posts":[{"title":"db2安装","slug":"db2","date":"2020-04-25T08:53:47.000Z","updated":"2020-04-25T14:13:51.512Z","comments":true,"path":"2020/04/25/db2/","link":"","permalink":"/2020/04/25/db2/","excerpt":"","text":"一.安装准备 系统版本：CentOS7 安装包：v9.7fp11_linuxx64_server.tar.gz 设置语言：export LANG=zh_CN.gbk &amp; vim /etc/locale.conf 永久改变 #LANG=&quot;en_US.UTF-8&quot; LANG=&quot;zh_CN.UTF-8&quot; 二.开始安装 解压包： [root@slave-01 tmp]# tar zxfv v9.7fp11_linuxx64_server.tar.gz [root@slave-01 tmp]# ll 总用量 780640 drwxr-xr-x. 4 root root 161 9月 25 2015 server -rw-r--r--. 1 root root 799372868 4月 26 01:02 v9.7fp11_linuxx64_server.tar.gz [root@slave-01 tmp]# cd server/ [root@slave-01 server]# ll 总用量 56 drwxr-xr-x. 6 bin bin 182 9月 25 2015 db2 -r-xr-xr-x. 1 bin bin 5340 9月 25 2015 db2ckupgrade -r-xr-xr-x. 1 bin bin 5293 9月 25 2015 db2_deinstall -r-xr-xr-x. 1 bin bin 5163 9月 25 2015 db2_install -r-xr-xr-x. 1 bin bin 5127 9月 25 2015 db2ls -r-xr-xr-x. 1 bin bin 5145 9月 25 2015 db2prereqcheck -r-xr-xr-x. 1 bin bin 5145 9月 25 2015 db2setup drwxr-xr-x. 15 bin bin 175 9月 25 2015 doc -r-xr-xr-x. 1 bin bin 5181 9月 25 2015 installFixPack 检查环境是否支持正常安装 [root@slave-01 server]# ./db2prereqcheck WARNING: DBT3534W The db2prereqcheck utility determined that ASLR is set to ON and that this could cause issues with some tools. WARNING: The 32-bit library file libpam.so is not found on the system. 注：第一个告警解决 设置内核信息 [root@slave-01 server]# echo &quot;kernel.randomize_va_space=0&quot; &gt;&gt;/etc/sysctl.conf [root@slave-01 server]# sysctl -p kernel.randomize_va_space = 0 注：32-bit WARNING可以忽略 再次执行./db2prereqcheck [root@slave-01 server]# ./db2prereqcheck WARNING: The 32-bit library file libpam.so is not found on the system. 安装 [root@slave-01 server]# ./db2_install WARNING: The 32-bit library file libpam.so is not found on the system. 用于安装产品的缺省目录 － /opt/ibm/db2/V9.7 (默认安装目录) *********************************************************** 要选择另一个目录用于安装吗？[是/否] 否 指定下列其中一个关键字以安装 DB2 产品。 AESE 高级企业服务器版 ESE 企业服务器版 CONSV 连接服务器版 WSE 工作组服务器版 EXP 易携版 PE 个人版 CLIENT 数据库服务器客户机 RTCL 数据库服务器运行时客户机 按“帮助”以重新显示产品名称。 按“退出”以退出。 *********************************************************** ESE （这里选择安装企业服务器版ESE） WARNING: The 32-bit library file libpam.so is not found on the system. 正在初始化 DB2 安装。 要执行的任务总数为：48 要执行的所有任务的总估计时间为：2018 任务 #1 启动 描述：正在检查许可协议的接受情况 估计时间 1 秒 任务 #1 结束 任务 #2 启动 描述：具备 root 用户特权的情况下进行安装时的基本客户机支持 估计时间 3 秒 任务 #2 结束 任务 #3 启动 描述：DB2 必需的组件。 估计时间 10 秒 任务 #3 结束 任务 #4 启动 描述：产品消息 － 英语 估计时间 13 秒 任务 #4 结束 任务 #5 启动 描述：基本客户机支持 估计时间 205 秒 任务 #5 结束 任务 #6 启动 描述：Java 运行时支持 估计时间 126 秒 任务 #6 结束 任务 #7 启动 描述：Java 帮助（HTML）－ 英语 估计时间 7 秒 任务 #7 结束 任务 #8 启动 描述：具备 root 用户特权的情况下进行安装时的基本服务器支持 估计时间 7 秒 任务 #8 结束 任务 #9 启动 描述：全局安全工具箱 估计时间 56 秒 任务 #9 结束 任务 #10 启动 描述：Java 支持 估计时间 12 秒 任务 #10 结束 任务 #11 启动 描述：SQL 过程 估计时间 3 秒 任务 #11 结束 任务 #12 启动 描述：ICU 实用程序 估计时间 40 秒 任务 #12 结束 任务 #13 启动 描述：Java 公共文件 估计时间 20 秒 任务 #13 结束 任务 #14 启动 描述：基本服务器支持 估计时间 262 秒 任务 #14 结束 任务 #15 启动 描述：IBM Java? 软件开发包（SDK） 估计时间 44 秒 任务 #15 结束 任务 #16 启动 描述：控制中心帮助（HTML）－ 英语 估计时间 13 秒 任务 #16 结束 任务 #17 启动 描述：连接支持 估计时间 3 秒 任务 #17 结束 任务 #18 启动 描述：通信支持 － TCP/IP 估计时间 3 秒 任务 #18 结束 任务 #19 启动 描述：并行扩展 估计时间 3 秒 任务 #19 结束 任务 #20 启动 描述：EnterpriseDB 代码 估计时间 3 秒 任务 #20 结束 任务 #21 启动 描述：复制工具 估计时间 21 秒 任务 #21 结束 任务 #22 启动 描述：公共关系型包装器 估计时间 3 秒 任务 #22 结束 任务 #23 启动 描述：控制中心 估计时间 41 秒 任务 #23 结束 任务 #24 启动 描述：命令行处理器加强版 估计时间 6 秒 任务 #24 结束 任务 #25 启动 描述：DB2 数据源支持 估计时间 6 秒 任务 #25 结束 任务 #26 启动 描述：DB2 LDAP 支持 估计时间 4 秒 任务 #26 结束 任务 #27 启动 描述：“DB2 实例安装”向导 估计时间 8 秒 任务 #27 结束 任务 #28 启动 描述：集成动漫复制支持 估计时间 53 秒 任务 #28 结束 任务 #29 启动 描述：Spatial Extender 客户机 估计时间 3 秒 任务 #29 结束 任务 #30 启动 描述：基本应用程序开发工具 估计时间 34 秒 任务 #30 结束 任务 #31 启动 描述：DB2 更新服务 估计时间 4 秒 任务 #31 结束 任务 #32 启动 描述：第一步 估计时间 3 秒 任务 #32 结束 任务 #33 启动 描述：DB2 企业服务器版的产品特征符 估计时间 5 秒 任务 #33 结束 任务 #34 启动 描述：样本数据库源 估计时间 4 秒 任务 #34 结束 任务 #35 启动 描述：DB2 文本搜索 估计时间 70 秒 任务 #35 结束 任务 #36 启动 描述：Informix 数据源支持 估计时间 4 秒 任务 #36 结束 任务 #37 启动 描述：正在设置 DB2 库路径 估计时间 180 秒 任务 #37 结束 任务 #38 启动 描述：正在安装或更新 SA MP 估计时间 40 秒 任务 #38 结束 任务 #39 启动 描述：正在执行控制任务 估计时间 20 秒 任务 #39 结束 任务 #40 启动 描述：正在更新全局注册表 估计时间 20 秒 任务 #40 结束 任务 #41 启动 描述：正在安装 IBM Tivoli Monitoring for Databases 估计时间 600 秒 任务 #41 结束 任务 #42 启动 描述：正在启动 DB2 故障监视器 估计时间 10 秒 任务 #42 结束 任务 #43 启动 描述：正在更新 db2ls 链接 估计时间 1 秒 任务 #43 结束 任务 #44 启动 描述：正在注册 DB2 许可证 估计时间 5 秒 任务 #44 结束 任务 #45 启动 描述：正在设置缺省全局概要文件注册表变量 估计时间 1 秒 任务 #45 结束 任务 #46 启动 描述：正在初始化实例列表 估计时间 5 秒 任务 #46 结束 任务 #47 启动 描述：正在注册 DB2 更新服务 估计时间 30 秒 任务 #47 结束 任务 #48 启动 描述：正在更新全局概要文件注册表 估计时间 3 秒 任务 #48 结束 在此计算机上安装 &quot;DB2 Enterprise Server Edition &quot; 时发生了较小的错误。某些功能部件可能无法正常工作。 有关更多信息，请参阅 &quot;/tmp/db2_install.log.1552&quot; 上的 DB2 安装日志。 添加用户组和用户 [root@slave-01 server]# groupadd -g 801 db2das [root@slave-01 server]# groupadd -g 802 db2fenc1 [root@slave-01 server]# groupadd -g 803 db2inst1 [root@slave-01 server]# useradd -g 801 -d /home/db2das db2das [root@slave-01 server]# useradd -g 802 -d /home/db2fenc1 db2fenc1 [root@slave-01 server]# useradd -g 803 -d /home/db2inst1 db2inst1 [root@slave-01 server]# ls /home/ db2das db2fenc1 db2inst1 进入安装目录_安装实例 (即Instance) [root@slave-01 instance]# pwd /opt/ibm/db2/V9.7/instance [root@slave-01 instance]# ll 总用量 1128 drwxr-xr-x. 4 bin bin 84 9月 25 2015 common -r-xr-xr-x. 1 bin bin 4945 9月 25 2015 dascrt -r-xr-xr-x. 1 bin bin 3938 9月 25 2015 dasdrop -r-xr-xr-x. 1 bin bin 5795 9月 25 2015 daslist -r-xr-xr-x. 1 bin bin 3915 9月 25 2015 dasmigr -r-xr-xr-x. 1 bin bin 4095 9月 25 2015 dasupdt -r-xr-xr-x. 1 bin bin 24678 9月 25 2015 dasutil -r-xr-xr-x. 1 root root 34480 4月 26 02:20 db2chkf lrwxrwxrwx. 1 root root 19 9月 25 2015 db2ckmig -&gt; ../bin/db2ckupgrade lrwxrwxrwx. 1 root root 19 9月 25 2015 db2ckupgrade -&gt; ../bin/db2ckupgrade -r-xr-xr-x. 1 root root 34135 4月 26 02:20 db2clpid -rwxr-xr-x. 1 bin bin 1918 9月 25 2015 db2dbmchk lrwxrwxrwx. 1 root root 15 9月 25 2015 db2iauto -&gt; ../bin/db2iauto -r-xr-xr-x. 1 root root 34170 4月 26 02:20 db2icknm -r-xr-xr-x. 1 root root 8812 9月 25 2015 db2ickts -r-xr--r--. 1 root root 8804 9月 25 2015 db2icrt -r-xr-xr-x. 1 root root 10107 9月 25 2015 db2idbm -r--r--r--. 1 root root 34619 9月 25 2015 db2idefs -r-xr--r--. 1 root root 4599 9月 25 2015 db2idrop -r-xr--r--. 1 root root 3193 9月 25 2015 db2iexec -r-xr-xr-x. 1 root root 4794 9月 25 2015 db2iinfo lrwxrwxrwx. 1 root root 15 9月 25 2015 db2ilist -&gt; ../bin/db2ilist -r-xr-xr-x. 1 root root 3732 9月 25 2015 db2imchk lrwxrwxrwx. 1 root root 11 9月 25 2015 db2imigr -&gt; db2iupgrade -r-xr--r--. 1 root root 38896 4月 26 02:20 db2instcfg -r-xr--r--. 1 root root 34367 4月 26 02:20 db2ipcld -r-xr--r--. 1 root root 303406 4月 26 02:20 db2iset -r-xr-xr-x. 1 bin bin 10638 9月 25 2015 db2isetup -r-xr-xr-x. 1 root root 65265 4月 26 02:20 db2isrv -r-xr-xr-x. 1 root root 17208 9月 25 2015 db2istop -r-xr--r--. 1 root root 3453 9月 25 2015 db2istrt -r-xr-xr-x. 1 root root 25808 9月 25 2015 db2iuadm -r-xr--r--. 1 root root 7476 9月 25 2015 db2iupdt -r-xr--r--. 1 root root 57021 9月 25 2015 db2iupgrade -r--r--r--. 1 root root 222867 9月 25 2015 db2iutil -r--r--r--. 1 root root 658 9月 25 2015 db2iver -rwxr-xr-x. 1 bin bin 8323 9月 25 2015 db2prechk -r-xr--r--. 1 root root 6436 9月 25 2015 db2uit -r-xr-xr-x. 1 root root 52063 4月 26 02:20 disp_msg drwxr-xr-x. 3 bin bin 21 9月 25 2015 native 安装实例 创建DAS可以使远程DB2客户机以图形界面的方式连接到数据库服务器 [root@slave-01 instance]# ./dascrt -u db2das SQL4406W The DB2 Administration Server was started successfully. DBI1070I Program dascrt completed successfully. 使用db2icrt创建实例 [root@slave-01 instance]# ./db2icrt -u db2inst1 db2inst1 DBI1070I Program db2icrt completed successfully. 连接DB2 (1)切换db2inst1用户 [root@slave-01 instance]# su - db2inst1 上一次登录：日 4月 26 04:40:47 CST 2020pts/0 上 (2)设置服务器的通信方协议为TCPIP [db2inst1@slave-01 ~]$ db2set DB2COMM=TCPIP (3)设置实例的通信服务(对于到操作系统的端口) [db2inst1@slave-01 ~]$ db2 update dbm cfg using SVCENAME 50000 DB20000I The UPDATE DATABASE MANAGER CONFIGURATION command completed successfully. (4)进入db2命令界面 [db2inst1@slave-01 ~]$ db2 为库文件存放路径授予权限，创建数据库并把库文件存放在指定路径下，该路径需要授权，给用户授予dba权限 [db2inst1@slave-01 ~]$ exit 登出 [root@slave-01 instance]# mkdir /opt/data -p [root@slave-01 instance]# chmod -R 777 /opt/data [root@slave-01 instance]# su - db2inst1 上一次登录：日 4月 26 04:49:35 CST 2020pts/0 上 [db2inst1@slave-01 ~]$ db2start 04/26/2020 04:53:00 0 0 SQL1063N DB2START processing was successful. SQL1063N DB2START processing was successful. [db2inst1@slave-01 ~]$ db2 create database dbname on /opt/data DB20000I The CREATE DATABASE command completed successfully. [db2inst1@slave-01 ~]$ db2 grant dbadm on database to user nio DB20000I The SQL command completed successfully. [db2inst1@slave-01 ~]$ passwd db2inst1 设置密码 数据库备份_注意点 (1)不同的操作系统不兼容需要处理 (2)指定路径为db2用户下的目录 ​ 此为linux下脱机备份 - 需要断开所有连接，并且数据库是开启状态 列：db2 backup database dyname(数据库名）to 路径 compress(压缩) (3)若为root目录下路径，需要有访问权限 [root@slave-01 instance]# chmod -R 775 /root [root@slave-01 instance]# chmod -R 775 /home/db2inst1 数据库备份恢复_注意点 (1)不能修改备份文件名 (2)数据库系统用户需要有读写备份文件所在目录的权限 (3)使用如下格式的命令进行备份恢复 列：db2 restore db 数据库名 incremental automatic form “备份文件所在路径(不加文件名称)” taken at 备份时间戳(备份文件名中有) 列：db2 restore db bi incremental automatic form “/home/db2inst1” taken at 202004231620(时间戳) 连接恢复后的数据库_注音点 db2的数据库需要在操作系统设置一个同名的用户 useradd &amp; passwd 全新数据库设置缓冲池_调优 防止事物日志已满错误，更改日志大小和数量 (1)查看db2配置信息 [db2inst1@slave-01 ~]$ db2 &quot;get db cfg for dbname&quot; Database Configuration for Database dbname Database configuration release level = 0x0d00 Database release level = 0x0d00 Database territory = CN Database code page = 1208 Database code set = UTF-8 Database country/region code = 86 Database collating sequence = IDENTITY Alternate collating sequence (ALT_COLLATE) = Number compatibility = OFF Varchar2 compatibility = OFF Date compatibility = OFF Database page size = 4096 Dynamic SQL Query management (DYN_QUERY_MGMT) = DISABLE Statement concentrator (STMT_CONC) = OFF Discovery support for this database (DISCOVER_DB) = ENABLE Restrict access = NO Default query optimization class (DFT_QUERYOPT) = 5 Degree of parallelism (DFT_DEGREE) = 1 Continue upon arithmetic exceptions (DFT_SQLMATHWARN) = NO Default refresh age (DFT_REFRESH_AGE) = 0 Default maintained table types for opt (DFT_MTTB_TYPES) = SYSTEM Number of frequent values retained (NUM_FREQVALUES) = 10 Number of quantiles retained (NUM_QUANTILES) = 20 Decimal floating point rounding mode (DECFLT_ROUNDING) = ROUND_HALF_EVEN Backup pending = NO All committed transactions have been written to disk = YES Rollforward pending = NO Restore pending = NO Multi-page file allocation enabled = YES Log retain for recovery status = NO User exit for logging status = NO Self tuning memory (SELF_TUNING_MEM) = ON Size of database shared memory (4KB) (DATABASE_MEMORY) = AUTOMATIC(37140) Database memory threshold (DB_MEM_THRESH) = 10 Max storage for lock list (4KB) (LOCKLIST) = AUTOMATIC(6200) Percent. of lock lists per application (MAXLOCKS) = AUTOMATIC(60) Package cache size (4KB) (PCKCACHESZ) = AUTOMATIC(1533) Sort heap thres for shared sorts (4KB) (SHEAPTHRES_SHR) = AUTOMATIC(5016) Sort list heap (4KB) (SORTHEAP) = AUTOMATIC(256) Database heap (4KB) (DBHEAP) = AUTOMATIC(2301) Catalog cache size (4KB) (CATALOGCACHE_SZ) = 300 Log buffer size (4KB) (LOGBUFSZ) = 256 Utilities heap size (4KB) (UTIL_HEAP_SZ) = 5000 Buffer pool size (pages) (BUFFPAGE) = 1000 SQL statement heap (4KB) (STMTHEAP) = AUTOMATIC(8192) Default application heap (4KB) (APPLHEAPSZ) = AUTOMATIC(256) Application Memory Size (4KB) (APPL_MEMORY) = AUTOMATIC(40000) Statistics heap size (4KB) (STAT_HEAP_SZ) = AUTOMATIC(4384) Interval for checking deadlock (ms) (DLCHKTIME) = 10000 Lock timeout (sec) (LOCKTIMEOUT) = -1 Changed pages threshold (CHNGPGS_THRESH) = 80 Number of asynchronous page cleaners (NUM_IOCLEANERS) = AUTOMATIC(1) Number of I/O servers (NUM_IOSERVERS) = AUTOMATIC(3) Index sort flag (INDEXSORT) = YES Sequential detect flag (SEQDETECT) = YES Default prefetch size (pages) (DFT_PREFETCH_SZ) = AUTOMATIC Track modified pages (TRACKMOD) = NO Default number of containers = 1 Default tablespace extentsize (pages) (DFT_EXTENT_SZ) = 32 Max number of active applications (MAXAPPLS) = AUTOMATIC(40) Average number of active applications (AVG_APPLS) = AUTOMATIC(1) Max DB files open per application (MAXFILOP) = 61440 Log file size (4KB) (LOGFILSIZ) = 1024 --日志文件大小 Number of primary log files (LOGPRIMARY) = 13 --主日志文件个数 Number of secondary log files (LOGSECOND) = 4 --辅日志文件个数 Changed path to log files (NEWLOGPATH) = Path to log files = /opt/data/db2inst1/NODE0000/SQL00001/SQLOGDIR/ Overflow log path (OVERFLOWLOGPATH) = Mirror log path (MIRRORLOGPATH) = First active log file = Block log on disk full (BLK_LOG_DSK_FUL) = NO Block non logged operations (BLOCKNONLOGGED) = NO Percent max primary log space by transaction (MAX_LOG) = 0 Num. of active log files for 1 active UOW(NUM_LOG_SPAN) = 0 Group commit count (MINCOMMIT) = 1 Percent log file reclaimed before soft chckpt (SOFTMAX) = 520 Log retain for recovery enabled (LOGRETAIN) = OFF User exit for logging enabled (USEREXIT) = OFF HADR database role = STANDARD HADR local host name (HADR_LOCAL_HOST) = HADR local service name (HADR_LOCAL_SVC) = HADR remote host name (HADR_REMOTE_HOST) = HADR remote service name (HADR_REMOTE_SVC) = HADR instance name of remote server (HADR_REMOTE_INST) = HADR timeout value (HADR_TIMEOUT) = 120 HADR log write synchronization mode (HADR_SYNCMODE) = NEARSYNC HADR peer window duration (seconds) (HADR_PEER_WINDOW) = 0 First log archive method (LOGARCHMETH1) = OFF Options for logarchmeth1 (LOGARCHOPT1) = Second log archive method (LOGARCHMETH2) = OFF Options for logarchmeth2 (LOGARCHOPT2) = Failover log archive path (FAILARCHPATH) = Number of log archive retries on error (NUMARCHRETRY) = 5 Log archive retry Delay (secs) (ARCHRETRYDELAY) = 20 Vendor options (VENDOROPT) = Auto restart enabled (AUTORESTART) = ON Index re-creation time and redo index build (INDEXREC) = SYSTEM (RESTART) Log pages during index build (LOGINDEXBUILD) = OFF Default number of loadrec sessions (DFT_LOADREC_SES) = 1 Number of database backups to retain (NUM_DB_BACKUPS) = 12 Recovery history retention (days) (REC_HIS_RETENTN) = 366 Auto deletion of recovery objects (AUTO_DEL_REC_OBJ) = OFF TSM management class (TSM_MGMTCLASS) = TSM node name (TSM_NODENAME) = TSM owner (TSM_OWNER) = TSM password (TSM_PASSWORD) = Automatic maintenance (AUTO_MAINT) = ON Automatic database backup (AUTO_DB_BACKUP) = OFF Automatic table maintenance (AUTO_TBL_MAINT) = ON Automatic runstats (AUTO_RUNSTATS) = ON Automatic statement statistics (AUTO_STMT_STATS) = ON Automatic statistics profiling (AUTO_STATS_PROF) = OFF Automatic profile updates (AUTO_PROF_UPD) = OFF Automatic reorganization (AUTO_REORG) = OFF Auto-Revalidation (AUTO_REVAL) = DEFERRED Currently Committed (CUR_COMMIT) = ON CHAR output with DECIMAL input (DEC_TO_CHAR_FMT) = NEW Enable XML Character operations (ENABLE_XMLCHAR) = YES WLM Collection Interval (minutes) (WLM_COLLECT_INT) = 0 Monitor Collect Settings Request metrics (MON_REQ_METRICS) = BASE Activity metrics (MON_ACT_METRICS) = BASE Object metrics (MON_OBJ_METRICS) = BASE Unit of work events (MON_UOW_DATA) = NONE Lock timeout events (MON_LOCKTIMEOUT) = NONE Deadlock events (MON_DEADLOCK) = WITHOUT_HIST Lock wait events (MON_LOCKWAIT) = NONE Lock wait event threshold (MON_LW_THRESH) = 5000000 Number of package list entries (MON_PKGLIST_SZ) = 32 Lock event notification level (MON_LCK_MSG_LVL) = 1 SMTP Server (SMTP_SERVER) = SQL conditional compilation flags (SQL_CCFLAGS) = Section actuals setting (SECTION_ACTUALS) = NONE Connect procedure (CONNECT_PROC) = (2)修改日志命令 [db2inst1@slave-01 ~]$ db2 connect to dbname [db2inst1@slave-01 ~]$ db2 update db cfg using LOGSECOND 200 DB20000I The UPDATE DATABASE CONFIGURATION command completed successfully. [db2inst1@slave-01 ~]$ db2 update db cfg using LOGPRIMARY 40 DB20000I The UPDATE DATABASE CONFIGURATION command completed successfully. SQL1363W One or more of the parameters submitted for immediate modification were not changed dynamically. For these configuration parameters, the database must be shutdown and reactivated before the configuration parameter changes become effective. [db2inst1@slave-01 ~]$ db2 UPDATE DB CFG USING LOGFILSIZ 122800 DB20000I The UPDATE DATABASE CONFIGURATION command completed successfully. SQL1363W One or more of the parameters submitted for immediate modification were not changed dynamically. For these configuration parameters, the database must be shutdown and reactivated before the configuration parameter changes become effective. 修改完成后查看 [db2inst1@slave-01 ~]$ db2 get db cfg for dbname|grep LOG Catalog cache size (4KB) (CATALOGCACHE_SZ) = 300 Log buffer size (4KB) (LOGBUFSZ) = 256 Log file size (4KB) (LOGFILSIZ) = 122800 Number of primary log files (LOGPRIMARY) = 40 Number of secondary log files (LOGSECOND) = 200 Changed path to log files (NEWLOGPATH) = Path to log files = /opt/data/db2inst1/NODE0000/SQL00001/SQLOGDIR/ Overflow log path (OVERFLOWLOGPATH) = Mirror log path (MIRRORLOGPATH) = Block log on disk full (BLK_LOG_DSK_FUL) = NO Block non logged operations (BLOCKNONLOGGED) = NO Percent max primary log space by transaction (MAX_LOG) = 0 Num. of active log files for 1 active UOW(NUM_LOG_SPAN) = 0 Log retain for recovery enabled (LOGRETAIN) = OFF First log archive method (LOGARCHMETH1) = OFF Options for logarchmeth1 (LOGARCHOPT1) = Second log archive method (LOGARCHMETH2) = OFF Options for logarchmeth2 (LOGARCHOPT2) = Log pages during index build (LOGINDEXBUILD) = OFF (3)修改日志重启数据库 [db2inst1@slave-01 ~]$ db2stop force 2020-04-26 05:53:38 0 0 SQL1064N DB2STOP processing was successful. SQL1064N DB2STOP processing was successful. [db2inst1@slave-01 ~]$ db2start 04/26/2020 05:53:59 0 0 SQL1063N DB2START processing was successful. SQL1063N DB2START processing was successful.","categories":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}],"tags":[{"name":"web","slug":"web","permalink":"/tags/web/"},{"name":"悦读","slug":"悦读","permalink":"/tags/悦读/"}],"keywords":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}]},{"title":"expect","slug":"expect","date":"2020-04-23T13:31:07.000Z","updated":"2020-04-23T14:21:13.926Z","comments":true,"path":"2020/04/23/expect/","link":"","permalink":"/2020/04/23/expect/","excerpt":"","text":"#!/usr/bin/expect PATH=&quot;/usr/local/sbin:/usr/sbin:/sbin:/usr/local/bin:/usr/bin:/bin&quot; if {$argv !=2} { send_user &quot;usage：./expect ssh_ip password\\n&quot; puts stderr &quot;argv error!\\n&quot; sleep 1 exit } expect &lt;&lt;EOF set timeout -1 set user [lindex $argv 0 ] set ip [lindex $argv 1 ] set passwd [lindex $argv 2 ] pawn ssh $user@$ip expect { &quot;yes/no&quot; { send &quot;yes\\r&quot;; exp_continue; } &quot;passwd:&quot; { send &quot;$passwd\\r&quot;; exp_continus; } } expect &quot;]#&quot; { send &quot;useradd hui\\n&quot; } expect &quot;]#&quot; { send &quot;echo pan|passwd --stdin hui\\n&quot; } EOF exit","categories":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}],"tags":[{"name":"web","slug":"web","permalink":"/tags/web/"},{"name":"悦读","slug":"悦读","permalink":"/tags/悦读/"}],"keywords":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}]},{"title":"冰雪奇缘2","slug":"冰雪奇缘2","date":"2019-12-08T09:19:44.000Z","updated":"2019-12-08T14:10:02.000Z","comments":true,"path":"2019/12/08/冰雪奇缘2/","link":"","permalink":"/2019/12/08/冰雪奇缘2/","excerpt":"","text":"前几天跟朋友去看新上映的《冰雪奇缘2》，它延续了上一部的故事，魔法少女归隐守护森林，让其妹妹担任女王。","categories":[{"name":"电影","slug":"电影","permalink":"/categories/电影/"}],"tags":[{"name":"web","slug":"web","permalink":"/tags/web/"},{"name":"悦读","slug":"悦读","permalink":"/tags/悦读/"}],"keywords":[{"name":"电影","slug":"电影","permalink":"/categories/电影/"}]},{"title":"linux进程管理命令","slug":"linux进程管理命令-1","date":"2019-10-31T07:04:25.000Z","updated":"2019-10-31T07:04:51.000Z","comments":true,"path":"2019/10/31/linux进程管理命令-1/","link":"","permalink":"/2019/10/31/linux进程管理命令-1/","excerpt":"","text":"pstree命令：CentOS6：父进程initdCentOS7：父进程systemdsystemd─┬─accounts-daemon─┬─{gdbus} │ └─{gmain} ├─acpid ├─2[agetty] ├─apache2───10[apache2] ├─atd ├─client─┬─client─┬─php_scanner │ │ └─20[{client}] │ └─8[{client}] ├─cron ├─dbus-daemon ├─2[dhclient] ├─2[iscsid] ├─lvmetad ├─lxcfs───10[{lxcfs}] ├─mdadm ├─mysqld_safe─┬─logger │ └─mysqld───44[{mysqld}] ├─polkitd─┬─{gdbus} │ └─{gmain} ├─rsyslogd─┬─{in:imklog} │ ├─{in:imuxsock} │ └─{rs:main Q:Reg} ├─sga───3[{sga}] ├─sgd───6[{sgd}] ├─snmpd ├─sshd───sshd───sshd───bash───sudo───su───bash───pstree ps命令： /proc/:内核中的信息状态 选项： a:所有与终端的相关进程 x:与终端无关 u：用户相关的进程信息 常用组合一：ps aux USER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMANDroot 1 0.0 0.4 185564 4792 ? Ss Sep27 5:45 /lib/systemd/systemd –system –droot 2 0.0 0.0 0 0 ? S Sep27 0:00 [kthreadd]root 3 0.0 0.0 0 0 ? S Sep27 1:55 [ksoftirqd/0]root 5 0.0 0.0 0 0 ? S&lt; Sep27 0:00 [kworker/0:0H] vsz：虚拟内存集 RSS：常驻内存集 STAT: R:running S:interruptable sleeping 可中断休眠 D:uninterruptable sleeping T:stopped Z:zomble 常用组合二：ps -ef UID PID PPID C STIME TTY TIME CMDroot 1 0 0 Sep27 ? 00:05:45 /lib/systemd/systemd –system –deserialize 26root 2 0 0 Sep27 ? 00:00:00 [kthreadd]root 3 2 0 Sep27 ? 00:01:55 [ksoftirqd/0]root 5 2 0 Sep27 ? 00:00:00 [kworker/0:0H] -F：显示完整格式的进程信息 C：CPU PSR：运行在那棵CPU上 pgrep,pkill命令： pgrep: -u uid:effective user -U uid:read user -t :指定终端的进行 -P pid：显示此进程的子进程 pidof命令： 根据进程名,取其PID top命令：top - 14:57:02 up 33 days, 17:41, 1 user, load average: 0.10, 0.17, 0.17Tasks: 163 total, 1 running, 162 sleeping, 0 stopped, 0 zombie%Cpu(s): 9.2 us, 4.8 sy, 0.0 ni, 85.0 id, 1.0 wa, 0.0 hi, 0.0 si, 0.0 stKiB Mem : 1015828 total, 98636 free, 234340 used, 682852 buff/cacheKiB Swap: 2047996 total, 1926204 free, 121792 used. 557552 avail Mem PID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND27702 root 39 19 839060 30700 8800 S 10.0 3.0 1826:15 client 8274 zabbix 20 0 224360 3356 2656 S 0.3 0.3 6:55.51 zabbix_server29064 mysql 20 0 608092 135100 8072 S 0.3 13.3 121:04.01 mysqld 1 root 20 0 185564 4792 3284 S 0.0 0.5 5:45.45 systemd 2 root 20 0 0 0 0 S 0.0 0.0 0:00.02 kthreadd 排序: P:以占据CPU百分比排序 M：内存排序 T：累积占用CPU时间排序 首部信息： uptime信息：l tasks及cpu信息：t 内存信息：m 推出：q uptime命令：显示系统时间，运行时长及平均负载 过去1，5，15分钟的平均负载","categories":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}],"tags":[{"name":"web","slug":"web","permalink":"/tags/web/"},{"name":"悦读","slug":"悦读","permalink":"/tags/悦读/"}],"keywords":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}]},{"title":"CentOS7+编译安装Lnmp+Zabbix+Goaccess","slug":"编译安装LNMP+Zabbix+Goaccess","date":"2019-09-30T11:27:58.000Z","updated":"2019-10-08T10:30:23.000Z","comments":true,"path":"2019/09/30/编译安装LNMP+Zabbix+Goaccess/","link":"","permalink":"/2019/09/30/编译安装LNMP+Zabbix+Goaccess/","excerpt":"","text":"源码编译安装编译安装软件的优点、自行修改、定制功能、重新配置、自由修改源代码、加入新的功能。 CentOS7编译安装php-7.0，mysql-5.7，nginx-1.16，zabbix，goaccess！ 编译环境关闭selinux，stop iptables，源码下载，调整swap大小，编译安装所需的依赖库包等！ #关闭selinux vim /etc/selinux/config SELINUX=disabled #关闭iptables /etc/init.d/iptable stop chkconfig iptable off #创建存放目录 mkdir /tools #自定义程序安装目录 mkdir /app cd /tools #创建swap，大约是内存的1.5倍 dd if=/dev/zore of=/swapfile bs=100M count=20 #修改成阿里源&amp;安装epel源 mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo yum clean all yum makecache yum install -y epel-release yum clean all yum makecache #下载nginx，选择稳定版本，php7.0.2版本，mysql5.7，编译安装mysql需要这个boost包 wget http://nginx.org/download/nginx-1.16.1.tar.gz wget http://cn2.php.net/distributions/php-7.0.2.tar.gz wget https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.20.tar.gz wget --no-check-certificate http://sourceforge.net/projects/boost/files/boost/1.59.0/boost_1_59_0.tar.gz wget https://jaist.dl.sourceforge.net/project/zabbix/ZABBIX%20Latest%20Stable/4.0.0/zabbix-4.0.0.tar.gz zabbix4.0 #安装基础包，php所需的依赖包，mysql所需的包，nginx时所需的包，zabbix是所需的包 yum install telnet lrzsz nmap dos2unix vim lsof -y yum install -y gcc gcc-c++ make zlib zlib-devel pcre pcre-devel libjpeg libjpeg-devel libpng libpng-devel freetype freetype-devel libxml2 libxml2-devel glibc glibc-devel glib2 glib2-devel bzip2 bzip2-devel ncurses ncurses-devel curl curl-devel e2fsprogs e2fsprogs-devel krb5 krb5-devel openssl openssl-devel openldap openldap-devel nss_ldap openldap-clients openldap-servers gmp-devel libmcrypt libmcrypt-devel readline-devel libxslt-devel yum install -y cmake bison bison-devel libaio-devel gcc gcc-c++ git ncurses-devel yum install pcre pcre-devel openssl-devel yum -y install net-snmp-devel libxml2-devel libcurl-deve libevent libevent-devel libcurl PHP7.0cd /tools #解压php tar xzf php-7.0.2.tar.gz cd php-7.0.2 #configure &amp; make &amp; make install ./configure --prefix=/app/php --with-config-file-path=/app/etc --enable-fpm --enable-inline-optimization --disable-debug --disable-rpath --enable-shared --enable-soap --with-libxml-dir --with-mysqli --with-xmlrpc --with-openssl --with-mcrypt --with-mhash --with-pcre-regex --with-sqlite3 --with-zlib --with-ldap --with-freetype --with-fpm-user=www --with-fpm-group=www --enable-bcmath --with-iconv --with-bz2 --enable-calendar --with-curl --with-cdb --enable-dom --enable-exif --enable-fileinfo --enable-filter --with-pcre-dir --enable-ftp --with-gd --with-openssl-dir --with-jpeg-dir --with-png-dir --with-zlib-dir --with-freetype-dir --enable-gd-native-ttf --enable-gd-jis-conv --with-gettext --with-gmp --with-mhash --enable-json --enable-mbstring --enable-mbregex --enable-mbregex-backtrack --with-libmbfl --with-onig --enable-pdo --with-mysqli=mysqlnd --with-pdo-mysql=mysqlnd --with-zlib-dir --with-pdo-sqlite --with-readline --enable-session --enable-shmop --enable-simplexml --enable-sockets --enable-sysvmsg --enable-sysvsem --enable-sysvshm --enable-wddx --with-libxml-dir --with-xsl --enable-zip --enable-mysqlnd-compression-support --with-pear --enable-opcache make &amp;&amp; make install #配置文件 cp /tools/php-7.0.2/php.ini-development /app/php/etc/php.ini cp /app/php/etc/php-fpm.conf.default php-fpm.conf cp /app/php/etc/php-fpm.d/www.conf.default /app/php/etc/php-fpm.d/www.conf cp /tools/php-7.0.2/sapi/fpm/init.d.php-fpm /etc/init.d/php-fpm #修改启动文件 vim /etc/init.d/php-fpm prefix=/app/php chmod 777 /etc/init.d/php-fpm Mysql5.7cd /tools #解压mysql tar xzf mysql-5.7.20.tar.gz cd mysql-5.7.20 mkdir configure cd configure #添加mysql用户 useradd -s /sbin/nologin mysql #mysql需要用cmake cmake .. -DBUILD_CONFIG=mysql_release -DINSTALL_LAYOUT=STANDALONE -DCMAKE_BUILD_TYPE=RelWithDebInfo -DENABLE_DTRACE=OFF -DWITH_EMBEDDED_SERVER=OFF -DWITH_INNODB_MEMCACHED=ON -DWITH_SSL=bundled -DWITH_ZLIB=system -DWITH_PAM=ON -DCMAKE_INSTALL_PREFIX=/app/mysql/ -DINSTALL_PLUGINDIR=&quot;/app/mysql/lib/plugin&quot; -DDEFAULT_CHARSET=utf8 -DDEFAULT_COLLATION=utf8_general_ci -DWITH_EDITLINE=bundled -DFEATURE_SET=community -DCOMPILATION_COMMENT=&quot;MySQL Server (GPL)&quot; -DWITH_DEBUG=OFF -DWITH_BOOST=.. make &amp;&amp; make install #make过程所需的时间要久一点 #修改my.cnf配置文件 vim /etc/my.cnf [mysqld] datadir=/app/mysql_data basedir=/app/mysql port=3306 pid-file=/app/mysql/mysql.pid user=mysql log-error=/app/mysql/log/error.log explicit_defaults_for_timestamp=true socket=/app/mysql/mysql.sock #依据配置文件创建所需的目录及文件并修改权限 mkdir /app/mysql_data mkdir /app/mysql/log/ -p touch /app/mysql/log/error.log chmod -R 777 /app/mysql chmod -R 777 /app/mysql_data chown -R mysql:mysql /app/mysql chown -R mysql:mysql /app/mysql_data #初始化安装 /app/mysql/bin/mysqld --initialize --user=mysql --basedir=/app/mysql --datadir=/app/mysql_data ll /app/mysql_data/ #查看是否有文件生成 ln -s /app/mysql/support-files/mysql.server /etc/init.d/mysqld #修改启动文件 vim /app/mysql/support-files/mysql.server basedir=/app/mysql datadir=/app/mysql_data /etc/init.d/mysqld start #查看初始化密码 grep localhost /app/mysql/log/error.log #使用初始化密码登录并修改密码 /app/mysql/bin/mysql -uroot -p #如果报错提示没有/tmp/mysql.sock，执行 ln -s /app/mysql/mysql.sock /tmp/mysql.sock #如果没有找到mysql.sock文件一般是my.cnf文件配置错误 Nginxcd /tools useradd nginx -s /sbin/nologin -M tar zxf nginx-1.16.1.tar.gz cp -r /tools/nginx-1.16.1/contrib/vim ~/.vim #nginx.conf文件代码高亮 cd nginx-1.16.1 ./configure --user=nginx --group=nginx --prefix=/app/nginx-1.16.1/ --with-http_stub_status_module --with-http_ssl_module make &amp; make install ln -s /app/nginx-1.16.1 /app/nginx #创建软连接，以便后续升级版本 vim /app/nginx/conf/nginx.conf #编辑配置文件 /app/nginx/sbin/nginx -t #查看配置文件语法 /app/nginx/sbin/nginx /app/nginx/sbin/nginx -s reload或者stop Zabbixcd /tools tar xzf zabbix-4.0.0.tar.gz cd zabbix-4.0.0 ./configure --enable-server --enable-agent --with-mysql=/app/mysql/bin/mysql_config --prefix=/app/zabbix --enable-ipv6 --with-net-snmp --with-libcurl --with-libxml2 make &amp;&amp; make install cp /tools/zabbix-4.0.0/misc/init.d/fedora/core/* /etc/init.d/ vim /etc/init.d/zabbix_server #修改安装base目录 DIR=/app/zabbix vim /etc/init.d/zabbix_agent #修改安装base目录 DIR=/app/zabbix /app/mysql/bin/mysql -uroot -p -e &quot;create database zabbix default character set utf8 collate utf8_bin;&quot; /app/mysql/bin/mysql -uroot -p -e &quot;grant all on zabbix.* to &#39;zabbix&#39;@&#39;localhost&#39; identified by &#39;zabbix&#39;;&quot; /app/mysql/bin/mysql -uzabbix -pzabbix zabbix &lt; /tools/zabbix-4.0.0/database/mysql/schema.sql /app/mysql/bin/mysql -uzabbix -pzabbix zabbix &lt; /tools/zabbix-4.0.0/database/mysql/images.sql /app/mysql/bin/mysql -uzabbix -pzabbix zabbix &lt; /tools/zabbix-4.0.0/database/mysql/data.sql cp -r /tools/zabbix-4.0.0/frontends/php/* /app/nginx/html/zabbix/ cp /app/nginx/html/zabbix/conf/zabbix.conf.php.example /app/nginx/html/zabbix/conf/zabbix.conf.php vim /app/nginx/html/zabbix/conf/zabbix.conf.php #把zabbix数据库信息填写完成 &lt;?php // Zabbix GUI configuration file. global $DB; $DB[&#39;TYPE&#39;] = &#39;MYSQL&#39;; $DB[&#39;SERVER&#39;] = &#39;localhost&#39;; $DB[&#39;PORT&#39;] = &#39;0&#39;; $DB[&#39;DATABASE&#39;] = &#39;zabbix&#39;; $DB[&#39;USER&#39;] = &#39;zabbix&#39;; $DB[&#39;PASSWORD&#39;] = &#39;zabbix&#39;; // Schema name. Used for IBM DB2 and PostgreSQL. $DB[&#39;SCHEMA&#39;] = &#39;&#39;; $ZBX_SERVER = &#39;localhost&#39;; $ZBX_SERVER_PORT = &#39;10051&#39;; $ZBX_SERVER_NAME = &#39;Admin&#39;; //初始化密码zabbix $IMAGE_FORMAT_DEFAULT = IMAGE_FORMAT_PNG; zabbix查看版本报错:zabbix_server: error while loading shared libraries: libmysqlclient.so.18: cannot open shared object file: No such file or directory 解决方法： ln -s /app/mysql/lib/libmysqlclient.so.18 /usr/lib/ ln -s /app/mysql/lib/libmysqlclient.so.18 /usr/lib64/ Nginx启动 检查语法/application/nginx/sbin/nginx -t 启动命令/application/nginx/sbin/nginxlsof -i:80一般把启动命令添加到rc.local 开机自启动 停止命令pkill nginx 查看版本/application/nginx/sbin/nginx -V web错误日志cat /application/nginx/logs/error.log Nginx目录结构[root@web01 /]# tree /application/nginx /application/nginx ├── conf │ ├── fastcgi.conf │ ├── fastcgi.conf.default │ ├── fastcgi_params │ ├── fastcgi_params.default │ ├── koi-utf │ ├── koi-win │ ├── mime.types │ ├── mime.types.default │ ├── nginx.conf │ ├── nginx.conf.default │ ├── scgi_params │ ├── scgi_params.default │ ├── uwsgi_params │ ├── uwsgi_params.default │ └── win-utf ├── html │ ├── 50x.html │ └── index.html ├── logs └── sbin └── nginx 4 directories, 18 files Nginx配置文件[root@web01 /]# egrep -v &quot;#|^$&quot; /application/nginx/conf/nginx.conf.default \\ &gt;/application/nginx/conf/nginx.conf worker_processes 1; events { worker_connections 1024; } http { include mime.types; default_type application/octet-stream; sendfile on; keepalive_timeout 65; server { listen 80; server_name localhost; location / { root html; index index.html index.htm; } error_page 500 502 503 504 /50x.html; location = /50x.html { root html; } } }","categories":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}],"tags":[{"name":"linux","slug":"linux","permalink":"/tags/linux/"}],"keywords":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}]},{"title":"编译安装MYSQL","slug":"编译安装MYSQL","date":"2019-09-21T01:19:06.000Z","updated":"2019-09-24T15:26:41.000Z","comments":true,"path":"2019/09/21/编译安装MYSQL/","link":"","permalink":"/2019/09/21/编译安装MYSQL/","excerpt":"","text":"编译安装MYSQL-5.7.20[root@localhost ~]# mkdir /tools -p 创建单独存放工具的目录，以便后续管理[root@localhost ~]# ls /bin dev home lib64 media opt root selinux srv tmp usrboot etc lib lost+found mnt proc sbin server sys tools var [root@localhost ~]# cd /tools/[root@localhost tools]# wget https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.20.tar.gz[root@localhost tools]# wget –no-check-certificate http://sourceforge.net/projects/boost/files/boost/1.59.0/boost_1_59_0.tar.gz 依赖包安装[root@localhost tools]# yum install -y cmake bison bison-devel libaio-devel gcc gcc-c++ git ncurses-devel (Ubuntu 就用apt-get) [root@localhost tools]# tar -zxvf mysql-5.7.20.tar.gz [root@localhost tools]# mv boost_1_65_1.tar.gz mysql-5.7.20 [root@localhost tools]# cd mysql-5.7.20[root@localhost tools]# mkdir configure[root@localhost tools]# cd configure [root@localhost configure]# cmake .. -DBUILD_CONFIG=mysql_release \\-DINSTALL_LAYOUT=STANDALONE \\-DCMAKE_BUILD_TYPE=RelWithDebInfo \\-DENABLE_DTRACE=OFF \\-DWITH_EMBEDDED_SERVER=OFF \\-DWITH_INNODB_MEMCACHED=ON \\-DWITH_SSL=bundled \\-DWITH_ZLIB=system \\-DWITH_PAM=ON \\-DCMAKE_INSTALL_PREFIX=/application/mysql/ \\-DINSTALL_PLUGINDIR=”/application/mysql/lib/plugin” \\-DDEFAULT_CHARSET=utf8 \\-DDEFAULT_COLLATION=utf8_general_ci \\-DWITH_EDITLINE=bundled \\-DFEATURE_SET=community \\-DCOMPILATION_COMMENT=”MySQL Server (GPL)” \\-DWITH_DEBUG=OFF \\-DENABLE_DOWNLOADS=1 \\-DWITH_BOOST=.. cmake 时候出错可以把目录下的CMakeCache.txt删除，重新cmake [root@localhost configure]# rm -rf CMakeCache.txt提示：– Configuring done– Generating doneCMake Warning: Manually-specified variables were not used by the project: WITH_PAM – Build files have been written to: /tools/mysql-5.7.20/configure cmake完成 warning暂时不知，好像也不会影响（我是忽略它继续安装的） make (make 需要的时间会很长,大概在1个小时左右)这个过程需要消耗大量的内存以及CPU，建议内存在2G左右可以适当的加大Sawp[root@localhost configure]# dd if=/dev/zero of=/swapflie bs=64M count=32[root@localhost configure]# mkswap /swapfliemkswap: /swapflie: warning: don’t erase bootbits sectors on whole disk. Use -f to force.Setting up swapspace version 1, size = 2097148 KiBno label, UUID=dfcbe6be-e60d-4877-9e88-62d642561516[root@localhost configure]# swapon /swapflie[root@localhost configure]# free -lh total used free shared buff/cache availableMem: 992M 344M 88M 440K 558M 459MLow: 992M 903M 88MHigh: 0B 0B 0BSwap: 2.5G 29M 2.5G [root@localhost configure]# make[root@localhost configure]# make install [root@localhost configure]# useradd -s /sbin/nologin mysql [root@localhost configure]# mkdir /application/mysql_data[root@localhost configure]# mkdir /application/mysql_log[root@localhost configure]# chown -R mysql:mysql /mysql_data[root@localhost configure]# chown -R mysql:mysql /application/mysql_log 有些版本需要创建log文件[root@localhost configure]# touch /application/mysql_log/error.log赋权限子目录及文件[root@localhost configure]# chmod -R 777 /application/mysql_log/error.log编译安装，可能没有my.cnf文件可以自己创建my.cnf[root@localhost configure]# vim /etc/my.cnf [mysqld]port = 3306socket = /tmp/mysql.sockbasedir = /application/mysqldatadir = /application/mysql_datapid-file = /application/mysql/mysql.piduser = mysqlexplicit_defaults_for_timestamp=truelog_error=/application/mysql_log/error.log [root@localhost configure]# touch /application/mysql/mysql.sock[root@localhost configure]# touch /application/mysql/mysql.pid[root@localhost configure]# chmod -R 777 /application/mysql/mysql.sock [root@localhost configure]# /application/mysql/bin/mysqld –initialize –user=mysql –datadir=/application/mysql_data/ –basedir=/application/mysql/2019-09-21T07:34:15.929591Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use –explicit_defaults_for_timestamp server option (see documentation for more details).2019-09-21T07:34:16.885942Z 0 [Warning] InnoDB: New log files created, LSN=457902019-09-21T07:34:17.002087Z 0 [Warning] InnoDB: Creating foreign key constraint system tables.2019-09-21T07:34:17.065937Z 0 [Warning] No existing UUID has been found, so we assume that this is the first time that this server has been started. Generating a new UUID: 379f70ce-dc42-11e9-9e47-000c29bce291.2019-09-21T07:34:17.067365Z 0 [Warning] Gtid table is not ready to be used. Table ‘mysql.gtid_executed’ cannot be opened.2019-09-21T07:34:17.070635Z 1 [Note] A temporary password is generated for root@localhost: _uRqhB5cs9;/[root@localhost configure]# ll /mysql_data/总用量 110620-rw-r—–. 1 mysql mysql 56 9月 21 15:34 auto.cnf-rw-r—–. 1 mysql mysql 419 9月 21 15:34 ib_buffer_pool-rw-r—–. 1 mysql mysql 12582912 9月 21 15:34 ibdata1-rw-r—–. 1 mysql mysql 50331648 9月 21 15:34 ib_logfile0-rw-r—–. 1 mysql mysql 50331648 9月 21 15:34 ib_logfile1drwxr-x—. 2 mysql mysql 4096 9月 21 15:34 mysqldrwxr-x—. 2 mysql mysql 4096 9月 21 15:34 performance_schemadrwxr-x—. 2 mysql mysql 12288 9月 21 15:34 sys [root@localhost configure]# tail /application/mysql_log/error.log 查看是否生成日志信息 [root@localhost configure]# cp /application/mysql/support-files/mysql.server /etc/init.d/mysqld[root@localhost configure]# cd /etc/init.d/[root@localhost configure]# chmod 777 mysqld [root@localhost configure]# vim /etc/init.d/mysqld basedir=/var/mysql/datadir=/mysql_data [root@localhost configure]# /etc/init.d/mysqld startStarting MySQL. SUCCESS![root@localhost configure]# ps aux |grep mysqld 查看进程查看mysql初始化密码———&gt;error.log文件中[root@localhost configure]# cat /application/mysql_log/error.log |grep ‘A temporary password’[root@localhost configure]# grep “root@localhost” /application/mysql_log/error.log[root@localhost configure]# echo ‘export PATH=$PATH:/var/mysql/bin:’ &gt;&gt;/etc/profile[root@localhost configure]# export PATH=$PATH:/var/mysql/bin:[root@localhost configure]# mysql -uroot -pEnter password: mysql&gt; alter user ‘root‘@’localhost’ identified by ‘your_password’;mysql&gt; show databases;mysql&gt; create database abc;mysql&gt; grant all privileges on abc.* to ‘root‘@’%’ identified by ‘123456’；mysql&gt; flush privileges;","categories":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}],"tags":[{"name":"web","slug":"web","permalink":"/tags/web/"},{"name":"悦读","slug":"悦读","permalink":"/tags/悦读/"}],"keywords":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}]},{"title":"nginx-vim小技巧","slug":"nginx-vim小技巧","date":"2019-09-02T13:43:39.000Z","updated":"2019-09-02T13:46:25.000Z","comments":true,"path":"2019/09/02/nginx-vim小技巧/","link":"","permalink":"/2019/09/02/nginx-vim小技巧/","excerpt":"","text":"Nginx配置文件代码高亮小技巧 拷贝Nginx解压包里的contrid/vim列： cp -rf contrid/vim/* ~/.vim/","categories":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}],"tags":[{"name":"web","slug":"web","permalink":"/tags/web/"},{"name":"悦读","slug":"悦读","permalink":"/tags/悦读/"}],"keywords":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}]},{"title":"hexo-d bug","slug":"hexo-d-Duge","date":"2019-08-31T13:32:19.000Z","updated":"2019-08-31T13:44:23.000Z","comments":true,"path":"2019/08/31/hexo-d-Duge/","link":"","permalink":"/2019/08/31/hexo-d-Duge/","excerpt":"","text":"hexo -d 报错之一同步不了远程代码仓库 PS E:\\hexo&gt; hexo d (node:11316) [DEP0061] DeprecationWarning: fs.SyncWriteStream is deprecated. INFO Deploying: git INFO Clearing .deploy_git folder... INFO Copying files from public folder... fatal: bad config line 1 in file .git/config FATAL Something&#39;s wrong. Maybe you can find the solution here: http://hexo.io/docs/troubleshooting.html Error: fatal: bad config line 1 in file .git/config at ChildProcess.&lt;anonymous&gt; (E:\\hexo\\node_modules\\hexo-util\\lib\\spawn.js:37:17) at ChildProcess.emit (events.js:198:13) at ChildProcess.cp.emit (E:\\hexo\\node_modules\\cross-spawn\\lib\\enoent.js:40:29) at maybeClose (internal/child_process.js:982:16) at Socket.stream.socket.on (internal/child_process.js:389:11) at Socket.emit (events.js:198:13) at Pipe._handle.close (net.js:606:12) 解决方法 把 .git/config 文件内容清空，可能文件内容格式变成二进制文件，内容情况后在执行 hexo cl &amp;&amp; hexo -g &amp;&amp; hexo -d","categories":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}],"tags":[{"name":"web","slug":"web","permalink":"/tags/web/"},{"name":"悦读","slug":"悦读","permalink":"/tags/悦读/"}],"keywords":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}]},{"title":"yum仓库小知识","slug":"yum1","date":"2019-07-28T11:27:58.000Z","updated":"2019-07-28T13:36:22.000Z","comments":true,"path":"2019/07/28/yum1/","link":"","permalink":"/2019/07/28/yum1/","excerpt":"","text":"自动搭建本地yum仓库以脚本的方式进行仓库的搭建及挂载 #!/bin/bash #自动搭建yum本地仓库 # cdrom () { mount /dev/cdrom /media/cdrom &amp;&gt; /dev/null [ $? -eq 0 ] &amp;&amp; echo &quot;挂载成功&quot; } [ -d /media/cdrom ] || mkdir /media/cdrom mount | grep -q /dev/sr0 if [ $? -eq 0 ] then umount /dev/sr0 cdrom else cdrom fi [ -d /etc/yum.repos.d/bak ] || mkdir /etc/yum.repos.d/bak ls -l /etc/yum.repos.d/ | grep *repo &gt; /dev/null if [ $? -ne 0 ] then echo &quot;正在移动文件到目录下&quot; mv /etc/yum.repos.d/*repo bak else echo &quot;文件已经移动目录！&quot; fi [ -e /etc/yum.repos.d/centos-media.repo ] || echo &quot;[media] name=CentOS-$releasever - Media baseurl=file:///media/cdrom/ gpgcheck=0 enabled=1&quot; &gt; /etc/yum.repos.d/centos-media.repo echo &quot;清除yum缓存&quot; yum clean all &amp;&gt; /dev/null echo &quot;YUM已经搭建完成&quot; echo -n &quot;共有软件包:&quot; yum repolist | tail -1 | awk -F&#39;:&#39; &#39;{print $2}&#39; cat /etc/fstab | grep /dev/sr0 &amp;&gt; /dev/null if [ $? -ne 0 ] then echo &quot;正在写入开机自动挂载光盘&quot; echo &quot; /dev/sr0 /media/cdrom iso9660 defaults 0 0 &quot;&gt;&gt; /etc/fstab fi","categories":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}],"tags":[{"name":"linux","slug":"linux","permalink":"/tags/linux/"}],"keywords":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}]},{"title":"碎碎","slug":"碎碎","date":"2019-07-26T14:08:40.000Z","updated":"2019-07-28T07:15:30.000Z","comments":true,"path":"2019/07/26/碎碎/","link":"","permalink":"/2019/07/26/碎碎/","excerpt":"","text":"今年27岁，整个人生已经过了1/3。遥想当你读书时候的我，盼望着能快点长大成人，能排拖学业，自由自在不受父母约束的生活，是多么的幼稚。子华神说：“只有天桥底下的浪子才会过得如此洒脱！”现在真希望时间能过得慢一点，慢生活… 长大了，毕业出来工作了4年多，一事无成。每天忙着干活，像个机器人一样，也不知道自己在追求什么，有时候还真的在想: 一个人活着或者存在的意义是什么！脑袋都炸了","categories":[],"tags":[],"keywords":[]},{"title":"nginx基础","slug":"nginx","date":"2019-07-22T03:10:56.000Z","updated":"2019-09-28T13:08:51.000Z","comments":true,"path":"2019/07/22/nginx/","link":"","permalink":"/2019/07/22/nginx/","excerpt":"","text":"Nginx与Apache在性能上，Nginx占用的系统资源更少，能够支持更多的并发连接，达到更高的访问效率，还可以提供反向代理负载均衡及缓存服务。 Nginx功能 远程FastCGI服务的缓存加速 Uwsgi、SCGI、Memcahache Servers的加速和缓存 支持 SSL、TLS、SNI 支持Keep-alive和pipelined连接 可平滑重启，不中断业务访问 负载均衡及反向代理 支持rewrite模块，支持URL重写 支持异步网络I/O事件模块epoll select与epoll模式区别：Aapache selectNginx epoll 编译安装NginxNginx所需要的pcre库 如果不安装pcre库，Nginx无法使用rewrite模块！ yum install pcre pcre-devel -y rpm -qa pcre pcre-devel 安装 openssl-devel yum install openssl openssl-devel -y rpm -qa openssl openssl-devel ubuntu : apt-get install openssl libssl-dev apt-get install libpcre3 libpcre3-dev apt-get install zlib1g-dev 下载安装官网下载安装Nginx http://nginx.org/ Welcome to downloadNginx官网下载！建议选择稳定版安装. 安装步骤mkdir -p /home/oldboy/tools cd /home/oldboy/tools wget -q http://nginx.org/download/nginx-1.6.3.tar.gz ls -l nginx-1.6.3.tar.gz useradd nginx -s /sbin/nologin -M tar xf nginx-1.6.3.tar.gz cd nginx-1.6.3 ./configure --user=nginx --group=nginx \\ --prefix=/application/nginx-1.6.3/ --with-http_stub_status_module \\ --with-http_ssl_module make &amp; make install ln -s /application/nginx-1.6.3 /application/nginx ./configure: error: C compiler cc is not found 报错解决方法：yum install gcc -y ./configure –help #查看参数列：–prefix=PATH–with-http_stub_status_module #激活状态信息–with-http_ssl_module #激活ssl功能 Nginx启动 检查语法/application/nginx/sbin/nginx -t 启动命令/application/nginx/sbin/nginxlsof -i:80一般把启动命令添加到rc.local 开机自启动 停止命令pkill nginx 查看版本/application/nginx/sbin/nginx -V web错误日志cat /application/nginx/logs/error.log nginx目录结构[root@web01 /]# tree /application/nginx /application/nginx ├── conf │ ├── fastcgi.conf │ ├── fastcgi.conf.default │ ├── fastcgi_params │ ├── fastcgi_params.default │ ├── koi-utf │ ├── koi-win │ ├── mime.types │ ├── mime.types.default │ ├── nginx.conf │ ├── nginx.conf.default │ ├── scgi_params │ ├── scgi_params.default │ ├── uwsgi_params │ ├── uwsgi_params.default │ └── win-utf ├── html │ ├── 50x.html │ └── index.html ├── logs └── sbin └── nginx 4 directories, 18 files nginx配置文件[root@web01 /]# egrep -v &quot;#|^$&quot; /application/nginx/conf/nginx.conf.default \\ &gt;/application/nginx/conf/nginx.conf worker_processes 1; events { worker_connections 1024; } http { include mime.types; default_type application/octet-stream; sendfile on; keepalive_timeout 65; server { listen 80; server_name localhost; location / { root html; index index.html index.htm; } error_page 500 502 503 504 /50x.html; location = /50x.html { root html; } } } nginx启动脚本#!/bin/bash # chkconfig: - 85 15 # description: Nginx server control script # processname: nginx # config file: /usr/local/nginx/conf/nginx.conf # pid file: /usr/local/nginx/logs/nginx.pid # eastmoney public tools # version: v1.0.0 # create by XuHoo, 2016-9-14 # source function library . /etc/rc.d/init.d/functions NGINX_NAME=&quot;nginx&quot; NGINX_PROG=&quot;/usr/local/sbin/nginx&quot; NGINX_PID_FILE=&quot;/usr/local/nginx/logs/nginx.pid&quot; NGINX_CONF_FILE=&quot;/usr/local/nginx/conf/nginx.conf&quot; NGINX_LOCK_FILE=&quot;/var/lock/subsys/nginx.lock&quot; # check current user [ &quot;$USER&quot; != &quot;root&quot; ] &amp;&amp; exit 1 start() { status if [[ $? -eq 0 ]]; then echo $&quot;Nginx (PID $(cat $NGINX_PID_FILE)) already started.&quot; return 1 fi echo -n $&quot;Starting $NGINX_NAME: &quot; daemon $NGINX_PROG -c $NGINX_CONF_FILE retval=$? echo [ $retval -eq 0 ] &amp;&amp; touch $NGINX_LOCK_FILE return $retval } stop() { status if [[ $? -eq 1 ]]; then echo &quot;Nginx server already stopped.&quot; return 1 fi echo -n $&quot;Stoping $NGINX_NAME: &quot; killproc $NGINX_PROG retval=$? echo [ $retval -eq 0 ] &amp;&amp; rm -f $NGINX_LOCK_FILE return $retval } restart() { stop sleep 1 start retval=$? return $retval } reload() { echo -n $&quot;Reloading $NGINX_NAME: &quot; killproc $NGINX_PROG -HUP retval=$? echo return $retval } status() { netstat -anpt | grep &quot;/nginx&quot; | awk &#39;{print $6}&#39; &amp;&gt; /dev/null if [[ $? -eq 0 ]]; then if [[ -f $NGINX_LOCK_FILE ]]; then return 0 else return 1 fi fi return 1 } _status() { status if [[ $? -eq 0 ]]; then state=`netstat -anpt | grep &quot;/nginx&quot; | awk &#39;{ print $6 }&#39;` echo $&quot;Nginx server status is: $state&quot; else echo &quot;Nginx server is not running&quot; fi } test() { $NGINX_PROG -t -c $NGINX_CONF_FILE retval=$? return $retval } case &quot;$1&quot; in start) start ;; stop) stop ;; reload) reload ;; restart) restart ;; status) _status ;; test) test ;; *) echo &quot;Usage: { start | stop | reload | restart | status | test }&quot; exit 1 esac 两个脚本 #!/bin/bash #chkconfig: 2345 99 20 #description:Nginx Server Control Scripts shell PROG=&quot;/usr/local/nginx/sbin/nginx&quot; PIDF=&quot;/usr/local/nginx/logs/nginx.pid&quot; case &quot;$1&quot; in start) if [ -f $PIDF ]; then echo &quot;Nginx正在运行…&quot; else $PROG fi ;; stop) if [ -f $PIDF ]; then kill -3 $(cat $PIDF) rm -f $PIDF else echo &quot;Nginx正在停止…&quot; fi ;; restart) $0 stop $0 start ;; reload) if [ -f $PIDF ]; then kill -1 $(cat $PIDF) else echo &quot;Nginx正在停止…重新加载&quot; fi ;; status) if [ -f $PIDF ]; then echo &quot;Nginx正在运行&quot; else echo &quot;Nginx停止&quot; fi ;; *) echo &quot;Usage: $0 (start|stop|restart|reload|status)&quot; exit 1 esac exit 0","categories":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}],"tags":[{"name":"linux","slug":"linux","permalink":"/tags/linux/"}],"keywords":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}]},{"title":"起风了","slug":"起风了","date":"2019-07-20T15:21:20.000Z","updated":"2019-07-27T03:49:18.000Z","comments":true,"path":"2019/07/20/起风了/","link":"","permalink":"/2019/07/20/起风了/","excerpt":"","text":"《起风了》 填词：米果 谱曲：高桥优 演唱：买辣椒也用券 var ap = new APlayer({ element: document.getElementById(\"aplayer-VRWDOojG\"), narrow: false, autoplay: true, showlrc: false, music: { title: \"起风了\", author: \"买辣椒也用券\", url: \"http://www.ytmp3.cn/down/52186.mp3\", pic: \"http://p1.music.126.net/diGAyEmpymX8G7JcnElncQ==/109951163699673355.jpg\", lrc: \"\" } }); window.aplayers || (window.aplayers = []); window.aplayers.push(ap); 这一路上走走停停，顺着少年漂流的痕迹 迈出车站的前一刻，竟有些犹豫 不禁笑这近乡情怯，仍无可避免 而长野的天，依旧那么暖 风吹起了从前，从前初识这世间，万般流连 看着天边似在眼前，也甘愿赴汤蹈火去走它一遍 如今走过这世间，万般流连 翻过岁月不同侧脸，措不及防闯入你的笑颜 我曾难自拔于世界之大，也沉溺于其中梦话 不得真假 不做挣扎 ，不惧笑话我曾将青春翻涌成她，也曾指尖弹出盛夏 心之所动， 且就随缘去吧 逆着光行走 ，任风吹雨打 短短的路走走停停，也有了几分的距离 不知抚摸的是故事 ，还是段心情 也许期待的不过是， 与时间为敌 再次看到你，微凉晨光里，笑的很甜蜜 从前初识这世间，万般流连 看着天边似在眼前，也甘愿赴汤蹈火去走它一遍 如今走过这世间，万般流连 翻过岁月不同侧脸，措不及防闯入你的笑颜 我曾难自拔于世界之大，也沉溺于其中梦话 不得真假， 不做挣扎 ，不惧笑话 我曾将青春翻涌成她，也曾指尖弹出盛夏 心之所动 ，且就随缘去吧 晚风吹起你鬓间的白发，抚平回忆留下的疤 你的眼中 ，明暗交杂 ，一笑生花 暮色遮住你蹒跚的步伐，走进床头藏起的画 画中的你， 低着头说话 我仍感叹于世界之大，也沉醉于儿时情话 不剩真假 ，不做挣扎 ，无谓笑话 我终将青春还给了她，连同指尖弹出的盛夏 心之所动， 就随风去了 以爱之名， 你还愿意吗","categories":[{"name":"碎碎念念","slug":"碎碎念念","permalink":"/categories/碎碎念念/"}],"tags":[{"name":"心情语录","slug":"心情语录","permalink":"/tags/心情语录/"}],"keywords":[{"name":"碎碎念念","slug":"碎碎念念","permalink":"/categories/碎碎念念/"}]},{"title":"Markdown用法","slug":"Markdown","date":"2019-07-12T03:50:43.000Z","updated":"2019-07-19T08:47:06.000Z","comments":true,"path":"2019/07/12/Markdown/","link":"","permalink":"/2019/07/12/Markdown/","excerpt":"","text":"标题 # 一级标题 ## 二级标题 ### 这是三级标题 #### 这是四级标题 以此类推 - 无序列表 1.有序列表 字体1.加粗 要加粗的文字左右分别用两个*号包起来2.斜体 要倾斜的文字左右分别用一个*号包起来3.字体颜色 &lt;font color=&quot;red&quot;&gt;中间写上想说的话&lt;/font&gt;列：静静的看着你4.字体样式 &lt;font face=&quot;宋体&quot;&gt;我是宋体字&lt;/font&gt; 我是宋体字&lt;font color=#0099ff size=12 face=&quot;黑体&quot;&gt;黑体&lt;/font&gt; 黑体 引用&gt;这是引用的内容 &gt;&gt;这是引用的内容 &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;这是引用的内容 分割线--- ---- *** ***** 图片&lt;img src=&quot;&quot;&gt; fancybox 格式 &lt;a href=&quot;&quot; data-fancybox=&quot;gallery&quot;&gt;&lt;img src=&quot;&quot;&gt;&lt;/a&gt; &lt;a href=&quot;超链接地址&quot; target=&quot;_blank&quot;&gt;超链接名&lt;/a&gt;","categories":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}],"tags":[{"name":"Markdown","slug":"Markdown","permalink":"/tags/Markdown/"}],"keywords":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}]},{"title":"OSI","slug":"OSI-7层","date":"2019-07-06T08:03:14.000Z","updated":"2019-07-19T08:49:14.000Z","comments":true,"path":"2019/07/06/OSI-7层/","link":"","permalink":"/2019/07/06/OSI-7层/","excerpt":"","text":"七层协议7 应用层 应用程序及接口6 表示层 对数据进行转换，加密和压缩5 会话层 建立，管理和终止会话4 传输层 提供可靠的点到点的报文传输和差错控制 TCP UDP3 网络层 将分组从源传送到目的，提供网络互联 路由选址的过程 IP （路由器）2 数据链路层 将分组数据进行封装成帧，提供节点到节点方式的传输1 物理层 在媒体上传输比特，提供机械和电气的规约 RJ45 ARP地址解析协议： 是根据IP地址获取物理地址的一个TCP/IP协议 IP地址的ARP请求广播到网络上的所有主机 ARP缓存中IP地址和MAC地址的对应关系","categories":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}],"tags":[{"name":"linux","slug":"linux","permalink":"/tags/linux/"}],"keywords":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}]},{"title":"用户权限","slug":"用户权限","date":"2019-07-06T07:58:04.000Z","updated":"2019-07-19T08:53:56.000Z","comments":true,"path":"2019/07/06/用户权限/","link":"","permalink":"/2019/07/06/用户权限/","excerpt":"","text":"/etc/skel/etc/skel目录 用来存放新用户环境变量 新用户创建后 新用户家目录就会自动复制 cp -a /etc/skel/* /home/xinyonghu Vi /etc/skel/-bash_porfile 文件定义环境变量 新用户创建也会同步改环境变量 /etc/skel 的企业场景作用1.可以把通知的内容放到skel ，让登录的人去看2.统一初始化新用户环境变量3.面试题：系统出现 –bash-4.1$ 问题原因及解决方法原因：用户家目录环境变量没了解决方法：在该用户下：cp –a /etc/skel/.bash* . 最后的 . 表示复制到当前目录 useradd/etc/dfault/useradd 添加用户是需要调用的一个默认配置文件 Passwd –n 7 –x 60 –w 10 –i 30 oldboy Chage –l oldboy Chage –m 7 –M 60 –W 10 –I 30 oldboy 一样的 Chage –E “2019/06/07” oldboy Last password change : Apr 29, 2019 Password expires : Jun 28, 2019 Password inactive : Jul 28, 2019 Account expires : never Minimum number of days between password change : 7 Maximum number of days between password change : 60 Number of days of warning before password expires : 10 Userdel Userdel – r 删除家目录企业场景处理方法：一般不能确认用户相关目录有木有重要数据就不能用 –r删除经验：1，vi /etc/passwd ，然后注释掉用户，观察1个月，这样出问题可以还原，相当于操作前备份2，把登录shell 改成 /sbin/nologin3，openldap （类似活动目录）账号统一管理的，ldap库里干掉用户，所有服务器全部都没了提示：只要修改和删除都要小心谨慎 用户属性useradd oldboy -e 01/28/12useradd -D -e 01/19/12 #→修改默认情况新建帐户过期时间,设置后，新用户都会在这个时间后过期。useradd -D|grep EXPIR #→修改已成效。EXPIRE=01/19/12useradd -D -e “” #→测试完毕还原 useradd –D特别提示：这里仅是更改了配置文件的默认值，仅对之后建立的新用户生效，和老用户无关。更改用户时：法二：修改账户属性usermod -e 01/28/12 oldboy法三：调整账户过期chage -E 01/28/12 oldboy 用户登录信息W who whomi last lastlog umask Su – 切换用户身份 -c 指定用户身份执行任务 su – oldboy –c ‘ pwd ’ 创建用户脚本echo stu{1..10}|xargs -n1 |sed &#39;s#.*#useradd &amp; \\&amp;\\&amp; echo $RANDOM|md5sum|cut -c 1-8 &gt;&gt;/tmp/mima.txt \\&amp;\\echo &#39;tail -1 /tmp/nima.txt&#39;|passwd --stdin &amp;#gp&#39;|bash visudoSudo可以让普通用户拥有root权限去执行命令Sudo –lVisudo 可以对 : /etc/sudoers文件进行修改 # Allow root to run any commands anywhere root ALL=(ALL) ALL dc2-user ALL=(ALL) NOPASSWD: ALL 检查语法visudo –c Linux系统安全最小原则1.安装Linux系统最小化，即yum安装包最小化，无用的包不装2.开机自启动服务最小化3.操作命令最小化，例如：能用 rm -f 就不用 rm -fr4.登陆Linux用户最小化，平时没有特殊需要不登陆root 用普通用户5.用户权限最小化，只给用户必须的管理系统的命令，不能啥都可以干6.Linux系统文件及目录的权限设置最小化，禁止随意创建，更改，删除文件 工作需求开发人员：User_Alias KAIFA_ADMINS = kaifa01, kaifa02 命令权限: KAIFACMD 身份权限: OP1 运维人员: User_Alias OLD_ADMINS = oldboy, oldboy1,%sa 命令权限: USERCMD, DISKCMD, NETMAGCMD, CTRLCMD 身份权限:OP1 网络工程师: User_Alias OLD_NETADMINS = leo, maya 命令权限:NETMAGCMD 身份权限:OP2 #用户别名分类: User_Alias User_Alias KAIFA_ADMINS = kaifa01, kaifa02 User_Alias OLD_ADMINS = oldboy, oldboy1,%sa User_Alias OLD_NETADMINS = leo, maya #岗位命令分类别名: Cmnd_Alias USERCMD = /usr/sbin/useradd, /usr/sbin/userdel,\\ \\换行 /usr/bin/passwd [A-Za-z]*, /bin/chown, /bin/chmod Cmnd_Alias DISKCMD = /sbin/fdisk, /bin/parted Cmnd_Alias NETMAGCMD = /sbin/ifconfig, /etc/init.d/network Cmnd_Alias CTRLCMD = /usr/sbin/reboot, /usr/sbin/halt Cmnd_Alias KAIFACMD = /bin/grep, /usr/bin/tail, /bin/cat #角色 Runas_Alias OP1 = root, oldboy Runas_Alias OP2 = rott, oldgirl #授权: #root ALL=(ALL) ALL #用户 机器 角色 命令 KAIFA_ADMINS ALL=(OP1) KAIFACMD OLD_ADMINS ALL=(OP1) USERCMD, DISKCMD, NETMAGCMD, CTRLCMD OLD_NETADMINS ALL=(OP2) NETMAGCMD 生产环境企业日志审计解决方案： sudo 配合 rsyslog 进行审计 yum install sudo syslog -y echo “Defaults logflie=/var/log/sudo.log” &gt;&gt;/etc/sudoers 一行搞定sudo 审计","categories":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}],"tags":[{"name":"linux","slug":"linux","permalink":"/tags/linux/"}],"keywords":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}]},{"title":"cobbler","slug":"cobbler","date":"2019-07-02T14:46:12.000Z","updated":"2019-07-19T08:44:00.000Z","comments":true,"path":"2019/07/02/cobbler/","link":"","permalink":"/2019/07/02/cobbler/","excerpt":"","text":"CobblerCobbler是一个Linux服务器安装的服务通过网络启动(PXE)的方式来快速安装、重 装物理服务器和虚拟机同时还可以管理 DHCP，DNS等使用命令行方式管理，也提供了基于 Web 的界面管理工具(cobbler-web)还提供了API接口是较早前的 kickstart 的升级版，优点是比较容易配置，还自带 web 界面比较易于 管理内置了一个轻量级配置管理系统，但它也支持和其它配置管理系统集成，如 Puppet，暂时不支持 SaltStack 集成服务PXE #服务支持 电源管理 DHCP #服务管理 Kicckstart #服务支持 DNS #服务管理 YUM #仓库管理 TFTP Apache 环境准备关闭selinux关闭iptables 安装cobblerDjanges安装wget https://kojipkgs.fedoraproject.org//packages/Django14/1.4.14/1.el6/noar ch/Django14-1.4.14-1.el6.noarch.rpm rpm -ivh Django14-1.4.14-1.el6.noarch.rpm 相关程序安装yum -y install cobbler cobbler-web dhcp tftp-server pykickstart httpd cobbler文件列表部分重要安装的文件 list /etc/cobbler # 配置文件目录 /etc/cobbler/settings # cobbler 主配置文件 /etc/cobbler/dhcp.template # DHCP 服务的配置模板 /etc/cobbler/tftpd.template # tftp 服务的配置模板 /etc/cobbler/rsync.template # rsync 服务的配置模板 /etc/cobbler/iso # iso 模板配置文件目录 /etc/cobbler/pxe # pxe 模板文件目录 /etc/cobbler/power # 电源的配置文件目录 /etc/cobbler/users.conf # Web 服务授权配置文件 /etc/cobbler/users.digest # 用于 web 访问的用户名密码配置文件 /etc/cobbler/dnsmasq.template # DNS 服务的配置模板 /etc/cobbler/modules.conf # Cobbler 模块配置文件 /var/lib/cobbler # Cobbler 数据目录 /var/lib/cobbler/config # 配置文件 /var/lib/cobbler/kickstarts # 默认存放 kickstart 文件 /var/lib/cobbler/loaders # 存放的各种引导程序 /var/www/cobbler # 系统安装镜像目录 /var/www/cobbler/ks_mirror # 导入的系统镜像列表 /var/www/cobbler/images # 导入的系统镜像启动文件 /var/www/cobbler/repo_mirror # yum 源存储目录 /var/log/cobbler # 日志目录 /var/log/cobbler/install.log # 客户端系统安装日志 /var/log/cobbler/cobbler.log # cobbler 日志 服务启动/etc/init.d/httpd restart /etc/init.d/cobblerd start /etc/init.d/cobblerd restart cobbler check 配置cp /etc/cobbler/settings{,.bak} sed -i &#39;s/server:127.0.01/server: 192.168.198.10/&#39; /etc/cobbler/settings sed -i &#39;s/next_server:127.0.0.1/next_server: 192.168.198.10/&#39; /etc/cobbler/settings sed -i &#39;s/manage_dhcp: 0/manage_dhcp: 1/&#39; /etc/cobbler/settings sed -i &#39;s/pxe_just_once: 0/pxe_just_once: 1/&#39; /etc/cobbler/settings tftpvim /etc/xinetd.d/tftp Disable=yes 修改成 disable=no /etc/init.d/xinetd restart /etc/init.d/cobblerd restart rsynccobbler get-loaders vim /etc/xinetd.d/rsync Disable=yes 修改成 disable=no /etc/init.d/xinetd restart /etc/init.d/cobblerd restart 设置密码openssl passwd -1 -salt &#39;cobbler&#39; &#39;baidu.com@ip&#39; $1$cobbler$lkvW4zie3vvYEm.jVp0vE vim /etc/cobbler/settings default_password_crypted: &quot;$1$cobbler$lkvW4zie3vvYEm.jVp0vE.&quot; /etc/init.d/cobblerd restart cobbler check DHCPvim /etc/cobbler/dhcp.template cobbler sync 开机启动脚本cat &gt;&gt;/etc/init.d/cobbler&lt;&lt;EOF #!/bin/bash # chkconfig: 345 80 90 # description:cobbler ./etc/init.d/functions case \\$1 in start) /etc/init.d/httpd start /etc/init.d/xinetd start /etc/init.d/dhcpd start /etc/init.d/cobblerd start ;; stop) /etc/init.d/httpd stop /etc/init.d/xinetd stop /etc/init.d/dhcpd stop /etc/init.d/cobblerd stop ;; restart) /etc/init.d/httpd restart /etc/init.d/xinetd restart /etc/init.d/dhcpd restart /etc/init.d/cobblerd restart ;; status) /etc/init.d/httpd status /etc/init.d/xinetd status /etc/init.d/dhcpd status /etc/init.d/cobblerd status ;; sync) cobbler sync ;; *) echo &quot;Input error,please in put &#39;start|stop|restart|status|sync&#39;!&quot; exit 2 ;; esac EOF chmod +x /etc/init.d/cobbler chkconfig cobbler on cobbler命令cobbler import –help 导入镜像 cobbler check 核对当前设置是否有问题 cobbler list 列出所有的 cobbler 元素 cobbler report 列出元素的详细信息 cobbler sync 同步配置到数据目录,更改配置最好都要执行下 cobbler reposync 同步 yum 仓库 cobbler distro 查看导入的发行版系统信息 cobbler system 查看添加的系统信息 cobbler profile 查看配置信息 挂载镜像源mount /dev/cdrom /mnt/ cobbler import --path=/mnt/ --name=CentOS6.5-x86_64 --arch=x86_64 --name 为安装源定义一个名字 --arch 指定安装源是 32 位、64 位、ia64, 目前支持的选项有: x86│x86_64│ ia64 安装源的唯一标示就是根据 name 参数来定义，本例导入成功后，安装源的唯一标示 就是：CentOS-7.1-x86_64，如果重复，系统会提示导入失败 查看镜像列表cobbler distro list CentOS-6.5-x86_64 镜像存放目录，cobbler 会将镜像中的所有安装文件拷贝到本地一份，放在 /var/www/cobbler/ks_mirror 下的 CentOS-7.1-x86_64 目录下。因此 /var/www/cobbler 目录必须具有足够容纳安装文件的空间 ls /var/www/cobbler/ks_mirror/ CentOS-6.5-x86_64 config ks.cfg文件 # Cobbler 的 ks.cfg 文件存放位置自己写好的上传到/var/lib/cobbler/kicstarts/CentOS-6.5-x86_64.cfg cat CentOS-6.5-x86_64.cfg # platform=x86, AMD64, or Intel EM64T # version=DEVEL # Firewall configuration firewall --disabled # Install OS instead of upgrade install # Use network installation url --url=$tree # repo --name=&quot;CentOS&quot; --baseurl=cdrom:sr0 --cost=100 # Root password rootpw --iscrypted $1$cobbler$lkvW4zie3vvYEm.jVp0vE. # System authorization information auth --useshadow --passalgo=sha512 # Use graphical install graphical # System keyboard keyboard us # System language lang en_US.UTF-8 # SELinux configuration selinux --disabled # Do not configure the X Window System skipx # Installation logging level # logging --level=info # Reboot after installation reboot # System timezone timezone Asia/Shanghai # Network information network --bootproto=dhcp # network --bootproto=dhcp --device=eth0 --onboot=on # System bootloader configuration bootloader --append=&quot;crashkernel=auto rhgb quiet&quot; --location=mbr -driveorder=&quot;sda&quot; # Clear the Master Boot Record zerombr # Partition clearing information clearpart --all --initlabel # Disk partitioning information part /boot --bytes-per-inode=4096 --fstype=&quot;ext4&quot; --size=300 part pv.01 --size=4096 --grow volgroup myvg --pesize=4096 pv.01 logvol swap --name=lv_swap --vgname=myvg --size=4096 logvol / --fstype=ext4 --name=lv_root --vgname=myvg --size=1 --grow %packages --nobase @core # Common tools tree nmap sysstat lrzsz dos2unix telnet vim openssh-clients wget %end %post # Create default file path mkdir -p /server/{scripts,tools,backup} # add scripts %end 在第一次导入系统镜像后，Cobbler 会给镜像指定一个默认的 kickstart 自动安装文 件在/var/lib/cobbler/kickstarts 下的 sample_end.ks 查看安装镜像文件信息 cobbler distro report Name : CentOS-6.5-x86_64 Architecture : x86_64 TFTP Boot Files : {} Breed : redhat Comment : Fetchable Files : {} Initrd : /var/www/cobbler/ks_mirror/CentOS-6.5x86_64/images/pxeboot/initrd.img Kernel : /var/www/cobbler/ks_mirror/CentOS-6.5x86_64/images/pxeboot/vmlinuz Kernel Options : {} Kernel Options (Post Install) : {} Kickstart Metadata : {&#39;tree&#39;: &#39;http://@@http_server@@/cblr/links/CentOS-6.5-x86_64&#39;} Management Classes : [] OS Version : rhel6 Owners : [&#39;admin&#39;] Red Hat Management Key : &lt;&lt;inherit&gt;&gt; Red Hat Management Server : &lt;&lt;inherit&gt;&gt; Template Files : {} # 查看指定的 profile 设置 cobbler profile report -name=CentOS-6.5-x86_64 Name : CentOS-6.5-x86_64 TFTP Boot Files : {} Comment : DHCP Tag : default Distribution : CentOS-6.5-x86_64 Enable gPXE? : 0 Enable PXE Menu? : 1 Fetchable Files : {} Kernel Options : {} Kernel Options (Post Install) : {} Kickstart : /var/lib/cobbler/kickstarts/sample_end.ks Kickstart Metadata : {} Management Classes : [] Management Parameters : &lt;&lt;inherit&gt;&gt; Name Servers : [] Name Servers Search Path : [] Owners : [&#39;admin&#39;] Parent Profile : Internal proxy : Red Hat Management Key : &lt;&lt;inherit&gt;&gt; Red Hat Management Server : &lt;&lt;inherit&gt;&gt; Repos : [] Server Override : &lt;&lt;inherit&gt;&gt; Template Files : {} Virt Auto Boot : 1 Virt Bridge : xenbr0 Virt CPUs : 1 Virt Disk Driver Type : raw Virt File Size(GB) : 5 Virt Path : Virt RAM (MB) : 512 Virt Type : kvm 编辑profile修改关联的 ks 文件 cobbler profile edit --name=CentOS6.5-x86_64 --kickstart=/var/lib/cobbler/kickstarts/CentOS-6.5-86_64.cfg cobbler sync 安装系统vim /etc/cobbler/pxe/pxedefault.template cobbler sync 定制化安装cobbler system add --name=CentOS6.5-x86_64 --mac=00:50:56:36:6B:44 --profile=CentOS-6.5-x86_64 --ipaddress=192.168.198.111 --subnet=255.255.255.0 --gateway=192.168.198.2 -interface=eth0 --static=1 --hostname=gz01-sys-map02 --nameservers=&quot;114.114.114.114 8.8.8.8&quot; 1. # --name 自定义，但不能重复 2. # 查看定义的列表 cobbler sync ###web管理 /etc/cobbler/users.conf # Web 服务授权配置文件 /etc/cobbler/users.digest # 用于 web 访问的用户名密码配置文件 cat /etc/cobbler/users.digest cobbler:Cobbler:a2d6bae81669d707b72c0bd9806e01f3 htdigest /etc/cobbler/users.digest &quot;Cobbler&quot; cobbler # 设置 Cobbler web 用户登陆密码 # 在 Cobbler 组添加 cobbler 用户，提示输入 2 遍密码确认 cobbler sync /etc/init.d/httpd restart /etc/init.d/cobblerd restart","categories":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}],"tags":[{"name":"linux","slug":"linux","permalink":"/tags/linux/"}],"keywords":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}]},{"title":"Linux分区","slug":"分区","date":"2019-07-01T12:39:00.000Z","updated":"2019-07-19T08:53:20.000Z","comments":true,"path":"2019/07/01/分区/","link":"","permalink":"/2019/07/01/分区/","excerpt":"","text":"创建分区分区后，格式化文件系统生产大量的inode blochinode bloch 用来存放元数据信息dump2fs /dev/sda 查看元数据信息超级块 记录文件系统的元数据信息 fdisk非交互式分区： echo -e &quot;n\\np\\n1\\n\\n+10M\\nn\\np\\n2\\n\\n+10M\\nw&quot;|fdisk /dev/sdb partprobe /dev/sdb 交互式分区：fdisk /dev/sdb分区主分区：1-4扩展分区：5—fdisk /dev/sdb fdisk ：改变分区表m n p q wpartprobe /dev/sdb 通知系统分区表改变 parted非交互式分区： parted /dev/sdb mklabel gpt Yes parted /dev/sdb mkpart primary 0 10 Ignore parted /dev/sdb mkpart primary linux-swap 11 21 Ignore parted /dev/sdb mkpart logical ext4 22 32 Ignore parted /dev/sdb p partprobe /dev/sdb 查看分区： parted --list swapswap 分区一般1.5内存 扩容swap分区fdisk /dev/sdb 分一个区为/dev/sdb1 mkswap /dev/sdb1 free swapon /dev/sdb1 swapoff /dev/sdb1关掉 free 文件构建swapdd if=/dev/zero of=/tmp/swap bs=1M count=128 mkswap /tmp/swap 这个是特殊文件 可以格式化变成文件系统 free 企业案例：内存100%swap在工作中，特别是java环境，程序写的有问题，会发生内存泄漏，可能会被占用 让开发改程序，临时运维加大swap。swapoff,swapon 数据库不用swap 分区格式mkfs.ext3 /dev/sdb1 分区挂载本地挂载mount /dev/sdb1 /mnt -o defaults,async,noatime,data=writeback,barrier=0 客户端挂载NFS 网络文件系统性能优化挂载mount -t nfs -o noatime,nodiratime 10.0.0.7:/data /mnt NFS 网络文件系统安全加优化挂载 mount -t nfs nosuid,noexec,nodev,noatime,nodiratime,intr,rsize=131072,\\ wsize=131072 10.0.0.7:/data /mnt mount -lf /mnt 强制卸载mount 默认挂载就很优秀 面试时可以讲一下mount 优化挂载 fstab修改错误导致系统无法启动故障修复案例维护模式或者救缓模式：mount -o remount,rw / 然后修改 /etc/fstab也可以使用 fsck /dev/sdb -y (慎用) 文件系统只读故障修复案例1）RSYNC bug2）文件系统内部自动一致性（只读） 维护模式或者救缓模式： mount -o remount,rw /大于2T就用GPT 安装xfs文件系统yum install xfsprogs kmod-xfs xfsdump xfsprogs-devel rpm -qa xfsprogs kmod-xfs xfsdump xfsprogs-devel modprobe xfs lsmod | grep xfs mkfs.xfs /dev/sdc dd if=/dev/zero of=/dev/sdc bs=1M count=100 mount -t xfs /dev/sdc /mnt 系统重新分区select /dev/sda mklabel msdos unit MiB mkpart primary ext2 1 10240 mkpart primary linux-swap 10240 12288 mkpart primary ext2 12288 32768 mkpart primary ext2 32768 288768 set 1 boot on quit bash命令行下执行如下命令vi /tos/parted.s按需求修改分区配置（如安装tlinux2.2请修改/tos/parted-tlinux2.s，两个文件格式一样修改方法一样）/tos/install.sh 相关命令dd if= of= bs= count= mkfs.ext4 swapon/swapoff /dev/sdb1 mount –t -o umount df dump2fs fsck –y parted tune2fs 监控时会用到的工具： megacli 查看raid信息 ipmitools查看硬件信息工具 resize2fs调整文件系统大小（LVM，arbd） block根据业务需要确定默认的block大小 1.大文件（大于16K）一般设置block大一点 小于1K 设置小一点2.Block 太大，例如 4K ，文件都是0.1K的，大量消耗磁盘空间，但是访问性能高3.Block 太小，例如 1K ，文件都是10000K，消耗大量磁盘IO4.企业里文件较大（一般大于4K），block 设置大一些会提升磁盘访问效率5.Ext3/ext4 文件系统，一般都设置为4K","categories":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}],"tags":[{"name":"linux","slug":"linux","permalink":"/tags/linux/"}],"keywords":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}]},{"title":"ssh","slug":"ssh","date":"2019-07-01T09:45:07.000Z","updated":"2019-07-19T08:50:58.000Z","comments":true,"path":"2019/07/01/ssh/","link":"","permalink":"/2019/07/01/ssh/","excerpt":"","text":"SSH使用ssh工具实现批量管理 创建用户所有机器创建统一用户及密码 useradd oldgirl echo 123456|passwd --stdin oldgirl id oldgirl su - oldgirl 秘钥m01创建秘钥对 ssh-keygen -t dsa 一路回车 ssh-keygen -t dsa -P &#39; &#39; -f ~/.ssh/id_dsa &gt;/dev/null 2&gt;&amp;1 非交互 公钥m01分发公钥ssh 默认端口22 ssh-copy-id -i .ssh/id_dsa.pub oldgirl@172.16.1.41 更改过的ssh端口 ssh-copy-id -i .ssh/id_dsa.pub &quot;-p 52113 oldgirl@172.16.1.41&quot; 4.测试 ssh -p 52113 oldgirl@172.16.1.41 /sbin/ifconfig eth0 不提示密码成功 ssh方案root ssh直接root ssh key 条件：允许root ssh登录 sudoerssudo提权实现没有权限用户拷贝 配置sudoers echo &quot;oldgirl ALL= NOPASSWD: /usr/bin/rsync&quot; &gt;&gt;etc/sudoers visudo -c scp -P52113 hosts oldgirl@172.16.1.41:~ 远程sudo: ssh -p 52113 -t oldgirl@172.16.1.41 sudo rsync ~/hosts /etc/hosts suid利用suid实现没有权限用户拷贝（做思路扩展了解）172.16.1.31:chmod u+s ‘which sync’知识点增加：rsync第三种基于ssh通道的用法rsync -avz hosts -e ‘ssh -p 52113’ oldgirl@172.16.1.41:~ 增量 加密 脚本脚本1#!/bin/sh ./etc/init.d/functions for n in 8 31 41 do scp -P52113 ~/hosts oldgirl@172.16.1.${n}:~ &gt;/dev/null 2&gt;&amp;1 &amp;&amp;\\ ssh -p52113 -t oldgirl@172.16.1.${n} sudo rsync ~/hosts /etc/hosts &gt;/dev/null 2&gt;&amp;1 if [$? -eq 0]:then action &quot;fenfa hosts 172.16.1.$n&quot; /bin/true else action &quot;fenfa hosts 172.16.1.$n&quot; /bin/false fi done 脚本2#!/bin/sh if [ $# -ne 2 ]:then echo &quot;USAGE:/bin/sh $0 {ARG1 ARG2}&quot; exit 1 fi ./etc/init.d/functions for n in 8 31 41 do scp -P52113 ~/$1 oldgirl@172.16.1.${n}:~ &gt;/dev/null 2&gt;&amp;1 &amp;&amp;\\ ssh -p52113 -t oldgirl@172.16.1.${n} sudo rsync ~/$1 $2 &gt;/dev/null 2&gt;&amp;1 if [ $? -eq 0 ]:then action &quot;fenfa hosts 172.16.1.$n&quot; /bin/true else action &quot;fenfa hosts 172.16.1.$n&quot; /bin/false fi done 脚本3#!/bin/sh if [ $# -ne 1]:then echo &quot;USAGE:/bin/sh $0 ARG1&quot; exit 1 fi ./etc/init.d/functions for n in 8 31 41 do echo ===== 172.16.1.$n ===== ssh -p52113 oldgirl@172.16.1.$n &quot;$1&quot; done expect工具实现自动的交互式任务expect是一门语言，需要安装 rpm -qa expectyum install expect 脚本1#!/usr/bin/expect if { $argc !=3 } { send_user &quot;usage: expect fanfa_sshkey.exp file host dir\\n&quot; exit } #define var set file [lindex $argv 0] set host [lindex $argv 1] set password &quot;123456&quot; #spawn scp /etc/hosts root@10.0.0.142:/etc/hosts #spawn scp -P52113 $file oldboy@$host:$dir spawn ssh-copy-id -i $file &quot;-p 52113 oldboy@$host&quot; expect { &quot;yes/no&quot; {send &quot;yes/r&quot;:exp_continue} &quot;*password&quot; {send &quot;$password\\r&quot;} } expect eof exit -onexit { send_user &quot;Oldboy say good bye to you!\\n&quot; } #script usage #expect oldboy-6.exp file host dir #example #./oldboy-6.exp /etc/hosts 10.0.0.179 /etc/hosts 脚本2#!/bin/sh ./etc/init.d/functions fo ip in 8 31 41 do expect fenfa_sshkey.exp ~/.ssh/id_dsa.pub $ip &gt;/dev/null 2&gt;&amp;1 if [ $? -eq 0 ]:then action &quot;$ip&quot; /bin/true else action &quot;$ip&quot; /bin/false fi done 脚本3#!/bin/sh ./etc/init.d/functions ssh-keygen -t -P &#39;&#39; -f ~/.ssh/id_dsa &gt;/dev/null 2&gt;&amp;1 for ip in 8 31 41 do expect fenfa_sshkey.exp ~/.ssh/id_dsa.pub 172.16.1.$ip &gt;/dev/null 2&gt;&amp;1 if [ $? -eq 0 ]:then action &quot;$ip&quot; /bin/true else action &quot;$ip&quot; /bin/false fi done # dis fenfa scripts for n in 8 31 41 do scp -P 52113 -rp ~/scripts oldgirl@172.16.1.$n:~ done # install service for n in 8 31 41 do ssh -t -p 52113 oldgirl@172.16.1.$n sudo /bin/bash ~/scripts/install.sh done","categories":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}],"tags":[{"name":"linux","slug":"linux","permalink":"/tags/linux/"}],"keywords":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}]},{"title":"Linux系统初始优化","slug":"系统初始化","date":"2019-06-24T11:21:02.000Z","updated":"2019-07-19T08:54:22.000Z","comments":true,"path":"2019/06/24/系统初始化/","link":"","permalink":"/2019/06/24/系统初始化/","excerpt":"","text":"装机后，需要进行系统初步的优化，优化后的系统就会显得好用轻快很多 优化SElinuxsed –i &#39;s###g&#39; /etc/selinux/config setenfore 0 getenforce iptableschkconfig iptables off /etc/init.d/iptables stop 自启服务chkconfig --list|egrep –v &quot;crond|sshd|network|rsyslog|sysstat&quot; |awk &#39;{print &quot;chkconfig&quot;,$1,&quot;off&quot;}&#39;\\ |bash sudovisudo root ALL=(ALL:ALL) ALL user ALL=(ALL) NOPASSWD: ALL 中文显示cp /etc/sysconfig/i18n /etc/sysconfig/i18n.ori echo &#39;LANG=&quot;zh_CN.UTF-8&quot;&#39; &gt;/etc/sysconfig/i18n source /etc/sysconfig/i18n LANG=en 定时任务时间同步 yum install –y ntpdate ntpdate ntp1.aliyun.com 加入定时任务：每5分钟同步时间 命令行历史echo &#39;export TMOUT=300&#39; &gt;&gt;/etc/profile echo &#39;export HISTSIZE=5&#39; &gt;&gt;/etc/profile echo &#39;export HISTFILESIZE=5&#39; &gt;&gt;/etc/profile tail -3 /etc/profile 内核调优cat&gt;&gt;/etc/sysctl.conf&lt;&lt;EOF net.ipv4.tcp_syn_retries = 1 net.ipv4.tcp_synack_retries = 1 net.ipv4.tcp_keepalive_time = 600 net.ipv4.tcp_keepalive_probes = 3 net.ipv4.tcp_keepalive_intvl =15 net.ipv4.tcp_retries2 = 5 net.ipv4.tcp_fin_timeout = 2 net.ipv4.tcp_max_tw_buckets = 36000 net.ipv4.tcp_tw_recycle = 1 net.ipv4.tcp_tw_reuse = 1 net.ipv4.tcp_max_orphans = 32768 net.ipv4.tcp_syncookies = 1 net.ipv4.tcp_max_syn_backlog = 16384 net.ipv4.tcp_wmem = 8192 131072 16777216 net.ipv4.tcp_rmem = 32768 131072 16777216 net.ipv4.tcp_mem = 786432 1048576 1572864 net.ipv4.ip_local_port_range = 1024 65000 net.ipv4.ip_conntrack_max = 65536 net.ipv4.netfilter.ip_conntrack_max=65536 net.ipv4.netfilter.ip_conntrack_tcp_timeout_established=180 net.core.somaxconn = 16384 net.core.netdev_max_backlog = 16384 vm.swappiness=10 EOF 其他安装telnet：yum install –y telnet 域名解析：/etc/hosts 网卡MAC清空配置 放到rc.local echo &quot;&gt; /etc/udev/rules.d/70-persistent-net.rules&quot; &gt;&gt;/etc/rc.loal /etc/yum.conf 配置：keepcache=1 在线安装的包可以缓存到本地 脚本#!/bin/bash #####you hua by panph##### ####stop selinux#### sed -i &#39;s#SELINUX=enforcing#SELINUX=disable#g&#39; /etc/selinux/config setenforce 0 getenforce ####stop iptables#### /etc/init.d/iptables stop chkconfig iptables off ####chkconfig#### chkconfig --list | grep -vE &quot;^crond|network|rsyslog|sysstat|sshd&quot;|awk &#39;{print&quot;chkconfig&quot;,$1,&quot;off&quot;}&#39;\\ |bash chkconfig --list | grep 3:on ####visudo#### echo &quot;root ALL=(ALL) NOPASSWD: ALL&quot; &gt;&gt;/etc/sudoers ####Chinese#### cp /etc/sysconfig/i18n /etc/sysconfig/i18n.ori echo &#39;LANG=&quot;zh_CN.UTF-8&quot;&#39; &gt;/etc/sysconfig/i18n source /etc/sysconfig/i18n LANG=en ####ntpdate#### yum install ntpdate -y ntpdate ntp1.aliyun.com echo &quot;*/5 * * * * /usr/sbin/ntpdate ntp1.aliyun.com&quot; &gt;/var/spool/cron/root ####history#### echo &#39;export TMOUT=300&#39; &gt;&gt;/etc/profile echo &#39;export HISTSIZE=5&#39; &gt;&gt;/etc/profile echo &#39;export HISTFILESIZE=5&#39; &gt;&gt;/etc/profile tail -3 /etc/profile ####kernel#### cat&gt;&gt;/etc/sysctl.conf&lt;&lt;EOF net.ipv4.tcp_syn_retries = 1 net.ipv4.tcp_synack_retries = 1 net.ipv4.tcp_keepalive_time = 600 net.ipv4.tcp_keepalive_probes = 3 net.ipv4.tcp_keepalive_intvl =15 net.ipv4.tcp_retries2 = 5 net.ipv4.tcp_fin_timeout = 2 net.ipv4.tcp_max_tw_buckets = 36000 net.ipv4.tcp_tw_recycle = 1 net.ipv4.tcp_tw_reuse = 1 net.ipv4.tcp_max_orphans = 32768 net.ipv4.tcp_syncookies = 1 net.ipv4.tcp_max_syn_backlog = 16384 net.ipv4.tcp_wmem = 8192 131072 16777216 net.ipv4.tcp_rmem = 32768 131072 16777216 net.ipv4.tcp_mem = 786432 1048576 1572864 net.ipv4.ip_local_port_range = 1024 65000 net.ipv4.ip_conntrack_max = 65536 net.ipv4.netfilter.ip_conntrack_max=65536 net.ipv4.netfilter.ip_conntrack_tcp_timeout_established=180 net.core.somaxconn = 16384 net.core.netdev_max_backlog = 16384 vm.swappiness=10 EOF tail /etc/sysctl.conf /sbin/sysctl –p ####ji chu cheng xu#### yum install telnet lrzsz nmap dos2unix vim -y ####mac clear#### echo &quot;&gt;/etc/udev/rules.d/70-persistent-net.rules&quot; &gt;&gt;/etc/rc.local","categories":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}],"tags":[{"name":"linux","slug":"linux","permalink":"/tags/linux/"}],"keywords":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}]},{"title":"nfs存储","slug":"nfs","date":"2019-06-24T06:45:33.000Z","updated":"2019-07-19T08:48:48.000Z","comments":true,"path":"2019/06/24/nfs/","link":"","permalink":"/2019/06/24/nfs/","excerpt":"","text":"NFS功能：就是可以通过网络，让不同的机器、不同的操作系统可以共享彼此的文件，将网络中的NFS服务器共享的目录挂载到本地端的文件系统中 基础软件安装：yum install lrzsz nmap tree dos2unix nc -y 服务端: yum install nfs-utils rpcbind –y 客户端最好都要安装 /etc/init.d/rpcbind restart 先启动rpcbind服务，后起nfs rpcinfo –p localhost 查看rpc情况，RPC后台进程是为NFS提供服务的 服务端配置rpcbindrpcbind 服务先起来 后起nfs 服务 所以开机按以上顺序 不然会报错 nfs配置开机自启动 chkconfig rpcbind on chkconfig nfsd on 所以一般会写在 rc.local 开机读取 /etc/init.d/rpcbind start &gt;&gt;/etc/rc.local /etc/init.d/nfs start &gt;&gt;/etc/rc.local 创建 /data 目录 修改目录权限：chown –R nfsnobodly. nfsnobodly /data 配置文档：/etc/exports 默认是空的 可以选择 man /etc/exports vi /etc/exports ###注释### /data 172.16.1.0/24(rw,sync) 如果不是大并发的就用 sync 否则 async 可以共享多个目录/data 172.16.1.0/24(rw,sync) /data1 172.16.1.0/24(rw,sync, all_squash,anonuid=888,anougid=888) 所以所有需要访问的客户端都要创建 uid=888 的用户 不登录 不创建家目录 然后把/data1 权限修改：chown –R /data1 检查showmount –e 172.16.1.31 检查自身情况 提示：Export list for 172.16.1.31: /data 172.16.1.0/24说明已配置成功了 参数详细man /etc/exprots 参数 rw sync async all_squash 访问目录的用户身份，它的权限压缩成固定的匿名用户（UID 相同） 查看配置 nfscat /var/lib/nfs/etab 查看配置及默认参数 重启命令建议使用 reload 客户端配置/etc/init.d/rpcbind start showmount –e 172.16.1.31 mount –t nfs 172.16.1.31:/data /mnt 挂着启动放到 rc.local 里面：都是网络服务先启来 再挂载 所以一般不建议写在 fstab echo &quot;mount –t nfs 172.16.1.31:/data /mnt&quot; &gt;&gt;/etc/rc.loacl 如果要放到 fstab 的话启动netfs服务","categories":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}],"tags":[{"name":"linux","slug":"linux","permalink":"/tags/linux/"}],"keywords":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}]},{"title":"sersync","slug":"sersync","date":"2019-06-24T06:05:00.000Z","updated":"2019-07-19T08:49:40.000Z","comments":true,"path":"2019/06/24/sersync/","link":"","permalink":"/2019/06/24/sersync/","excerpt":"","text":"简述sersync 基于inotify开发出来的 可以实时监控目录中发生的变化(增加，删除，修改)的某个文件或者目录，结合rsync同步 inotify没有具体细化显示哪个文件或者目录发生变化 安装下载二进制安装： ls sersync confxml.xml sersync 启动文件：sersync配置文件：confxml.xml &lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt; &lt;head version=&quot;2.5&quot;&gt; &lt;host hostip=&quot;localhost&quot; port=&quot;8008&quot;&gt;&lt;/host&gt; &lt;debug start=&quot;false&quot;/&gt; &lt;fileSystem xfs=&quot;false&quot;/&gt; &lt;filter start=&quot;false&quot;&gt; &lt;exclude expression=&quot;(.*)\\.svn&quot;&gt;&lt;/exclude&gt; &lt;exclude expression=&quot;(.*)\\.gz&quot;&gt;&lt;/exclude&gt; &lt;exclude expression=&quot;^info/*&quot;&gt;&lt;/exclude&gt; &lt;exclude expression=&quot;^static/*&quot;&gt;&lt;/exclude&gt; &lt;/filter&gt; &lt;inotify&gt; //inotify监控的事件可以增加 &lt;delete start=&quot;true&quot;/&gt; &lt;createFolder start=&quot;true&quot;/&gt; &lt;createFile start=&quot;false&quot;/&gt; &lt;closeWrite start=&quot;true&quot;/&gt; &lt;moveFrom start=&quot;true&quot;/&gt; &lt;moveTo start=&quot;true&quot;/&gt; &lt;attrib start=&quot;false&quot;/&gt; &lt;modify start=&quot;false&quot;/&gt; &lt;/inotify&gt; &lt;sersync&gt; &lt;localpath watch=&quot;/opt/tongbu&quot;&gt; //服务器端的模块 &lt;remote ip=&quot;127.0.0.1&quot; name=&quot;tongbu1&quot;/&gt; &lt;!--&lt;remote ip=&quot;192.168.8.39&quot; name=&quot;tongbu&quot;/&gt;--&gt; &lt;!--&lt;remote ip=&quot;192.168.8.40&quot; name=&quot;tongbu&quot;/&gt;--&gt; &lt;/localpath&gt; &lt;rsync&gt; &lt;commonParams params=&quot;-artuz&quot;/&gt; &lt;auth start=&quot;false&quot; users=&quot;root&quot; passwordfile=&quot;/etc/rsync.pas&quot;/&gt; &lt;userDefinedPort start=&quot;false&quot; port=&quot;874&quot;/&gt;&lt;!-- port=874 --&gt; &lt;timeout start=&quot;false&quot; time=&quot;100&quot;/&gt;&lt;!-- timeout=100 --&gt; &lt;ssh start=&quot;false&quot;/&gt; &lt;/rsync&gt; &lt;failLog path=&quot;/tmp/rsync_fail_log.sh&quot; timeToExecute=&quot;60&quot;/&gt;&lt;!--default every 60mins execute once--&gt; &lt;crontab start=&quot;false&quot; schedule=&quot;600&quot;&gt;&lt;!--600mins--&gt; &lt;crontabfilter start=&quot;false&quot;&gt; &lt;exclude expression=&quot;*.php&quot;&gt;&lt;/exclude&gt; &lt;exclude expression=&quot;info/*&quot;&gt;&lt;/exclude&gt; &lt;/crontabfilter&gt; &lt;/crontab&gt; &lt;plugin start=&quot;false&quot; name=&quot;command&quot;/&gt; &lt;/sersync&gt; &lt;plugin name=&quot;command&quot;&gt; &lt;param prefix=&quot;/bin/sh&quot; suffix=&quot;&quot; ignoreError=&quot;true&quot;/&gt; &lt;!--prefix /opt/tongbu/mmm.sh suffix--&gt; &lt;filter start=&quot;false&quot;&gt; &lt;include expression=&quot;(.*)\\.php&quot;/&gt; &lt;include expression=&quot;(.*)\\.sh&quot;/&gt; &lt;/filter&gt; &lt;/plugin&gt; &lt;plugin name=&quot;socket&quot;&gt; &lt;localpath watch=&quot;/opt/tongbu&quot;&gt; &lt;deshost ip=&quot;192.168.138.20&quot; port=&quot;8009&quot;/&gt; &lt;/localpath&gt; &lt;/plugin&gt; &lt;plugin name=&quot;refreshCDN&quot;&gt; &lt;localpath watch=&quot;/data0/htdocs/cms.xoyo.com/site/&quot;&gt; &lt;cdninfo domainname=&quot;ccms.chinacache.com&quot; port=&quot;80&quot; username=&quot;xxxx&quot; passwd=&quot;xxxx&quot;/&gt; &lt;sendurl base=&quot;http://pic.xoyo.com/cms&quot;/&gt; &lt;regexurl regex=&quot;false&quot; match=&quot;cms.xoyo.com/site([/a-zA-Z0-9]*).xoyo.com/images&quot;/&gt; &lt;/localpath&gt; &lt;/plugin&gt; &lt;/head&gt; 小结1.内核版本要支持inotify 2.优化 ls /proc/sys/fs/inotify/max_ max_queued_events max_user_instances max_user_watches 3.参数./sersync –h 查看参数选项 4.开机启动sersync -d -r -n 8 -o confxml.xml 可以写到rc.local开机启动 -n 启用线程数量-d daemon方式启动-o 指定配置文件 优缺点1.rsync+inotify-tools a、inotify只能记录下被监听的目录发生了变化（增，删，改）并没有把具体是哪个文件或者哪个目录发生了变化记录下来； b、rsync在同步的时候，并不知道具体是哪个文件或目录发生了变化，每次都是对整个目录进行同步，当数据量很大时，整个目录同步非常耗时（rsync要对整个目录遍历查找对比文件），因此效率很低 2.rsync+sersync a、sersync可以记录被监听目录中发生变化的（增，删，改）具体某个文件或目录的名字； b、rsync在同步时，只同步发生变化的文件或目录（每次发生变化的数据相对整个同步目录数据来说很小，rsync在遍历查找对比文件时，速度很快），因此效率很高。 总结： 当同步的目录数据量不大时，建议使用rsync+inotify 当同步的目录数据量很大时（几百G甚至1T以上）文件很多时，建议使用rsync+sersync","categories":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}],"tags":[{"name":"linux","slug":"linux","permalink":"/tags/linux/"}],"keywords":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}]},{"title":"inotify","slug":"inotify","date":"2019-06-24T02:04:28.000Z","updated":"2019-07-19T08:45:18.000Z","comments":true,"path":"2019/06/24/inotify/","link":"","permalink":"/2019/06/24/inotify/","excerpt":"","text":"实时同步模式：inotify+rsync 项目案列里程碑(1)a.实现从nfs客户端到rsync服务端的rsync服务部署共享存储实时备份（共享存储的单点解决方案） 里程碑(2)b.实现从nfs客户端对nfs目录文件系统事件的实时监控 里程碑(3)c.当监控到nfs目录文件系统事件变化后，触发rsync推送变化文件 nfs客户端配置inotify工具 由于它是epel源 #cd /etc/yum.repos.d #wget http://mirrors.ailyun.com/repo/epel-6.repo #yum intsall inotify-tools -y 脚本1#!/bin/bash Path=/data Ip=172.16.1.41 /usr/bin/inotifywait -mrq --format &#39;%w%f&#39; -e close_write,delete /backup \\ |while read file do if [ -f $file ]:then rsync -az $file --delete rysnc_backup@172.16.1.41::backup --password-file=/etc/rsync.password else cd $Path &amp;&amp;\\ rsync -az ./ --delete rysnc_backup@172.16.1.41::backup --password-file=/etc/rsync.password fi done 脚本2创建syncd启动脚本 #!/bin/bash #####zhushi##### #chkconfig:2345 38 46 ./etc/init.d/functions if [ $# -ne 1]:then usage: $0 {start|stop} exit 1 fi case &quot;$1&quot; in start) /bin/bash /server/scripts/inotify.sh &amp; echo $$ &gt;/var/run/inotify.pid if [ `ps -ef|grep inotify|wc -l` -gt 2]:then action &quot;inotify service is started&quot; /bin/true else action &quot;inotify service is started&quot; /bin/false fi :: stop) kill -9 `cat /var/run/inotify.pid` &gt;/dev/null 2&gt;&amp;1 pkill inotifywait sleep 2 if [ `ps -ef|grep inotify|grep -v grep|wc -l` -eq 0 ]:then action &quot;inotify service is stopped&quot; /bin/true else action &quot;inotify service is stopped&quot; /bin/false fi :: *) usage: $0 {start|stop} exit 1 esac 优化#ls /proc/sys/fs/inotify/ max_user_watches max_queued_events max_user_instances 一般修改这两个文件后重启会失效 所以一般放在rc.load里面 echo 655350 &gt;/proc/sys/fs/inotify/max_user_watches echo 655350 &gt;/proc/sys/fs/inotify/max_queued_events max_user_instances 设置每个用户运行inotifywait 或 inotifywatch命令的进程数max_user_watches 设置inotifywait 或 inotifywatch可以监视文件的数量（单进程）max_queued_events 设置inotify实例事件（events）队列可容纳的事件数量 压力测试工具：ab ,sieqe ,JMeter,Webbench.LoadRunner,htrp_load，tcpcopy 优点1）监控文件系统事件变化，通过同步工具实现实时数据同步 缺点1）并发如果大于200个文件（10-100K），同步就会有延迟2）我们前面写的脚本，每次都是全部推送一次，但确实是增量的，也可以只同步变化的文件，不变化的不理3）监控到事件后，调用rsync同步是单进程（加&amp;并发），sersync多进程 sersync1）支持配置文件管理2）真正的守护进程sochet3）可以对失败文件定时重传（定时任务功能）4）第三方的HTTP接口（列如更新CDN缓存）5）默认多线程rsync同步","categories":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}],"tags":[{"name":"linux","slug":"linux","permalink":"/tags/linux/"}],"keywords":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}]},{"title":"rsync备份","slug":"Linux备份服务器","date":"2019-06-23T10:52:07.000Z","updated":"2019-07-19T08:46:10.000Z","comments":true,"path":"2019/06/23/Linux备份服务器/","link":"","permalink":"/2019/06/23/Linux备份服务器/","excerpt":"","text":"rsync图解 安装： yum install rsync客户端不需要启动 rsync服务端启动 rsync –deamon 备份方案cron + rsync :定时同步备份（定时任务）sersync+rsync :实时同步备份 Rsync :支持全量和增量备份,一般客户端有啥服务端有啥 Rsync端口：873 rsync参数Rsync : 参数选择 常用组合：-vza -za不输出 -v 模式输出 -z 压缩 -a &gt;&gt;包含：-rtopg Dl -r 递归 -t 保持文件时间信息 -o 保持文件属主信息 -p 保持文件权限 -g 保持文件属组 –delet -D 保持设备文件信息 -l 保持软链接 rsync命令rsync –vza /tmp /mnt rsync –vza /tmp/ /mnt/ rsync –vza /etc/hosts –e ‘ssh –p 22’ root@10.0.0.1:/mnt rsync模式服务端：本地模式客户端：通道模式 &gt;&gt;&gt; 配合ssh key 使用 daemon模式rsync 服务端的配置：daemon 1.查看 rsync 安装包rpm -qa rsync : 没有 yum -y 2.添加rsync服务的用户，管理本地目录 useradd -s /sbin/nologin -M rsync id rsync 3.生成 rsync.conf 配置文件: vi /etc/rsync.conf 放入事先准备的配置。可以 man rsync.conf 查看 4.根据 man rsync.conf 里面的参数进行配置： auth users 参数配置账户，用来远程连接 secrets file 参数生产密码文件:（见第二页） echo &quot;rsync_backup:oldboy&quot; &gt;/etc/rsync.password cat /etc/rsync.password 5.加入开机自启动 6.为密码文件配置权限 chmod 600 /etc/rsync.password ls -l /etc/rsync.password 7.创建贡献目录并授权 rsync 服务管理mkdir /backup -p chwon -R rsync.rsync /backup -R 参数修改目录及目录下的所以文件 如果没有 /backup 目录，就会报错：chdir failed 8.启动rsync服务并检查 rsync --daemon ps -ef|grep rsync|grep -v rsync echo &quot;/usr/bin/rsync --daemon&quot; &gt;&gt;/etc/rc.local tail -1 /etc/rc.local daemon模式：rsync+vpn(pptp,openvpn,ipsec) 配置rsyncvi /etc/rsyncd.conf rsync.confuid = rsync 用户远端命令使用rsync访问共享目录 lock file = /var/run/rsync.lock 锁文件 gid = rsync use chroot = on 安全相关 max connections = 200 最大连接数 timeout = 300 超时时间 pid file = /var/run/rsyncd.pid 进程对应的进程号文件 log file = /var/log/rsyncd.log 日志文件 [backup] 模块名称 path = /backup 服务器提供访问的目录 ignore errors 忽略错误 read only = false 可写 list = false 不能列表 hosts allow = 172.16.1.0/24 #hosts deny = 0.0.0.0/32 IP控制：allow 与 deny 选择开一个 auth users = rsync_backup secrets file = /etc/rsync.password ###多模块配置把密码用户放到模块名称上面 可以共享密码用户配置客户端配置：创建密码文件：修改文件权限 echo &quot;oldboy&quot; &gt;/etc/rsync.password chomd 600 /etc/rsync.password mkdir –p /backup 本地临时备份的目录 使用命令进行备份两种命令选一种 rsync –avz /backup/ rsync_backup@172.16.1.14::backup --password-file=/etc/rsync.password rsync –avz /backup/ rsync://rsync_backup@172.16.1.14/backup/--password-file=/etc/rsync.password 小结熟练部署过程 停止服务：pkillrsync开启服务：rsync –daemon 排错： 1，看输出 2，日志分析：tail -1 /var/log/rsyncd.log 脚本1服务端rsync脚本： #!/bin/bash ###rsync### rpm -qa rsync yum install rsync -y useradd -s /sbin/nologin -M rsync cat&gt;&gt;/etc/rsyncd.conf&lt;&lt;EOF gid = rsync uid = rsync use chroot = on max connections = 200 timeout = 300 pid file = /var/run/rsyncd.pid lock file = /var/run/rsync.lock log file = /var/log/rsyncd.log [backup] auth users = rsync_backup path = /backup ignore errors read only = false list = false hosts allow = 172.16.1.0/24 #hosts deny = 0.0.0.0/32 secrets file = /etc/rsync.password ###end## EOF echo &quot;rsync_backup:oldboy&quot; &gt;/etc/rsync.password mkdir -p /backup chown -R rsync.rsync /backup ls -ld /backup chmod 600 /etc/rsync.password pkill rsync rsync --daemon echo &quot;/usr/bin/rsync --daemon&quot; &gt;&gt;/etc/rc.local tail -1 /etc/rc.local 脚本2#!/bin/sh echo &quot;oldboy&quot; &gt;/etc/rsync.password chmod 600 /etc/rsync.password mkdir -p /backup","categories":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}],"tags":[{"name":"linux","slug":"linux","permalink":"/tags/linux/"}],"keywords":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}]},{"title":"wordpress美化之看板娘live2d","slug":"wordpress加入看板娘ive2d","date":"2019-06-16T12:47:55.000Z","updated":"2019-09-21T06:38:10.000Z","comments":true,"path":"2019/06/16/wordpress加入看板娘ive2d/","link":"","permalink":"/2019/06/16/wordpress加入看板娘ive2d/","excerpt":"","text":"wordpress主题页面展示插入看板娘live2D 效果展示 下载https://github.com/panpeihui/live2/tree/master/live2d 把live2d.zip包上传解压到wordpress/wp-content/themes/安装的主题目录/ 解压提取以下文件及目录 assets demo.html live2d mv .* /wordpress/wp-content/themes/安装的主题目录/ 修改文件vim assets/waifu-tips.js 233 loadlive2d(&#39;live2d&#39;, &#39;./live2d/get/?id=&#39;+modelId+&#39;-&#39;+modelTextur esId, console.log(&#39;live2d&#39;,&#39;模型 &#39;+modelId+&#39;-&#39;+modelTexturesId+&#39; 加&gt; 载完成&#39;)); 244 url: &#39;./live2d/&#39;+modelTexturesRandMode+&#39;_textures/?id=&#39;+mode lId+&#39;-&#39;+modelTexturesId, 264 url: &#39;./live2d/&#39;+modelTexturesRandMode+&#39;/?id=&#39;+modelId, 把./live2d修改成绝对路径，不然会报错列如：/wp-content/themes/xxx/assets/live2d XXX为主题文件目录 vim demo.html &lt;script type=&quot;text/javascript&quot; src=&quot;./assets/jquery.min.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;./assets/waifu-tips.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;./assets/live2d.js&quot;&gt;&lt;/script&gt; 把 assets也修改成绝对路径 列如：/wp-content/themes/xxx/assets这样就可以访问demo.html检查看板娘是否可以正常食用https://hostname/wp-content/themes/xxx/demo.html结合浏览器F12检查报错信息进行修改，一般是路径问题 接下来就可以把demo.html代码复制到主题安装目录下的header.php html插入代码head标签vim header.php &lt;head&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/wp-content/themes/xxx/assets/waifu.css&quot;&gt; &lt;script src=&quot;/wp-content/themes/xxx/assets/jquery.min.js&quot;&gt;&lt;/script&gt; &lt;/head&gt; boby标签# vim footer.php &lt;div class=&quot;waifu&quot;&gt; &lt;div class=&quot;waifu-tips&quot;&gt;&lt;/div&gt; &lt;canvas id=&quot;live2d&quot; width=&quot;280&quot; height=&quot;250&quot; class=&quot;live2d&quot;&gt;&lt;/canvas&gt; &lt;div class=&quot;waifu-tool&quot;&gt; &lt;!span class=&quot;fui-home&quot;&gt;&lt;/span&gt; //!是注释 不启用该行代码 &lt;span class=&quot;fui-chat&quot;&gt;&lt;/span&gt; &lt;!span class=&quot;fui-eye&quot;&gt;&lt;/span&gt; &lt;span class=&quot;fui-user&quot;&gt;&lt;/span&gt; &lt;!span class=&quot;fui-photo&quot;&gt;&lt;/span&gt; &lt;!span class=&quot;fui-info-circle&quot;&gt;&lt;/span&gt; &lt;!span class=&quot;fui-cross&quot;&gt;&lt;/span&gt; &lt;/div&gt; &lt;/div&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;/wp-content/themes/xxx/assets/waifu-tips.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;/wp-content/themes/xxx/assets/live2d.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;/wp-content/themes/xxx/assets/jquery.min.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot;&gt;initModel(&quot;/wp-content/themes/xxx/assets/&quot;)&lt;/script&gt; 这样就可以在网站主题里显示看板娘live2d了如果不行结合浏览器F12控制台检查报错，一般是路径问题 简单上手 提问：为什么做出来的看板娘跟我的不一样？ 回复：当然啦！ 还有另一种方法 插件方式安装https://github.com/panpeihui/Poilive2d 下载插件不需要解压 报错提示在网站后台进行插件安装会提示：The uploaded file exceeds the upload_max_filesize directive in php.ini 报错解决find / -type f -name &quot;php.ini&quot; vim /xxx/php.ini upload_max_filesize = 2M 例如：修改成32M post_max_size = 8M 例如：修改成32M #/etc/init.d/httpd restart 然后在进行安装插件，刷新网页就Okey了 安装插件及主题提示Ftp或者权限问题解决方法： cd /wordpress cd /wp-content/themes/ mkidr tmp chmod -R 777 tmp chmod -R 777 wp-content vim wp-config.php 在后面插入内容 define(&#39;WP_TEMP_DIR&#39;, ABSPATH.&#39;wp-content/tmp&#39;); define(&quot;FS_METHOD&quot;, &quot;direct&quot;); define(&quot;FS_CHMOD_DIR&quot;, 0777); define(&quot;FS_CHMOD_FILE&quot;, 0777); 这样就完美解决权限问题，食用流畅","categories":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}],"tags":[{"name":"wordpress","slug":"wordpress","permalink":"/tags/wordpress/"}],"keywords":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}]},{"title":"正则表达式","slug":"zhengze","date":"2019-06-16T12:47:55.000Z","updated":"2019-07-21T13:41:48.000Z","comments":true,"path":"2019/06/16/zhengze/","link":"","permalink":"/2019/06/16/zhengze/","excerpt":"","text":"通配符归纳常用的： * ？ = | &gt; &lt; &amp; ; &amp;&amp; || ! \\ &quot;&quot; &#39;&#39; 命令经常会用到这些！ 正则表达式： 正则比通配要复杂的多，经常会用在文本过滤工具：vi grep sed awk ^ $ . [] ? * + {n} {n,} {n,m} grep grep 文本过滤 [^] \\&lt; \\&gt; x\\{n} x\\{n,} x\\{n,m} grep 命令参数： `-v -w -E` egrep 支持扩展正则表达式 + ? a|b|c () sed sed sed 参数 一般使用 -n 只显示输出匹配到的结果 -i 修改文件 常用格式： sed -i &#39;s###gp&#39; flie sed -n &#39;2,3p&#39; flie sed &#39;/^$/d&#39; flie 待完善.... awk awkawk是一门很棒的的语音，很强大！ 支持posix正则表达 /正则表达式-开始/,/正则结束/$1~/正则表达式-开始/,$3~/正则结束/列如： awk --posix &#39;$1~/^(http|https|ftp|telent|ssh|rsync|dns|mysql)$/{print$0}&#39; 区域：FS刀分隔 –&gt; NF区域数量记录：RS刀分隔 –&gt; NR 记录行号 NR==1 ]# ifconfig eth0| awk -F [&quot; &quot;:]+ &#39;NR==2{print $4}&#39; BEGIN和END模块 ]# ifconfig eth0|awk &#39;BEGIN{FS=&quot;[[:space:]:]+&quot;} NR==2{print $4} for while if 循环语句 netstat -an|awk &#39;/^tcp/{++s[$NF]}END{for(a in s)print a,s[a]}&#39;","categories":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}],"tags":[{"name":"linux","slug":"linux","permalink":"/tags/linux/"}],"keywords":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}]}]}